#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ПрограммныйИнтерфейс

// Проверяет наличие отмененных ручных корректровок плана производства.
//
// Параметры:
//  План - ДокументСсылка.ПланЗакупок, ДокументСсылка.ПланСборкиРазборки, ДокументСсылка.ПланПроизводства - документ для проверки.
// 
// Возвращаемое значение:
//  Булево - Истина если по плану производства имеются отмененные корректировки.
//
Функция ЕстьОтмененныеКорректировки(План) Экспорт
	
	УстановитьПривилегированныйРежим(Истина);
	
	Запрос = Новый Запрос(
		"ВЫБРАТЬ ПЕРВЫЕ 1
		|	ОтменаКорректировокПлановОбеспечения.План КАК План
		|ИЗ
		|	РегистрСведений.ОтменаКорректировокПлановОбеспечения КАК ОтменаКорректировокПлановОбеспечения
		|ГДЕ
		|	ОтменаКорректировокПлановОбеспечения.План = &План");
	
	Запрос.УстановитьПараметр("План", План);
	
	РезультатЗапроса = Запрос.Выполнить();
	
	УстановитьПривилегированныйРежим(Ложь);
	
	Возврат НЕ РезультатЗапроса.Пустой();
	
КонецФункции

#КонецОбласти

#КонецЕсли
///////////////////////////////////////////////////////////////////////////////////////////////////////
// Copyright (c) 2024, ООО 1С-Софт
// Все права защищены. Эта программа и сопроводительные материалы предоставляются 
// в соответствии с условиями лицензии Attribution 4.0 International (CC BY 4.0)
// Текст лицензии доступен по ссылке:
// https://creativecommons.org/licenses/by/4.0/legalcode
///////////////////////////////////////////////////////////////////////////////////////////////////////

#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)

	Элементы.КатегорияНовостей.СписокВыбора.ЗагрузитьЗначения(ДоступныеКатегорииНовостейЛентыНовостей(Запись.ЛентаНовостей));

КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

// Функция возвращает массив доступных категорий для ленты новостей.
// 
// Параметры:
//  ЛокальнаяЛентаНовостей - СправочникСсылка.ЛентыНовостей.
//
// Возвращаемое значение:
//  Массив.
//
&НаСервереБезКонтекста
Функция ДоступныеКатегорииНовостейЛентыНовостей(Знач ЛокальнаяЛентаНовостей)

	Результат = ОбработкаНовостейПовтИсп.ДоступныеКатегорииНовостейЛентыНовостей(ЛокальнаяЛентаНовостей);

	Возврат Результат;

КонецФункции

&НаКлиенте
Процедура ЛентаНовостейПриИзменении(Элемент)

	Элементы.КатегорияНовостей.СписокВыбора.ЗагрузитьЗначения(ДоступныеКатегорииНовостейЛентыНовостей(Запись.ЛентаНовостей));

КонецПроцедуры

#КонецОбласти

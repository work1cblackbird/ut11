#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ОбработчикиСобытий

Процедура ПриЗаписи(Отказ, Замещение)
	
	Если ОбменДанными.Загрузка = Истина Тогда
		Возврат;
	КонецЕсли;
	
	Если Количество() > 0 Тогда
		Если ОбщегоНазначения.ПодсистемаСуществует("ЭлектронноеВзаимодействие.ОбменСГИСЭПД.СервисВзаимодействияМПЭПД") Тогда
			МодульСервисВзаимодействияМПЭПДВызовСервера = ОбщегоНазначения.ОбщийМодуль("СервисВзаимодействияМПЭПДВызовСервера");
				
			МассивНастроек = ОбменСГИСЭПДКлиентСервер.ТаблицаВМассивСтруктур(Выгрузить());	
			МодульСервисВзаимодействияМПЭПДВызовСервера.СервисОтправитьНастройкиДополнительныхПолей(МассивНастроек);
		КонецЕсли;
	КонецЕсли;
	
КонецПроцедуры

Процедура ПередЗаписью(Отказ, Замещение)
	
	Если ОбменДанными.Загрузка = Истина Тогда
		Возврат;
	КонецЕсли;
	
	Для Каждого Запись Из ЭтотОбъект Цикл
		Если ЗначениеЗаполнено(Запись.ИдентификаторНастройки) = Ложь Тогда
			Запись.ИдентификаторНастройки = Строка(Новый УникальныйИдентификатор());	
		КонецЕсли;
КонецЦикла;

КонецПроцедуры


#КонецОбласти

#КонецЕсли

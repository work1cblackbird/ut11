#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	// Пропускаем инициализацию, чтобы гарантировать получение формы при передаче параметра "АвтоТест".
	Если Параметры.Свойство("АвтоТест") Тогда
		Возврат;
	КонецЕсли;
	
	ВариантНастройки = Объект.ВариантНастройки;
	
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	
	ИмяФормыУзла = "";
	
	Если ВариантНастройки = "ВебВитрина" Тогда
		ИмяФормыУзла= "ФормаВебВитрины";
	Иначе
		ИмяФормыУзла = "ФормаСинхронизации";
	КонецЕсли;
	
	ПараметрыОткрываемойФормы = Новый Структура();
	ПараметрыОткрываемойФормы.Вставить("ЗначенияЗаполнения", Новый Структура());
	ПараметрыОткрываемойФормы.ЗначенияЗаполнения.Вставить("Объект", Объект.Ссылка);
	ПараметрыОткрываемойФормы.Вставить("Ключ", Объект.Ссылка);
	
	ОткрытьФорму("ПланОбмена.СинхронизацияДанныхЧерезУниверсальныйФормат.Форма." + ИмяФормыУзла, ПараметрыОткрываемойФормы, ВладелецФормы, Объект.Ссылка,,, ОписаниеОповещенияОЗакрытии, РежимОткрытияОкнаФормы.Независимый);
	Отказ = Истина;
	
КонецПроцедуры

#КонецОбласти


#Область СлужебныйПрограммныйИнтерфейс

#Область РазборКодаМаркировки

Функция ЭтоGTIN(GTIN) Экспорт
	Возврат МенеджерОборудованияКлиентСервер.ПроверитьКорректностьGTIN(GTIN);
КонецФункции

Функция МРЦПоВидуУпаковки(МРЦСтрокой, ВидУпаковки) Экспорт
	Возврат РазборКодаМаркировкиИССлужебныйКлиентСервер.МРЦПоВидуУпаковки(МРЦСтрокой, ВидУпаковки);
КонецФункции

Функция ШтрихкодEANИзGTIN(GTIN) Экспорт
	Возврат РазборКодаМаркировкиИССлужебныйКлиентСервер.ШтрихкодEANИзGTIN(GTIN);
КонецФункции

#КонецОбласти

#Область Прочее

Функция НастройкиРазбораКодаМаркировкиДляХэшаНормализации(ВидПродукции = Неопределено) Экспорт
	
	ПараметрыНормализацииКМ = РазборКодаМаркировкиИССлужебныйКлиентСервер.ПараметрыНормализацииКодаМаркировки();
	ПараметрыНормализацииКМ.НачинаетсяСоСкобки       = Ложь;
	ПараметрыНормализацииКМ.ВключатьМРЦ              = Ложь;
	ПараметрыНормализацииКМ.ВключатьСрокГодности     = Истина;
	Если ВидПродукции = Неопределено
		Или ВидПродукции <> ПредопределенноеЗначение("Перечисление.ВидыПродукцииИС.Алкогольная")
			И ВидПродукции <> ПредопределенноеЗначение("Перечисление.ВидыПродукцииИС.ПродукцияИзНатуральногоМеха") Тогда
		ПараметрыНормализацииКМ.ИмяСвойстваКодМаркировки = "Штрихкод";
	КонецЕсли;
	 
	Возврат ПараметрыНормализацииКМ;
	
КонецФункции

Функция НастройкиРазбораКодаМаркировкиДляСохраненияВПул() Экспорт
	
	ПараметрыНормализацииКМ = РазборКодаМаркировкиИССлужебныйКлиентСервер.ПараметрыНормализацииКодаМаркировки();
	ПараметрыНормализацииКМ.НачинаетсяСоСкобки       = Истина;
	ПараметрыНормализацииКМ.ВключатьМРЦ              = Ложь;
	ПараметрыНормализацииКМ.ВключатьСрокГодности     = Истина;
	ПараметрыНормализацииКМ.ИмяСвойстваКодМаркировки = "Штрихкод";
	
	Возврат ПараметрыНормализацииКМ;
	
КонецФункции

Функция ИдентификаторыПримененияСРазделителемGS() Экспорт
	Возврат РазборКодаМаркировкиИССлужебныйКлиентСервер.ИдентификаторыПримененияСРазделителемGS();
КонецФункции

Функция ПриоритетыИдентификаторовGS1() Экспорт;
	
	Коды = Новый Соответствие;
	
	ДобавитьПриоритетКодаGS1(Коды, "00"  , "SSCC"                      , +0);
	ДобавитьПриоритетКодаGS1(Коды, "01"  , "GTIN"                      , +2);
	ДобавитьПриоритетКодаGS1(Коды, "02"  , "CONTENT"                   , +2);
	ДобавитьПриоритетКодаGS1(Коды, "10"  , "BATCH_LOT"                 , +2);
	ДобавитьПриоритетКодаGS1(Коды, "11"  , "PROD_DATE"                 , +2);
	ДобавитьПриоритетКодаGS1(Коды, "12"  , "DUE_DATE"                  , -6);
	ДобавитьПриоритетКодаGS1(Коды, "13"  , "PACK_DATE"                 , +0);
	ДобавитьПриоритетКодаGS1(Коды, "15"  , "BEST_BEFORE"               , -6);
	ДобавитьПриоритетКодаGS1(Коды, "16"  , "SELL_BY"                   , -6);
	ДобавитьПриоритетКодаGS1(Коды, "17"  , "EXPIRE"                    , +2);
	ДобавитьПриоритетКодаGS1(Коды, "20"  , "VARIANT"                   , -6);
	ДобавитьПриоритетКодаGS1(Коды, "21"  , "SERIAL"                    , +2);
	ДобавитьПриоритетКодаGS1(Коды, "22"  , "CPV"                       , -6);
	ДобавитьПриоритетКодаGS1(Коды, "240" , "ADDITIONAL_ID"             , +0);
	ДобавитьПриоритетКодаGS1(Коды, "241" , "CUSTOMER_PART_NO"          , -6);
	ДобавитьПриоритетКодаGS1(Коды, "242" , "MTO_VARIANT"               , -6);
	ДобавитьПриоритетКодаGS1(Коды, "243" , "PCN"                       , -6);
	ДобавитьПриоритетКодаGS1(Коды, "250" , "SECONDARY_SERIAL"          , -6);
	ДобавитьПриоритетКодаGS1(Коды, "251" , "REF_TO_SOURCE"             , -6);
	ДобавитьПриоритетКодаGS1(Коды, "253" , "GDTI"                      , -6);
	ДобавитьПриоритетКодаGS1(Коды, "254" , "GLN_EXTENSION_COMPONENT"   , -6);
	ДобавитьПриоритетКодаGS1(Коды, "255" , "GСТ"                       , -6);
	ДобавитьПриоритетКодаGS1(Коды, "30"  , "VAR_COUNT"                 , +2);
	ДобавитьПриоритетКодаGS1(Коды, "310n", "NET_WEIGHT_kg"             , +2);
	ДобавитьПриоритетКодаGS1(Коды, "311n", "LENGTH_m"                  , -6);
	ДобавитьПриоритетКодаGS1(Коды, "312n", "WIDTH_m"                   , -6);
	ДобавитьПриоритетКодаGS1(Коды, "313n", "HEIGHT_m"                  , -6);
	ДобавитьПриоритетКодаGS1(Коды, "314n", "AREA_m2"                   , -6);
	ДобавитьПриоритетКодаGS1(Коды, "315n", "NET_VOLUME_l"              , -6);
	ДобавитьПриоритетКодаGS1(Коды, "316n", "NET_VOLUME_m3"             , -6);
	ДобавитьПриоритетКодаGS1(Коды, "320n", "NET_WEIGHT_lb"             , -6);
	ДобавитьПриоритетКодаGS1(Коды, "321n", "LENGTH_i"                  , -6);
	ДобавитьПриоритетКодаGS1(Коды, "322n", "LENGTH_f"                  , -6);
	ДобавитьПриоритетКодаGS1(Коды, "323n", "LENGTH_y"                  , -6);
	ДобавитьПриоритетКодаGS1(Коды, "324n", "WIDTH_i"                   , -6);
	ДобавитьПриоритетКодаGS1(Коды, "325n", "WIDTH_f"                   , -6);
	ДобавитьПриоритетКодаGS1(Коды, "326n", "WIDTH_y"                   , -6);
	ДобавитьПриоритетКодаGS1(Коды, "327n", "HEIGHT_i"                  , -6);
	ДобавитьПриоритетКодаGS1(Коды, "328n", "HEIGHT_f"                  , -6);
	ДобавитьПриоритетКодаGS1(Коды, "329n", "HEIGHT_y"                  , -6);
	ДобавитьПриоритетКодаGS1(Коды, "330n", "GROSS_WEIGHT_kg"           , +2);
	ДобавитьПриоритетКодаGS1(Коды, "331n", "LENGTH_m_log"              , -6);
	ДобавитьПриоритетКодаGS1(Коды, "332n", "WIDTH_m_log"               , -6);
	ДобавитьПриоритетКодаGS1(Коды, "333n", "HEIGHT_m_log"              , -6);
	ДобавитьПриоритетКодаGS1(Коды, "334n", "AREA_m2_log"               , -6);
	ДобавитьПриоритетКодаGS1(Коды, "335n", "VOLUME_l_log"              , -6);
	ДобавитьПриоритетКодаGS1(Коды, "336n", "VOLUME_m3_log"             , -6);
	ДобавитьПриоритетКодаGS1(Коды, "337n", "KG_PER_m2"                 , -6);
	ДобавитьПриоритетКодаGS1(Коды, "340n", "GROSS_WEIGHT_lb"           , -6);
	ДобавитьПриоритетКодаGS1(Коды, "341n", "LENGTH_i_log"              , -6);
	ДобавитьПриоритетКодаGS1(Коды, "342n", "LENGTH_f_log"              , -6);
	ДобавитьПриоритетКодаGS1(Коды, "343n", "LENGTH_y_log"              , -6);
	ДобавитьПриоритетКодаGS1(Коды, "344n", "WIDTH_i_log"               , -6);
	ДобавитьПриоритетКодаGS1(Коды, "345n", "WIDTH_f_log"               , -6);
	ДобавитьПриоритетКодаGS1(Коды, "346n", "WIDTH_y_log"               , -6);
	ДобавитьПриоритетКодаGS1(Коды, "347n", "HEIGHT_i_log"              , -6);
	ДобавитьПриоритетКодаGS1(Коды, "348n", "HEIGHT_f_log"              , -6);
	ДобавитьПриоритетКодаGS1(Коды, "349n", "HEIGHT_y_log"              , -6);
	ДобавитьПриоритетКодаGS1(Коды, "350n", "AREA_i2"                   , -6);
	ДобавитьПриоритетКодаGS1(Коды, "351n", "AREA_f2"                   , -6);
	ДобавитьПриоритетКодаGS1(Коды, "352n", "AREA_y2"                   , -6);
	ДобавитьПриоритетКодаGS1(Коды, "353n", "AREA_i2_log"               , -6);
	ДобавитьПриоритетКодаGS1(Коды, "354n", "AREA_f2_log"               , -6);
	ДобавитьПриоритетКодаGS1(Коды, "355n", "AREA_y2_log"               , -6);
	ДобавитьПриоритетКодаGS1(Коды, "356n", "NET_WEIGHT_t"              , -6);
	ДобавитьПриоритетКодаGS1(Коды, "357n", "NET_VOLUME_oz"             , -6);
	ДобавитьПриоритетКодаGS1(Коды, "360n", "NET_VOLUME_q"              , -6);
	ДобавитьПриоритетКодаGS1(Коды, "361n", "NET_VOLUME_g"              , -6);
	ДобавитьПриоритетКодаGS1(Коды, "362n", "VOLUME_q"                  , -6);
	ДобавитьПриоритетКодаGS1(Коды, "363n", "VOLUME_g"                  , -6);
	ДобавитьПриоритетКодаGS1(Коды, "364n", "VOLUME_i3"                 , -6);
	ДобавитьПриоритетКодаGS1(Коды, "365n", "VOLUME_f3"                 , -6);
	ДобавитьПриоритетКодаGS1(Коды, "366n", "VOLUME_y3"                 , -6);
	ДобавитьПриоритетКодаGS1(Коды, "367n", "VOLUME_i3_log"             , -6);
	ДобавитьПриоритетКодаGS1(Коды, "368n", "VOLUME_f3_log"             , -6);
	ДобавитьПриоритетКодаGS1(Коды, "369n", "VOLUME_y3_log"             , -6);
	ДобавитьПриоритетКодаGS1(Коды, "37"  , "COUNT"                     , +2);
	ДобавитьПриоритетКодаGS1(Коды, "390n", "AMOUNT"                    , -6);
	ДобавитьПриоритетКодаGS1(Коды, "391n", "AMOUNT_ISO"                , -6);
	ДобавитьПриоритетКодаGS1(Коды, "392n", "PRICE"                     , -6);
	ДобавитьПриоритетКодаGS1(Коды, "393n", "PRICE_ISO"                 , -6);
	ДобавитьПриоритетКодаGS1(Коды, "394n", "PRCNT_OFF"                 , -6);
	ДобавитьПриоритетКодаGS1(Коды, "400" , "ORDER_NUMBER"              , -6);
	ДобавитьПриоритетКодаGS1(Коды, "401" , "GINC"                      , -6);
	ДобавитьПриоритетКодаGS1(Коды, "402" , "GSIN"                      , -6);
	ДобавитьПриоритетКодаGS1(Коды, "403" , "ROUTE"                     , -6);
	ДобавитьПриоритетКодаGS1(Коды, "410" , "SHIP_TO_LOC"               , -6);
	ДобавитьПриоритетКодаGS1(Коды, "411" , "BILL_TO"                   , -6);
	ДобавитьПриоритетКодаGS1(Коды, "412" , "PURCHASE_FROM"             , -6);
	ДобавитьПриоритетКодаGS1(Коды, "413" , "SHIP_FOR_LOC"              , -6);
	ДобавитьПриоритетКодаGS1(Коды, "414" , "LOC_No"                    , -6);
	ДобавитьПриоритетКодаGS1(Коды, "415" , "PAY_TO"                    , -6);
	ДобавитьПриоритетКодаGS1(Коды, "416" , "PROD_SERV_LOC"             , -6);
	ДобавитьПриоритетКодаGS1(Коды, "420" , "SHIP_TO_POST"              , -6);
	ДобавитьПриоритетКодаGS1(Коды, "421" , "SHIP_TO_POST_ISO"          , -6);
	ДобавитьПриоритетКодаGS1(Коды, "422" , "ORIGIN"                    , -6);
	ДобавитьПриоритетКодаGS1(Коды, "423" , "CONTRY_INITIAL_PROCESS"    , -6);
	ДобавитьПриоритетКодаGS1(Коды, "424" , "CONTRY_PROCESS"            , -6);
	ДобавитьПриоритетКодаGS1(Коды, "425" , "CONTRY_DISASSEMBLY"        , -6);
	ДобавитьПриоритетКодаGS1(Коды, "426" , "CONTRY_FULL_PROCESS"       , -6);
	ДобавитьПриоритетКодаGS1(Коды, "427" , "ORIGIN_SUBDIVISION"        , -6);
	ДобавитьПриоритетКодаGS1(Коды, "7001", "NSN"                       , -6);
	ДобавитьПриоритетКодаGS1(Коды, "7002", "MEAT_CUT"                  , -6);
	ДобавитьПриоритетКодаGS1(Коды, "7003", "EXPIRY_TIME"               , -6);
	ДобавитьПриоритетКодаGS1(Коды, "7004", "ACTIVE_POTENCY"            , -6);
	ДобавитьПриоритетКодаGS1(Коды, "7005", "CATCH_AREA"                , -6);
	ДобавитьПриоритетКодаGS1(Коды, "7006", "FIRST_FREEZE_DATE"         , -6);
	ДобавитьПриоритетКодаGS1(Коды, "7007", "HARVEST_DATE"              , -6);
	ДобавитьПриоритетКодаGS1(Коды, "7008", "AQUATIC_SPECIES"           , -6);
	ДобавитьПриоритетКодаGS1(Коды, "7009", "FISHING_GEAR_TYPE"         , -6);
	ДобавитьПриоритетКодаGS1(Коды, "7010", "PROD_METHOD"               , -6);
	ДобавитьПриоритетКодаGS1(Коды, "7020", "REFURB_LOT"                , -6);
	ДобавитьПриоритетКодаGS1(Коды, "7021", "FUNC_STAT"                 , -6);
	ДобавитьПриоритетКодаGS1(Коды, "7022", "REV_STAT"                  , -6);
	ДобавитьПриоритетКодаGS1(Коды, "7023", "GIAI_ASSEMBLY"             , -6);
	ДобавитьПриоритетКодаGS1(Коды, "703s", "PROCESSOR_s"               , -6);
	ДобавитьПриоритетКодаGS1(Коды, "710" , "NHRN_PZN"                  , -6);
	ДобавитьПриоритетКодаGS1(Коды, "711" , "NHRN_CIP"                  , -6);
	ДобавитьПриоритетКодаGS1(Коды, "712" , "NHRN_CN"                   , -6);
	ДобавитьПриоритетКодаGS1(Коды, "713" , "NHRN_DRN"                  , -6);
	ДобавитьПриоритетКодаGS1(Коды, "8001", "DIMENSIONS"                , -6);
	ДобавитьПриоритетКодаGS1(Коды, "8002", "CMT_No"                    , -6);
	ДобавитьПриоритетКодаGS1(Коды, "8003", "GRAI"                      , -6);
	ДобавитьПриоритетКодаGS1(Коды, "8004", "GIAI"                      , -6);
	ДобавитьПриоритетКодаGS1(Коды, "8005", "PRICE_PER_UNIT"            , +0);
	ДобавитьПриоритетКодаGS1(Коды, "8006", "ITIP_or_GCTIN"             , -6);
	ДобавитьПриоритетКодаGS1(Коды, "8007", "IBAN"                      , -6);
	ДобавитьПриоритетКодаGS1(Коды, "8008", "PROD_TIME"                 , -6);
	ДобавитьПриоритетКодаGS1(Коды, "8010", "CPID"                      , -6);
	ДобавитьПриоритетКодаGS1(Коды, "8011", "CPID_SERIAL"               , -6);
	ДобавитьПриоритетКодаGS1(Коды, "8012", "VERSION"                   , -6);
	ДобавитьПриоритетКодаGS1(Коды, "8017", "GSRN_PROVIDER"             , -6);
	ДобавитьПриоритетКодаGS1(Коды, "8018", "GSRN_RECIPIENT"            , -6);
	ДобавитьПриоритетКодаGS1(Коды, "8019", "SRIN"                      , -6);
	ДобавитьПриоритетКодаGS1(Коды, "8020", "REF_No"                    , -6);
	ДобавитьПриоритетКодаGS1(Коды, "8110", "COUPON_CODE_ID"            , -6);
	ДобавитьПриоритетКодаGS1(Коды, "8111", "POINTS"                    , -6);
	ДобавитьПриоритетКодаGS1(Коды, "8112", "PAPPERLESS_COUPON_CODE_ID" , -6);
	ДобавитьПриоритетКодаGS1(Коды, "8200", "PRODUCT_URL"               , -6);
	ДобавитьПриоритетКодаGS1(Коды, "90"  , "INTERNAL"                  , -2);
	ДобавитьПриоритетКодаGS1(Коды, "91"  , "INTERNAL1"                 , -2);
	ДобавитьПриоритетКодаGS1(Коды, "92"  , "INTERNAL2"                 , -2);
	ДобавитьПриоритетКодаGS1(Коды, "93"  , "INTERNAL3"                 , -2);
	ДобавитьПриоритетКодаGS1(Коды, "94"  , "INTERNAL4"                 , -2);
	ДобавитьПриоритетКодаGS1(Коды, "95"  , "INTERNAL5"                 , -2);
	ДобавитьПриоритетКодаGS1(Коды, "96"  , "INTERNAL6"                 , -2);
	ДобавитьПриоритетКодаGS1(Коды, "97"  , "INTERNAL7"                 , -2);
	ДобавитьПриоритетКодаGS1(Коды, "98"  , "INTERNAL8"                 , -2);
	ДобавитьПриоритетКодаGS1(Коды, "99"  , "INTERNAL9"                 , -2);
	
	Возврат Коды;
	
КонецФункции

Функция КодыGS1() Экспорт
	
	Возврат МенеджерОборудованияМаркировкаКлиентСервер.КодыGS1();
	
КонецФункции

#КонецОбласти

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

Процедура ДобавитьПриоритетКодаGS1(Коды, Код, Наименование, Приоритет)
	
	Коды.Вставить(Код, Новый Структура("Приоритет, ПорядковыйНомер", Приоритет, Коды.Количество() + 1));
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

#Область Прочее

Процедура УправлениеЭлементамиФормы(Форма) Экспорт

	Элементы = Форма.Элементы;
	Объект = Форма.Объект;
	
	Форма.НазначениеПравилаНУ = Справочники.ПравилаРаспределенияРасходов.ПолучитьНазначениеПравилаПоВариантуРаспределения(Объект.ВариантРаспределенияРасходовНУ);

	Если НЕ ПолучитьФункциональнуюОпцию("ИспользоватьРеглУчет") Тогда
		Элементы.ЛокализацияГруппаПолныеНастройкиНУ.Видимость = Ложь;
		Возврат;
	КонецЕсли;
	
	ВариантБезРаспределения = 
		Перечисления.ВариантыРаспределенияРасходов.ВариантБезРаспределения(Объект.ВариантРаспределенияРасходовНУ);
	НеТребуетРаспределения = НЕ Объект.ВариантРаспределенияРасходовНУ.Пустая() 
		И НЕ Объект.ВариантРаспределенияРасходовНУ = Перечисления.ВариантыРаспределенияРасходов.НаОбъектыВозникновенияЗатрат
		И	(Объект.ВариантРаспределенияРасходовНУ = Перечисления.ВариантыРаспределенияРасходов.НаНаправленияДеятельности 
			ИЛИ ВариантБезРаспределения);
	РаспределениеНаРБП = Объект.ВариантРаспределенияРасходовНУ = Перечисления.ВариантыРаспределенияРасходов.НаРасходыБудущихПериодов;
	
	Элементы.ПравилоРаспределенияРасходовНУПолные.Видимость = РаспределениеНаРБП;

	Элементы.НадписьНеТребуетРаспределенияНУ.Видимость = НеТребуетРаспределения;
			
	Элементы.НадписьПравилоРаспределенияНУКакРегл.Видимость = 
		НЕ Объект.ВариантРаспределенияРасходовНУ.Пустая()
		И НЕ РаспределениеНаРБП
		И Объект.ВариантРаспределенияРасходовНУ = Объект.ВариантРаспределенияРасходовРегл
		И (НЕ ВариантБезРаспределения 
			ИЛИ Объект.ВариантРаспределенияРасходовНУ = Перечисления.ВариантыРаспределенияРасходов.НаОбъектыВозникновенияЗатрат)
		И НЕ НеТребуетРаспределения;
	
КонецПроцедуры

#КонецОбласти

#КонецОбласти
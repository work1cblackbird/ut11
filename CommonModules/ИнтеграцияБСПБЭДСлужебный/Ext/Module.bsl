// @strict-types

#Область СлужебныйПрограммныйИнтерфейс

Функция ДанныеФайлаИзХранилищаЗначений(СвойстваФайла, КонтекстДиагностики = Неопределено) Экспорт
	
	Если СвойстваФайла.ДвоичныеДанныеФайла <> Неопределено Тогда
		Возврат СвойстваФайла.ДвоичныеДанныеФайла.Получить();
	ИначеЕсли КонтекстДиагностики <> Неопределено Тогда
		КраткоеПредставлениеОшибки = НСтр("ru = 'Отсутствуют данные файла в информационной базе.'");
		МассивСтрок = Новый Массив;
		МассивСтрок.Добавить(НСтр("ru = 'Двоичные данные файла отсутствуют в регистре ДвоичныеДанныеФайлов.'"));
		МассивСтрок.Добавить(СтрШаблон(НСтр("ru = 'Файл: %1'"), СвойстваФайла.Ссылка));
		МассивСтрок.Добавить(СтрШаблон(НСтр("ru = 'Владелец: %1'"), СвойстваФайла.ВладелецФайла));
		ПодробноеПредставлениеОшибки = СтрСоединить(МассивСтрок, Символы.ПС);
		Ошибка = ОбработкаНеисправностейБЭД.НоваяОшибка(НСтр("ru = 'Получение данных файла'"),
			ОбработкаНеисправностейБЭДКлиентСервер.ВидОшибкиНеизвестнаяОшибка(),
			ПодробноеПредставлениеОшибки, КраткоеПредставлениеОшибки);
		ОбработкаНеисправностейБЭД.ДобавитьОшибку(КонтекстДиагностики, Ошибка,
			ОбщегоНазначенияБЭДКлиентСервер.ПодсистемыБЭД().РаботаСФайлами);
	КонецЕсли;
	
	Возврат Неопределено;
	
КонецФункции

#КонецОбласти
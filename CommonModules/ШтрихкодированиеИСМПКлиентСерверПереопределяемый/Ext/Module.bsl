#Область ПрограммныйИнтерфейс

// Может использоваться для корректировки параметра ПараметрыСканирования.ККТФФД12ИСМП, например,
// в том случае, когда в процессе сканирования уточнена номенклатура, и эта номенклатура должна фискализироваться на 
// устройстве, отличном от установленно ранее в параметре ПараметрыСканирования.ККТФФД12ИСМП.
// 
// Параметры:
//  ДанныеОписания        - Структура - Может быть двих разновидностей:
//                                      1. Данные штрихкода - в случае обработке на сервере.
//                                      2. Данные выбора    - при сканировании неизвестного года и уточннения
//                                                            номенклатуры (при обработке на клиенте).
//                                      В обоих случаях в данных присутствуют поля описания: Номенклатура, Характеристика, Серия.
//  ПараметрыСканирования - (См. ШтрихкодированиеОбщегоНазначенияИСКлиент.ПараметрыСканирования).
Процедура УстановитьККТФФД12ПоДаннымОписанияТовара(ДанныеОписания, ПараметрыСканирования) Экспорт
	
	Возврат;
	
КонецПроцедуры

// Вызывается при получении элеметнов проверки средставами ККТ для дозаполнения свойств прикладными данными.
// Используется для заполнения полей, которые будут переданы в методы проверки на ККТ, например, КодЕдиницыИзмерения.
// 
// Параметры:
//  ДанныеДляОбработки - Массив из см. ШтрихкодированиеИСМПКлиентСервер.НовыйЭлементОбработкиУстановкиДополнительныхСвойствПриПроверкеККТ
Процедура ПриУстановкеДополнительныхСвойствЭлеметовПроверкиСредствамиККТ(ДанныеДляОбработки) Экспорт
	
	//++ НЕ ГОСИС
	Для Каждого ЭлементДанныхОбработки Из ДанныеДляОбработки Цикл
		Если ЭлементДанныхОбработки.ЭтоЧастичноеВыбытие Тогда
			ЭлементДанныхОбработки.КодЕдиницыИзмерения = "796"; // Обход ошибки ККТ.
		КонецЕсли;
	КонецЦикла;
	//-- НЕ ГОСИС
	Возврат;
	
КонецПроцедуры

// Вызывается при необходимости дополнить параметры проверки кодов маркировки средствами ККТ прикладными данными.
// Используется для заполнения полей параметров проверки, например, ПроверятьЗапросыГИСМТ, на основе данных проверки условий
// необходимости подчинения разрешительному режиму.
// 
// Параметры:
//  ПараметрыПроверки - см. ШтрихкодированиеОбщегоНазначенияИСМПКлиент.ПараметрыНачалаПроверкиКодовМаркировкиСредствамиККТ
//  ПараметрыСканирования - см. ШтрихкодированиеОбщегоНазначенияИСКлиент.ПараметрыСканирования
Процедура ПриУстановкеДополнительныхПараметровПроверкиКодовМаркировкиСредствамиККТ(ПараметрыПроверки, ПараметрыСканирования) Экспорт
	
	//++ НЕ ГОСИС
	Если ТипЗнч(ПараметрыСканирования.СсылкаНаОбъект) = Тип("ДокументСсылка.РеализацияТоваровУслуг") Тогда
		
		ПараметрыПроверки.ПроверятьЗапросыГИСМТ = ИнтеграцияИСВызовСервераУТ.ПартнерЭтоРозничныйКлиентВДокументе(ПараметрыСканирования.СсылкаНаОбъект);
	
	ИначеЕсли ТипЗнч(ПараметрыСканирования.СсылкаНаОбъект) = Тип("ДокументСсылка.ЧекККМ") Тогда
		
		ПараметрыПроверки.ПроверятьЗапросыГИСМТ = Истина;
		
	ИначеЕсли ТипЗнч(ПараметрыСканирования.СсылкаНаОбъект) = Тип("ДокументСсылка.ПриходныйКассовыйОрдер") Тогда
		
		ПараметрыПроверки.ПроверятьЗапросыГИСМТ = ИнтеграцияИСВызовСервераУТ.РасчетыПоДокументуСРозничнымКлиентом(ПараметрыСканирования.СсылкаНаОбъект);
		
	Иначе
		
		ПараметрыПроверки.ПроверятьЗапросыГИСМТ = Ложь;
		
	КонецЕсли;
	//-- НЕ ГОСИС
	Возврат;
	
КонецПроцедуры

#КонецОбласти
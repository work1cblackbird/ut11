#Область ПрограммныйИнтерфейс

// Обработка проверки заполнения.
// 
// Параметры:
//  ЭтотОбъект - ФормаКлиентскогоПриложения
//  Отказ - Булево
//  ПроверяемыеРеквизиты - Массив из Строка - Проверяемые реквизиты
Процедура ОбработкаПроверкиЗаполнения(ЭтотОбъект, Отказ, ПроверяемыеРеквизиты) Экспорт 
	
	//++ Локализация
	
	ОтказПроверки = Ложь;
	ПроверкаЗаполненияМаркируемойПродукции(ЭтотОбъект, ОтказПроверки);
	
	//-- Локализация
	
КонецПроцедуры


#КонецОбласти


#Область СлужебныеПроцедурыИФункции

#Область КонтрольЗаполнения

//++ Локализация

#Область СопоставлениеКоличестваМарок
	
// Параметры:
//	ЭтотОбъект - ДокументОбъект.ОтборРазмещениеТоваров
//	Отказ - Булево
Процедура ПроверкаЗаполненияМаркируемойПродукции(ЭтотОбъект, Отказ)
	
	СтатусыКонтроля = СтатусыКонтроляМаркировки();
	Если ТипЗнч(ЭтотОбъект) <> Тип("ДокументОбъект.ОтборРазмещениеТоваров")
		ИЛИ СтатусыКонтроля.Найти(ЭтотОбъект.Статус) = Неопределено Тогда
		Возврат;
	КонецЕсли; 
	
	Если НЕ ОбщегоНазначенияИСМП.ИспользуетсяМаркируемаяПродукция() Тогда
		Возврат;
	КонецЕсли; 
	
	ПараметрыТоваров = Новый Структура;
	ПараметрыТоваров.Вставить("ИмяТаблицыТовары","ТоварыОтбор");
	ПараметрыТоваров.Вставить("ИмяПоляТовары","Номенклатура");
	ИнтеграцияИСУТ.ПроверитьЗаполнениеАкцизныхМарок(ЭтотОбъект,Отказ,,ПараметрыТоваров);
	
КонецПроцедуры

Функция СтатусыКонтроляМаркировки()
	
	СтатусыКонтроля = Новый Массив;
	
	Возврат СтатусыКонтроля;
	
КонецФункции
 
#КонецОбласти 

//-- Локализация

#КонецОбласти

#КонецОбласти


#Область СлужебныйПрограммныйИнтерфейс

Функция ЗапуститьПолучениеНастроекДокумента(ПараметрыОбработчика, УникальныйИдентификаторФормы) Экспорт
	
	ПараметрыВыполнения = ДлительныеОперации.ПараметрыВыполненияВФоне(УникальныйИдентификаторФормы);
	ПараметрыВыполнения.НаименованиеФоновогоЗадания = НСтр("ru = 'СервисEDI. Получение сведений документа.'");
	ПараметрыВыполнения.ЗапуститьВФоне              = Истина;
	
	Возврат ДлительныеОперации.ВыполнитьФункцию(ПараметрыВыполнения,
		"РаботаСДаннымиEDIСлужебный.ПолучитьСведенияДокумента", ПараметрыОбработчика);
	
КонецФункции

#Область ПолучениеДанныхСервиса

Функция ПолучитьВерсииДокумента(Документ, УникальныйИдентификаторФормы) Экспорт
	
	Возврат ДлительныеОперации.ВыполнитьФункцию(УникальныйИдентификаторФормы,
		"РаботаСДаннымиEDIСлужебный.ПолучитьВерсииДокумента", Документ);
	
КонецФункции

#КонецОбласти

#Область ОтправкаДанныхВСервис

Функция ВыполнитьКомандуПерехода(ДанныеДокумента, КомандаПроцесса, СценарийВыполнения, Отказ = Ложь) Экспорт
	
	РаботаСДаннымиEDIСлужебный.ВыполнитьКомандуПерехода(ДанныеДокумента, КомандаПроцесса, СценарийВыполнения, Отказ);
	
	Если Отказ Тогда
		ОбщегоНазначения.СообщитьПользователю(НСтр("ru = 'При отправке документа произошла ошибка. Документ не отправлен.'"));
	КонецЕсли;
	
	Возврат РаботаСДаннымиEDIСлужебный.РезультатВыполненияКомандыПерехода(ДанныеДокумента.Документ);
	
КонецФункции

Функция ПроверитьВыполнениеЗадания(ПрикладнойОбъект) Экспорт
	
	Возврат РаботаСДаннымиEDIСлужебный.РезультатВыполненияКомандыПерехода(ПрикладнойОбъект);
	
КонецФункции

Функция ПродолжитьВыполнениеКомандыПерехода(ПрикладнойОбъект, РезультатСопоставления = Неопределено, Отказ = Ложь) Экспорт
	
	РаботаСДаннымиEDIСлужебный.ПродолжитьВыполнениеКомандыПерехода(ПрикладнойОбъект, РезультатСопоставления, Отказ);
	
	Если Отказ Тогда
		ОбщегоНазначения.СообщитьПользователю(НСтр("ru = 'При отправке документа произошла ошибка. Документ не отправлен.'"));
	КонецЕсли;
	
	Возврат РаботаСДаннымиEDIСлужебный.РезультатВыполненияКомандыПерехода(ПрикладнойОбъект);
	
КонецФункции
 
#КонецОбласти

#Область РаботаСНастройкамиУчета

Функция ТипДокументаEDI(Знач Ссылка) Экспорт
	
	ТипПрикладногоОбъекта = ТипЗнч(Ссылка);
	ТипыДокументовEDI = НастройкиEDI.НастройкиУчета().СоответствиеПрикладныхОбъектовДокументамEDI;
	
	Возврат ТипыДокументовEDI.Получить(ТипПрикладногоОбъекта);
	
КонецФункции
	
#КонецОбласти

#КонецОбласти
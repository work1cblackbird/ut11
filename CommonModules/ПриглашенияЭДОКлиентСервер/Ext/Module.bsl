#Область СлужебныйПрограммныйИнтерфейс

Функция ВидОшибкиНеНастроенаСвязьСКонтрагентом(СтатусПриглашения, ВидОперации) Экспорт
	
	Возврат ПриглашенияЭДОСлужебныйКлиентСервер.ВидОшибкиНеНастроенаСвязьСКонтрагентом(СтатусПриглашения, ВидОперации);
	
КонецФункции

// Параметры:
//  Вид - см. ПриглашенияЭДОСлужебныйКлиентСервер.ВидПриглашенияВходящее
// 
// Возвращаемое значение:
//  Структура:
// * Вид - см. ПриглашенияЭДОСлужебныйКлиентСервер.ВидПриглашенияВходящее
// * ИдентификаторОрганизации - Строка
// * ИдентификаторКонтрагента - Строка
// * Организация - Неопределено,ОпределяемыйТип.Организация
// * Контрагент - Неопределено,ОпределяемыйТип.УчастникЭДО
Функция НовоеПриглашение(Вид) Экспорт
	
	Приглашение = Новый Структура;
	Приглашение.Вставить("Вид", Вид);
	Приглашение.Вставить("ИдентификаторОрганизации", "");
	Приглашение.Вставить("ИдентификаторКонтрагента", "");
	Приглашение.Вставить("Организация", Неопределено); 
	Приглашение.Вставить("Контрагент", Неопределено);
	
	Возврат Приглашение;
	
КонецФункции

// Параметры:
//  КлючПриглашения - Строка
// 
// Возвращаемое значение:
// 	Структура:
// * Вид - см. ПриглашенияЭДОСлужебныйКлиентСервер.ВидПриглашенияВходящее
// * ИдентификаторОрганизации - Строка
// * ИдентификаторКонтрагента - Строка
// * Организация - Неопределено,ОпределяемыйТип.Организация
// * Контрагент - Неопределено,ОпределяемыйТип.УчастникЭДО
// * КлючПриглашения - Строка
// * СпособОбмена - ПеречислениеСсылка.СпособыОбменаЭД
// * ПричинаОтказа - Строка
// * Статус - ПеречислениеСсылка.СтатусыПриглашений
// * НовыйКонтрагент - Число
// * ГотовоКПринятию - Булево
// * ЭтоОблачныйЭДО - Булево
Функция НовоеВходящееПриглашение(КлючПриглашения = "") Экспорт
	
	Приглашение = НовоеПриглашение(
		ПриглашенияЭДОСлужебныйКлиентСервер.ВидПриглашенияВходящее());
	Приглашение.Вставить("КлючПриглашения", "");
	Приглашение.Вставить("СпособОбмена", ПредопределенноеЗначение("Перечисление.СпособыОбменаЭД.ПустаяСсылка"));
	Приглашение.Вставить("ПричинаОтказа", "");
	Приглашение.Вставить("Статус", ПредопределенноеЗначение("Перечисление.СтатусыПриглашений.ПустаяСсылка"));
	Приглашение.Вставить("НовыйКонтрагент", 0);
	Приглашение.Вставить("ГотовоКПринятию", Ложь);
	Приглашение.Вставить("ЭтоОблачныйЭДО", Ложь);
	
	Возврат Приглашение;
	
КонецФункции

// Возвращает набор параметров нового приглашения.
// 
// Параметры:
//  ТипПриглашения - ПеречислениеСсылка.ТипыПриглашений - влияет на набор возвращаемых параметров. 
//  КлючПриглашения - Строка - если не указан, присваивается новый.
// 
// Возвращаемое значение:
//  Структура:
//  * КлючПриглашения - Строка
//  * Вид - Строка
//  * Тип - ПеречислениеСсылка.ТипыПриглашений
//  * ИдентификаторОрганизации - Строка
//  * ИдентификаторКонтрагента - Строка
//  * Организация - ОпределяемыйТип.Организация
//  * Контрагент - ОпределяемыйТип.КонтрагентБЭД
//  * EmailОрганизации - Строка
//  * EmailКонтрагента - Строка
//  * ПолучательКПП - Строка
//  * ПолучательИНН - Строка
//  * ОператорЭДО - Строка
//  * СоздаватьНастройкиЭДО - Булево
//  * ТребуетсяСоглашение - Булево
//  * ТекстПриглашения - Строка
//  * ЭтоОблачныйЭДО - Булево
//  * АдресПисьмаОВыбореОператора - Строка
Функция НовоеИсходящееПриглашение(ТипПриглашения) Экспорт
	
	Результат = Новый Структура;
	Результат.Вставить("КлючПриглашения", Строка(Новый УникальныйИдентификатор));
	Результат.Вставить("Вид", ПриглашенияЭДОСлужебныйКлиентСервер.ВидПриглашенияИсходящее());
	Результат.Вставить("Тип", ТипПриглашения);

	ТипыПриглашений = ПриглашенияЭДОСлужебныйКлиентСервер.ТипыПриглашений();
	Если ТипПриглашения = ТипыПриглашений.НаИдентификатор Тогда
		Результат.Вставить("ИдентификаторКонтрагента", "");
	ИначеЕсли ТипПриглашения = ТипыПриглашений.Широковещательное Тогда
		Результат.Вставить("EmailКонтрагента", "");
	ИначеЕсли ТипПриглашения = ТипыПриглашений.ЗаявкаНаРоуминг Тогда
		Результат.Вставить("ОператорЭДО", "");
		Результат.Вставить("ТребуетсяСоглашение", Ложь);
	КонецЕсли;

	Результат.Вставить("ИдентификаторОрганизации", "");
	Результат.Вставить("Организация");
	Результат.Вставить("Контрагент", Неопределено);
	Результат.Вставить("ПолучательИНН", "");
	Результат.Вставить("ПолучательКПП", "");
	Результат.Вставить("EmailОрганизации", "");
	Результат.Вставить("ТекстПриглашения", "");
	Результат.Вставить("СоздаватьНастройкиЭДО", Ложь);
	Результат.Вставить("ЭтоОблачныйЭДО", Ложь);
	Результат.Вставить("АдресПисьмаОВыбореОператора", "");
	
	Возврат Результат;
	
КонецФункции

#Область КлючиПриглашений

Функция НовыйКлючПриглашения() Экспорт
	
	Результат = Новый Структура();
	
	Результат.Вставить("Ключ", "");
	Результат.Вставить("ИдентификаторОрганизации", "");
	
	Возврат Результат;
	
КонецФункции

Функция КлючПриглашения() Экспорт
	
	Возврат ПриглашенияЭДОСлужебныйКлиентСервер.КлючПриглашения();
	
КонецФункции

Функция КлючПриглашенияНаИдентификатор() Экспорт
	
	Возврат ПриглашенияЭДОСлужебныйКлиентСервер.КлючПриглашенияНаИдентификатор();
	
КонецФункции

Функция КлючШироковещательногоПриглашения() Экспорт
	
	Возврат ПриглашенияЭДОСлужебныйКлиентСервер.КлючШироковещательногоПриглашения();
	
КонецФункции

Функция КлючЗаявкиНаРоуминг() Экспорт
	
	Возврат ПриглашенияЭДОСлужебныйКлиентСервер.КлючЗаявкиНаРоуминг();
	
КонецФункции

#КонецОбласти

#КонецОбласти
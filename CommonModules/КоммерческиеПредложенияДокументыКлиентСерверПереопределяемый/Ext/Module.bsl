////////////////////////////////////////////////////////////////////////////////
// Подсистема "Коммерческие предложения документы".
// ОбщийМодуль.КоммерческиеПредложенияДокументыКлиентСерверПереопределяемый
////////////////////////////////////////////////////////////////////////////////

#Область ПрограммныйИнтерфейс

// Возможность переопределения представления номенклатуры для печати.
//
// Параметры:
//  ПредставлениеДляПечати - Строка - предназначена для хранения сформированного представления.
//  Номенклатура           - ОпределяемыйТип.НоменклатураБЭД - номенклатура.
//  Характеристика         - ОпределяемыйТип.ХарактеристикаНоменклатурыБЭД - характеристика.
//  СтандартнаяОбработка   - Булево - в данный параметр передается признак выполнения стандартной (системной) обработки формирования представления.
//      Если в теле процедуры-обработчика установить данному параметру значение Ложь, стандартная обработка события производиться не будет.
//
Процедура СформироватьПредставлениеНоменклатурыДляПечати(ПредставлениеДляПечати, Номенклатура, Характеристика, СтандартнаяОбработка) Экспорт
	
	КоммерческиеПредложенияДокументыКлиентСерверУТ.СформироватьПредставлениеНоменклатурыДляПечати(ПредставлениеДляПечати, Номенклатура, Характеристика, СтандартнаяОбработка)
	
КонецПроцедуры

// Возможность сформировать представление состояния документа "Коммерческое предложение клиенту", основываясь на статусе документа и других данных. 
//
// Параметры:
//  Форма        - ФормаКлиентскогоПриложения - форма из которой вызвана данная процедура.
//  Статус       - ОпределяемыйТип.СтатусыКоммерческихПредложенийКлиентам - статус документа.
//  ТекущаяДата  - Дата - текущая дата.
//
Процедура СформироватьПредставлениеСостоянияПоСтатусу(Форма, Статус, ТекущаяДата) Экспорт
	
	КоммерческиеПредложенияДокументыКлиентСерверУТ.СформироватьПредставлениеСостоянияПоСтатусу(Форма, Статус, ТекущаяДата);
	
КонецПроцедуры

// Установить параметры строки товаров при загрузке итогов Бидзаар.
// 
// Параметры:
//  Строка - ДанныеФормыЭлементКоллекции - Строка таблицы товары
//  Параметры - ДанныеФормыЭлементКоллекции - Значения заполнения из сервиса Бидзаар
Процедура УстановитьПараметрыСтрокиТоваровПриЗагрузкеИтоговБидзаар(Строка, Параметры) Экспорт

	Строка.СуммаНДС = ЦенообразованиеКлиентСервер.РассчитатьСуммуНДС(Строка.Сумма, Строка.СтавкаНДС,
		Строка.ЦенаВключаетНДС);

КонецПроцедуры

// Дополнить контекст необходимыми данными для создания заказов поставщикам.
// 
// Параметры:
//  Контекст - Структура - Данные необходимые для создания заказов поставщикам
Процедура ДополнитьКонтекстДляСозданияЗаказовПоставщикам(Контекст) Экспорт

	Налогообложение = ОбщегоНазначенияКлиентСервер.СвойствоСтруктуры(Контекст, "Налогообложение");
	Если Налогообложение <> Неопределено Тогда
		Контекст.Вставить("НалогообложениеНДС", ?(Налогообложение,
	 						ПредопределенноеЗначение("Перечисление.ТипыНалогообложенияНДС.ПродажаОблагаетсяНДС"),
	 						ПредопределенноеЗначение("Перечисление.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС")));
	КонецЕсли;

КонецПроцедуры

// Единица хранения номенклатуры.
// 
// Параметры:
//  Номенклатура - ОпределяемыйТип.НоменклатураБЭД
// 
// Возвращаемое значение:
//  ОпределяемыйТип.УпаковкаНоменклатурыБЭД - Единица хранения номенклатуры
Функция ЕдиницаХраненияНоменклатуры(Номенклатура) Экспорт
	
	Возврат НоменклатураВызовСервера.ЕдиницаХраненияНоменклатуры(Номенклатура);
	
КонецФункции

#КонецОбласти

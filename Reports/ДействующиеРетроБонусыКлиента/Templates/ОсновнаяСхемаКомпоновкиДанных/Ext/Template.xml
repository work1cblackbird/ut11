<?xml version="1.0" encoding="UTF-8"?>
<DataCompositionSchema xmlns="http://v8.1c.ru/8.1/data-composition-system/schema" xmlns:dcscom="http://v8.1c.ru/8.1/data-composition-system/common" xmlns:dcscor="http://v8.1c.ru/8.1/data-composition-system/core" xmlns:dcsset="http://v8.1c.ru/8.1/data-composition-system/settings" xmlns:v8="http://v8.1c.ru/8.1/data/core" xmlns:v8ui="http://v8.1c.ru/8.1/data/ui" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<dataSource>
		<name>ИсточникДанных1</name>
		<dataSourceType>Local</dataSourceType>
	</dataSource>
	<dataSet xsi:type="DataSetUnion">
		<name>НаборДанных1</name>
		<field xsi:type="DataSetFieldField">
			<dataPath>Организация</dataPath>
			<field>Организация</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Контрагент</dataPath>
			<field>Контрагент</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Контрагент</v8:content>
				</v8:item>
			</title>
			<role>
				<dcscom:dimension>true</dcscom:dimension>
			</role>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ОкончаниеДействия</dataPath>
			<field>ОкончаниеДействия</field>
			<role>
				<dcscom:dimension>true</dcscom:dimension>
			</role>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>НачалоДействия</dataPath>
			<field>НачалоДействия</field>
			<role>
				<dcscom:dimension>true</dcscom:dimension>
			</role>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДокументУсловий</dataPath>
			<field>ДокументУсловий</field>
			<role>
				<dcscom:dimension>true</dcscom:dimension>
			</role>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Партнер</dataPath>
			<field>Партнер</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Клиент</v8:content>
				</v8:item>
			</title>
			<role>
				<dcscom:dimension>true</dcscom:dimension>
			</role>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Вид</dataPath>
			<field>Вид</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Вид ретро-бонуса</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Участники</dataPath>
			<field>Участники</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Описание</dataPath>
			<field>Описание</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СоставУчастников</dataPath>
			<field>СоставУчастников</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Состав участников</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Договор</dataPath>
			<field>Договор</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Договор</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Соглашение</dataPath>
			<field>Соглашение</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Соглашение</v8:content>
				</v8:item>
			</title>
		</field>
		<item xsi:type="DataSetQuery">
			<name>НаборДанныхПоКонтрагенту</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>Организация</dataPath>
				<field>Организация</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Контрагент</dataPath>
				<field>Контрагент</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Контрагент</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОкончаниеДействия</dataPath>
				<field>ОкончаниеДействия</field>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>НачалоДействия</dataPath>
				<field>НачалоДействия</field>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ДокументУсловий</dataPath>
				<field>ДокументУсловий</field>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Партнер</dataPath>
				<field>Партнер</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Клиент</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Вид</dataPath>
				<field>Вид</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Участники</dataPath>
				<field>Участники</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Описание</dataPath>
				<field>Описание</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>СоставУчастников</dataPath>
				<field>СоставУчастников</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Состав участников</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Договор</dataPath>
				<field>Договор</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Договор</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Соглашение</dataPath>
				<field>Соглашение</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Соглашение</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<dataSource>ИсточникДанных1</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
	РетроБонусыКлиентовУсловия.Организация КАК Организация,
	РетроБонусыКлиентовКонтрагенты.ДокументУсловий КАК ДокументУсловий,
	РетроБонусыКлиентовКонтрагенты.НачалоДействия КАК НачалоДействия,
	РетроБонусыКлиентовКонтрагенты.ОкончаниеДействия КАК ОкончаниеДействия,
	РетроБонусыКлиентовКонтрагенты.Контрагент КАК Контрагент,
	РетроБонусыКлиентовКонтрагенты.Партнер КАК Партнер,
	РетроБонусыКлиентовУсловия.Вид КАК Вид,
	РетроБонусыКлиентовУсловия.Описание КАК Описание,
	РетроБонусыКлиентовУсловия.Участники КАК Участники,
	РетроБонусыКлиентовУсловия.СоставУчастников КАК СоставУчастников
ПОМЕСТИТЬ ВТ_РетроБонусыУсловия
ИЗ
	РегистрСведений.РетроБонусыКлиентовКонтрагенты КАК РетроБонусыКлиентовКонтрагенты
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РетроБонусыКлиентовУсловия КАК РетроБонусыКлиентовУсловия
		ПО РетроБонусыКлиентовКонтрагенты.ДокументУсловий = РетроБонусыКлиентовУсловия.ДокументУсловий
ГДЕ
	(РетроБонусыКлиентовКонтрагенты.Контрагент = &amp;Контрагент
			ИЛИ РетроБонусыКлиентовКонтрагенты.Контрагент В (&amp;КонтрагентыПартнера)
			ИЛИ РетроБонусыКлиентовКонтрагенты.Контрагент = ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка))
	И &amp;ДатаОтчета МЕЖДУ РетроБонусыКлиентовКонтрагенты.НачалоДействия И РетроБонусыКлиентовКонтрагенты.ОкончаниеДействия
	И РетроБонусыКлиентовУсловия.Участники = ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.Выбранные)
	И (&amp;ВариантОтчета = 2
			ИЛИ &amp;ВариантОтчета = 5)
{ГДЕ
	(РетроБонусыКлиентовУсловия.Организация = &amp;Организация),
	РетроБонусыКлиентовУсловия.Вид.*,
	РетроБонусыКлиентовУсловия.Участники.*,
	РетроБонусыКлиентовУсловия.СоставУчастников.*,
	РетроБонусыКлиентовУсловия.ДокументУсловий.*}

ОБЪЕДИНИТЬ

ВЫБРАТЬ РАЗЛИЧНЫЕ
	РетроБонусыКлиентовУсловия.Организация,
	РетроБонусыКлиентовКонтрагенты.ДокументУсловий,
	РетроБонусыКлиентовКонтрагенты.НачалоДействия,
	РетроБонусыКлиентовКонтрагенты.ОкончаниеДействия,
	РетроБонусыКлиентовКонтрагенты.Контрагент,
	РетроБонусыКлиентовКонтрагенты.Партнер,
	РетроБонусыКлиентовУсловия.Вид,
	РетроБонусыКлиентовУсловия.Описание,
	РетроБонусыКлиентовУсловия.Участники,
	РетроБонусыКлиентовУсловия.СоставУчастников
ИЗ
	РегистрСведений.РетроБонусыКлиентовКонтрагенты КАК РетроБонусыКлиентовКонтрагенты
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РетроБонусыКлиентовУсловия КАК РетроБонусыКлиентовУсловия
		ПО РетроБонусыКлиентовКонтрагенты.ДокументУсловий = РетроБонусыКлиентовУсловия.ДокументУсловий
ГДЕ
	(РетроБонусыКлиентовКонтрагенты.Партнер = &amp;Партнер
			ИЛИ РетроБонусыКлиентовКонтрагенты.Партнер = &amp;ПартнерКонтрагента
			ИЛИ РетроБонусыКлиентовКонтрагенты.Партнер = ЗНАЧЕНИЕ(Справочник.Партнеры.ПустаяСсылка))
	И &amp;ДатаОтчета МЕЖДУ РетроБонусыКлиентовКонтрагенты.НачалоДействия И РетроБонусыКлиентовКонтрагенты.ОкончаниеДействия
	И РетроБонусыКлиентовУсловия.Участники = ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.Выбранные)
	И (&amp;ВариантОтчета = 2
			ИЛИ &amp;ВариантОтчета = 5)
{ГДЕ
	(РетроБонусыКлиентовУсловия.Организация = &amp;Организация),
	РетроБонусыКлиентовУсловия.Вид.*,
	РетроБонусыКлиентовУсловия.Участники.*,
	РетроБонусыКлиентовУсловия.СоставУчастников.*,
	РетроБонусыКлиентовУсловия.ДокументУсловий.*}

ИНДЕКСИРОВАТЬ ПО
	ДокументУсловий,
	Контрагент,
	Партнер,
	СоставУчастников
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВТ_РетроБонусыУсловия.Организация КАК Организация,
	ВТ_РетроБонусыУсловия.ДокументУсловий КАК ДокументУсловий,
	ВТ_РетроБонусыУсловия.НачалоДействия КАК НачалоДействия,
	ВТ_РетроБонусыУсловия.ОкончаниеДействия КАК ОкончаниеДействия,
	ВТ_РетроБонусыУсловия.Контрагент КАК Контрагент,
	ВТ_РетроБонусыУсловия.Партнер КАК Партнер,
	ВТ_РетроБонусыУсловия.Вид КАК Вид,
	ВТ_РетроБонусыУсловия.Описание КАК Описание,
	ВТ_РетроБонусыУсловия.Участники КАК Участники,
	ВТ_РетроБонусыУсловия.СоставУчастников КАК СоставУчастников
ПОМЕСТИТЬ ВТ_РетроБонусыУсловияКлиентыВыбранные
ИЗ
	ВТ_РетроБонусыУсловия КАК ВТ_РетроБонусыУсловия
ГДЕ
	ВТ_РетроБонусыУсловия.СоставУчастников = ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.Клиенты)
	И ВТ_РетроБонусыУсловия.Контрагент = &amp;Контрагент
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	РетроБонусыКлиентовУсловия.Организация КАК Организация,
	РетроБонусыКлиентовИНН.ДокументУсловий КАК ДокументУсловий,
	РетроБонусыКлиентовИНН.НачалоДействия КАК НачалоДействия,
	РетроБонусыКлиентовИНН.ОкончаниеДействия КАК ОкончаниеДействия,
	РетроБонусыКлиентовИНН.ИНН КАК КонтрагентИНН,
	ЗНАЧЕНИЕ(Справочник.Партнеры.ПустаяСсылка) КАК Партнер,
	РетроБонусыКлиентовУсловия.Вид КАК Вид,
	РетроБонусыКлиентовУсловия.Описание КАК Описание,
	РетроБонусыКлиентовУсловия.Участники КАК Участники,
	РетроБонусыКлиентовУсловия.СоставУчастников КАК СоставУчастников
ПОМЕСТИТЬ ВТ_РетроБонусыУсловияКромеВыбранныхИНН
ИЗ
	РегистрСведений.РетроБонусыКлиентовИНН КАК РетроБонусыКлиентовИНН
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РетроБонусыКлиентовУсловия КАК РетроБонусыКлиентовУсловия
		ПО РетроБонусыКлиентовИНН.ДокументУсловий = РетроБонусыКлиентовУсловия.ДокументУсловий
ГДЕ
	РетроБонусыКлиентовУсловия.Участники = ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.КромеВыбранных)
	И &amp;ДатаОтчета МЕЖДУ РетроБонусыКлиентовИНН.НачалоДействия И РетроБонусыКлиентовИНН.ОкончаниеДействия
	И (&amp;ВариантОтчета = 2
			ИЛИ &amp;ВариантОтчета = 5)
{ГДЕ
	(РетроБонусыКлиентовУсловия.Организация = &amp;Организация),
	РетроБонусыКлиентовУсловия.Вид.*,
	РетроБонусыКлиентовУсловия.Участники.*,
	РетроБонусыКлиентовУсловия.СоставУчастников.*,
	РетроБонусыКлиентовИНН.ДокументУсловий.*}
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	РетроБонусыКлиентовУсловия.Организация КАК Организация,
	РетроБонусыКлиентовКонтрагенты.ДокументУсловий КАК ДокументУсловий,
	РетроБонусыКлиентовКонтрагенты.НачалоДействия КАК НачалоДействия,
	РетроБонусыКлиентовКонтрагенты.ОкончаниеДействия КАК ОкончаниеДействия,
	РетроБонусыКлиентовКонтрагенты.Контрагент КАК Контрагент,
	РетроБонусыКлиентовКонтрагенты.Партнер КАК Партнер,
	РетроБонусыКлиентовУсловия.Вид КАК Вид,
	РетроБонусыКлиентовУсловия.Описание КАК Описание,
	РетроБонусыКлиентовУсловия.Участники КАК Участники,
	РетроБонусыКлиентовУсловия.СоставУчастников КАК СоставУчастников
ПОМЕСТИТЬ ВТ_РетроБонусыУсловияКромеВыбранных
ИЗ
	РегистрСведений.РетроБонусыКлиентовКонтрагенты КАК РетроБонусыКлиентовКонтрагенты
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РетроБонусыКлиентовУсловия КАК РетроБонусыКлиентовУсловия
		ПО РетроБонусыКлиентовКонтрагенты.ДокументУсловий = РетроБонусыКлиентовУсловия.ДокументУсловий
ГДЕ
	&amp;ДатаОтчета МЕЖДУ РетроБонусыКлиентовКонтрагенты.НачалоДействия И РетроБонусыКлиентовКонтрагенты.ОкончаниеДействия
	И РетроБонусыКлиентовУсловия.Участники = ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.КромеВыбранных)
	И (&amp;ВариантОтчета = 2
			ИЛИ &amp;ВариантОтчета = 5)
{ГДЕ
	(РетроБонусыКлиентовУсловия.Организация = &amp;Организация),
	РетроБонусыКлиентовУсловия.Вид.*,
	РетроБонусыКлиентовУсловия.Участники.*,
	РетроБонусыКлиентовУсловия.СоставУчастников.*,
	РетроБонусыКлиентовКонтрагенты.ДокументУсловий.*}
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
	РетроБонусыКлиентовУсловия.Организация КАК Организация,
	РетроБонусыКлиентовИНН.ДокументУсловий КАК ДокументУсловий,
	РетроБонусыКлиентовИНН.НачалоДействия КАК НачалоДействия,
	РетроБонусыКлиентовИНН.ОкончаниеДействия КАК ОкончаниеДействия,
	&amp;Контрагент КАК Контрагент,
	ЗНАЧЕНИЕ(Справочник.Партнеры.ПустаяСсылка) КАК Партнер,
	РетроБонусыКлиентовУсловия.Вид КАК Вид,
	РетроБонусыКлиентовУсловия.Описание КАК Описание,
	РетроБонусыКлиентовУсловия.Участники КАК Участники,
	РетроБонусыКлиентовУсловия.СоставУчастников КАК СоставУчастников,
	ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка) КАК Договор,
	ЗНАЧЕНИЕ(Справочник.СоглашенияСКлиентами.ПустаяСсылка) КАК Соглашение
{ВЫБРАТЬ
	Организация.*,
	ДокументУсловий.*,
	НачалоДействия,
	ОкончаниеДействия,
	Контрагент.*,
	Партнер.*,
	Вид.*,
	Описание,
	Участники.*,
	СоставУчастников.*,
	Договор.*,
	Соглашение.*}
ИЗ
	РегистрСведений.РетроБонусыКлиентовИНН КАК РетроБонусыКлиентовИНН
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РетроБонусыКлиентовУсловия КАК РетроБонусыКлиентовУсловия
		ПО РетроБонусыКлиентовИНН.ДокументУсловий = РетроБонусыКлиентовУсловия.ДокументУсловий
ГДЕ
	РетроБонусыКлиентовУсловия.Участники = ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.Выбранные)
	И РетроБонусыКлиентовИНН.ИНН = &amp;ИНН
	И &amp;ДатаОтчета МЕЖДУ РетроБонусыКлиентовИНН.НачалоДействия И РетроБонусыКлиентовИНН.ОкончаниеДействия
	И (&amp;ВариантОтчета = 2
			ИЛИ &amp;ВариантОтчета = 5)
{ГДЕ
	(РетроБонусыКлиентовУсловия.Организация = &amp;Организация),
	РетроБонусыКлиентовУсловия.Участники.*,
	РетроБонусыКлиентовУсловия.СоставУчастников.* КАК СоставУчастников,
	РетроБонусыКлиентовИНН.ДокументУсловий.*,
	РетроБонусыКлиентовУсловия.Вид.*}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ РАЗЛИЧНЫЕ
	РетроБонусыКлиентовУсловия.Организация,
	РетроБонусыКлиентовУсловия.ДокументУсловий,
	РетроБонусыКлиентовУсловия.НачалоДействия,
	РетроБонусыКлиентовУсловия.ОкончаниеДействия,
	&amp;Контрагент,
	&amp;Партнер,
	РетроБонусыКлиентовУсловия.Вид,
	РетроБонусыКлиентовУсловия.Описание,
	РетроБонусыКлиентовУсловия.Участники,
	РетроБонусыКлиентовУсловия.СоставУчастников,
	ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка),
	ЗНАЧЕНИЕ(Справочник.СоглашенияСКлиентами.ПустаяСсылка)
ИЗ
	РегистрСведений.РетроБонусыКлиентовУсловия КАК РетроБонусыКлиентовУсловия
ГДЕ
	&amp;ДатаОтчета МЕЖДУ РетроБонусыКлиентовУсловия.НачалоДействия И РетроБонусыКлиентовУсловия.ОкончаниеДействия
	И РетроБонусыКлиентовУсловия.Участники = ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.Все)
	И (&amp;ВариантОтчета = 2
			ИЛИ &amp;ВариантОтчета = 5)
{ГДЕ
	(РетроБонусыКлиентовУсловия.Организация = &amp;Организация),
	РетроБонусыКлиентовУсловия.Вид.*,
	РетроБонусыКлиентовУсловия.Участники.*,
	РетроБонусыКлиентовУсловия.СоставУчастников.*,
	РетроБонусыКлиентовУсловия.ДокументУсловий.*}

ОБЪЕДИНИТЬ

ВЫБРАТЬ
	ВТ_РетроБонусыУсловия.Организация,
	ВТ_РетроБонусыУсловия.ДокументУсловий,
	ВТ_РетроБонусыУсловия.НачалоДействия,
	ВТ_РетроБонусыУсловия.ОкончаниеДействия,
	ВТ_РетроБонусыУсловия.Контрагент,
	ВТ_РетроБонусыУсловия.Партнер,
	ВТ_РетроБонусыУсловия.Вид,
	ВТ_РетроБонусыУсловия.Описание,
	ВТ_РетроБонусыУсловия.Участники,
	ВТ_РетроБонусыУсловия.СоставУчастников,
	ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка),
	ЗНАЧЕНИЕ(Справочник.СоглашенияСКлиентами.ПустаяСсылка)
ИЗ
	ВТ_РетроБонусыУсловия КАК ВТ_РетроБонусыУсловия
ГДЕ
	ВТ_РетроБонусыУсловия.СоставУчастников = ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.Контрагенты)
	И ВТ_РетроБонусыУсловия.Контрагент = &amp;Контрагент

ОБЪЕДИНИТЬ

ВЫБРАТЬ
	ВТ_РетроБонусыУсловияКлиентыВыбранные.Организация,
	ВТ_РетроБонусыУсловияКлиентыВыбранные.ДокументУсловий,
	ВТ_РетроБонусыУсловияКлиентыВыбранные.НачалоДействия,
	ВТ_РетроБонусыУсловияКлиентыВыбранные.ОкончаниеДействия,
	ВТ_РетроБонусыУсловияКлиентыВыбранные.Контрагент,
	ВТ_РетроБонусыУсловияКлиентыВыбранные.Партнер,
	ВТ_РетроБонусыУсловияКлиентыВыбранные.Вид,
	ВТ_РетроБонусыУсловияКлиентыВыбранные.Описание,
	ВТ_РетроБонусыУсловияКлиентыВыбранные.Участники,
	ВТ_РетроБонусыУсловияКлиентыВыбранные.СоставУчастников,
	ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка),
	ЗНАЧЕНИЕ(Справочник.СоглашенияСКлиентами.ПустаяСсылка)
ИЗ
	ВТ_РетроБонусыУсловияКлиентыВыбранные КАК ВТ_РетроБонусыУсловияКлиентыВыбранные

ОБЪЕДИНИТЬ

ВЫБРАТЬ
	ВТ_РетроБонусыУсловия.Организация,
	ВТ_РетроБонусыУсловия.ДокументУсловий,
	ВТ_РетроБонусыУсловия.НачалоДействия,
	ВТ_РетроБонусыУсловия.ОкончаниеДействия,
	ВТ_РетроБонусыУсловия.Контрагент,
	ВТ_РетроБонусыУсловия.Партнер,
	ВТ_РетроБонусыУсловия.Вид,
	ВТ_РетроБонусыУсловия.Описание,
	ВТ_РетроБонусыУсловия.Участники,
	ВТ_РетроБонусыУсловия.СоставУчастников,
	ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка),
	ЗНАЧЕНИЕ(Справочник.СоглашенияСКлиентами.ПустаяСсылка)
ИЗ
	ВТ_РетроБонусыУсловия КАК ВТ_РетроБонусыУсловия
		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_РетроБонусыУсловияКлиентыВыбранные КАК ВТ_РетроБонусыУсловияКлиентыВыбранные
		ПО (ИСТИНА)
ГДЕ
	ВТ_РетроБонусыУсловия.СоставУчастников = ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.Клиенты)
	И ВТ_РетроБонусыУсловия.Партнер = &amp;ПартнерКонтрагента
	И ВТ_РетроБонусыУсловия.Контрагент = ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка)
	И ВТ_РетроБонусыУсловияКлиентыВыбранные.ДокументУсловий ЕСТЬ NULL

ОБЪЕДИНИТЬ

ВЫБРАТЬ РАЗЛИЧНЫЕ
	ВТ_РетроБонусыУсловияКромеВыбранныхИНН.Организация,
	ВТ_РетроБонусыУсловияКромеВыбранныхИНН.ДокументУсловий,
	ВТ_РетроБонусыУсловияКромеВыбранныхИНН.НачалоДействия,
	ВТ_РетроБонусыУсловияКромеВыбранныхИНН.ОкончаниеДействия,
	&amp;Контрагент,
	ЗНАЧЕНИЕ(Справочник.Партнеры.ПустаяСсылка),
	ВТ_РетроБонусыУсловияКромеВыбранныхИНН.Вид,
	ВТ_РетроБонусыУсловияКромеВыбранныхИНН.Описание,
	ВТ_РетроБонусыУсловияКромеВыбранныхИНН.Участники,
	ВТ_РетроБонусыУсловияКромеВыбранныхИНН.СоставУчастников,
	ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка),
	ЗНАЧЕНИЕ(Справочник.СоглашенияСКлиентами.ПустаяСсылка)
ИЗ
	ВТ_РетроБонусыУсловияКромеВыбранныхИНН КАК ВТ_РетроБонусыУсловияКромеВыбранныхИНН
		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_РетроБонусыУсловияКромеВыбранныхИНН КАК ВТ_РетроБонусыУсловияОтбор
		ПО ВТ_РетроБонусыУсловияКромеВыбранныхИНН.ДокументУсловий = ВТ_РетроБонусыУсловияОтбор.ДокументУсловий
			И (ВТ_РетроБонусыУсловияОтбор.КонтрагентИНН = &amp;ИНН)
ГДЕ
	ВТ_РетроБонусыУсловияОтбор.ДокументУсловий ЕСТЬ NULL

ОБЪЕДИНИТЬ

ВЫБРАТЬ РАЗЛИЧНЫЕ
	ВТ_РетроБонусыУсловияКромеВыбранных.Организация,
	ВТ_РетроБонусыУсловияКромеВыбранных.ДокументУсловий,
	ВТ_РетроБонусыУсловияКромеВыбранных.НачалоДействия,
	ВТ_РетроБонусыУсловияКромеВыбранных.ОкончаниеДействия,
	&amp;Контрагент,
	ЗНАЧЕНИЕ(Справочник.Партнеры.ПустаяСсылка),
	ВТ_РетроБонусыУсловияКромеВыбранных.Вид,
	ВТ_РетроБонусыУсловияКромеВыбранных.Описание,
	ВТ_РетроБонусыУсловияКромеВыбранных.Участники,
	ВТ_РетроБонусыУсловияКромеВыбранных.СоставУчастников,
	ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка),
	ЗНАЧЕНИЕ(Справочник.СоглашенияСКлиентами.ПустаяСсылка)
ИЗ
	ВТ_РетроБонусыУсловияКромеВыбранных КАК ВТ_РетроБонусыУсловияКромеВыбранных
		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_РетроБонусыУсловияКромеВыбранных КАК ВТ_РетроБонусыУсловияОтбор
		ПО ВТ_РетроБонусыУсловияКромеВыбранных.ДокументУсловий = ВТ_РетроБонусыУсловияОтбор.ДокументУсловий
			И (ВТ_РетроБонусыУсловияОтбор.Контрагент = &amp;Контрагент)
			И (ВТ_РетроБонусыУсловияОтбор.СоставУчастников = ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.Контрагенты))
ГДЕ
	ВТ_РетроБонусыУсловияКромеВыбранных.СоставУчастников = ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.Контрагенты)
	И ВТ_РетроБонусыУсловияОтбор.ДокументУсловий ЕСТЬ NULL

ОБЪЕДИНИТЬ

ВЫБРАТЬ РАЗЛИЧНЫЕ
	ВТ_РетроБонусыУсловияКромеВыбранных.Организация,
	ВТ_РетроБонусыУсловияКромеВыбранных.ДокументУсловий,
	ВТ_РетроБонусыУсловияКромеВыбранных.НачалоДействия,
	ВТ_РетроБонусыУсловияКромеВыбранных.ОкончаниеДействия,
	&amp;Контрагент,
	ЗНАЧЕНИЕ(Справочник.Партнеры.ПустаяСсылка),
	ВТ_РетроБонусыУсловияКромеВыбранных.Вид,
	ВТ_РетроБонусыУсловияКромеВыбранных.Описание,
	ВТ_РетроБонусыУсловияКромеВыбранных.Участники,
	ВТ_РетроБонусыУсловияКромеВыбранных.СоставУчастников,
	ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка),
	ЗНАЧЕНИЕ(Справочник.СоглашенияСКлиентами.ПустаяСсылка)
ИЗ
	ВТ_РетроБонусыУсловияКромеВыбранных КАК ВТ_РетроБонусыУсловияКромеВыбранных
		ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ РАЗЛИЧНЫЕ
			ВТ_РетроБонусыУсловия.ДокументУсловий КАК ДокументУсловий
		ИЗ
			ВТ_РетроБонусыУсловияКромеВыбранных КАК ВТ_РетроБонусыУсловия
		ГДЕ
			ВТ_РетроБонусыУсловия.СоставУчастников = ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.Клиенты)
			И ВТ_РетроБонусыУсловия.Контрагент = &amp;Контрагент
		
		ОБЪЕДИНИТЬ
		
		ВЫБРАТЬ РАЗЛИЧНЫЕ
			ВТ_РетроБонусыУсловия.ДокументУсловий
		ИЗ
			ВТ_РетроБонусыУсловияКромеВыбранных КАК ВТ_РетроБонусыУсловия
		ГДЕ
			ВТ_РетроБонусыУсловия.СоставУчастников = ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.Клиенты)
			И ВТ_РетроБонусыУсловия.Контрагент = ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка)
			И ВТ_РетроБонусыУсловия.Партнер = &amp;ПартнерКонтрагента) КАК ВложенныйЗапросОтбор
		ПО ВТ_РетроБонусыУсловияКромеВыбранных.ДокументУсловий = ВложенныйЗапросОтбор.ДокументУсловий
ГДЕ
	ВТ_РетроБонусыУсловияКромеВыбранных.СоставУчастников = ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.Клиенты)
	И ВложенныйЗапросОтбор.ДокументУсловий ЕСТЬ NULL

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)),
	РетроБонусыКлиентовДоговорыСоглашения.ДокументУсловий,
	РетроБонусыКлиентовДоговорыСоглашения.НачалоДействия,
	РетроБонусыКлиентовДоговорыСоглашения.ОкончаниеДействия,
	СоглашенияСКлиентами.Контрагент,
	СоглашенияСКлиентами.Партнер,
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Вид, ЗНАЧЕНИЕ(Справочник.ВидыРетроБонусовКлиентов.ПустаяСсылка)),
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Описание, ""),
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Участники, ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.ПустаяСсылка)),
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.СоставУчастников, ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.ПустаяСсылка)),
	РетроБонусыКлиентовДоговорыСоглашения.Договор,
	РетроБонусыКлиентовДоговорыСоглашения.Соглашение
ИЗ
	РегистрСведений.РетроБонусыКлиентовДоговорыСоглашения КАК РетроБонусыКлиентовДоговорыСоглашения
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.СоглашенияСКлиентами КАК СоглашенияСКлиентами
		ПО РетроБонусыКлиентовДоговорыСоглашения.Соглашение = СоглашенияСКлиентами.Ссылка
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РетроБонусыКлиентовУсловия КАК РетроБонусыКлиентовУсловия
		ПО РетроБонусыКлиентовДоговорыСоглашения.ДокументУсловий = РетроБонусыКлиентовУсловия.ДокументУсловий
ГДЕ
	&amp;ДатаОтчета МЕЖДУ РетроБонусыКлиентовДоговорыСоглашения.НачалоДействия И РетроБонусыКлиентовДоговорыСоглашения.ОкончаниеДействия
	И (СоглашенияСКлиентами.Контрагент = &amp;Контрагент
			ИЛИ СоглашенияСКлиентами.Контрагент = ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка))
	И (&amp;ВариантОтчета = 2
			ИЛИ &amp;ВариантОтчета = 5)
{ГДЕ
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)) = &amp;Организация),
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.Вид, ЗНАЧЕНИЕ(Справочник.ВидыРетроБонусовКлиентов.ПустаяСсылка))).* КАК Вид,
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.СоставУчастников, ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.ПустаяСсылка))).* КАК СоставУчастников,
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.Участники, ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.ПустаяСсылка))).* КАК Участники,
	РетроБонусыКлиентовДоговорыСоглашения.ДокументУсловий.*}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)),
	РетроБонусыКлиентовДоговорыСоглашения.ДокументУсловий,
	РетроБонусыКлиентовДоговорыСоглашения.НачалоДействия,
	РетроБонусыКлиентовДоговорыСоглашения.ОкончаниеДействия,
	ДоговорыКонтрагентов.Контрагент,
	ДоговорыКонтрагентов.Партнер,
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Вид, ЗНАЧЕНИЕ(Справочник.ВидыРетроБонусовКлиентов.ПустаяСсылка)),
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Описание, ""),
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Участники, ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.ПустаяСсылка)),
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.СоставУчастников, ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.ПустаяСсылка)),
	РетроБонусыКлиентовДоговорыСоглашения.Договор,
	РетроБонусыКлиентовДоговорыСоглашения.Соглашение
ИЗ
	РегистрСведений.РетроБонусыКлиентовДоговорыСоглашения КАК РетроБонусыКлиентовДоговорыСоглашения
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.ДоговорыКонтрагентов КАК ДоговорыКонтрагентов
		ПО РетроБонусыКлиентовДоговорыСоглашения.Договор = ДоговорыКонтрагентов.Ссылка
		И РетроБонусыКлиентовДоговорыСоглашения.Договор В(&amp;Договоры)
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РетроБонусыКлиентовУсловия КАК РетроБонусыКлиентовУсловия
		ПО РетроБонусыКлиентовДоговорыСоглашения.ДокументУсловий = РетроБонусыКлиентовУсловия.ДокументУсловий
ГДЕ
	&amp;ДатаОтчета МЕЖДУ РетроБонусыКлиентовДоговорыСоглашения.НачалоДействия И РетроБонусыКлиентовДоговорыСоглашения.ОкончаниеДействия
	И (&amp;ВариантОтчета = 2
			ИЛИ &amp;ВариантОтчета = 5)
{ГДЕ
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)) = &amp;Организация),
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.Вид, ЗНАЧЕНИЕ(Справочник.ВидыРетроБонусовКлиентов.ПустаяСсылка))).* КАК Вид,
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.СоставУчастников, ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.ПустаяСсылка))).* КАК СоставУчастников,
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.Участники, ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.ПустаяСсылка))).* КАК Участники,
	РетроБонусыКлиентовДоговорыСоглашения.ДокументУсловий.*}</query>
			<autoFillFields>false</autoFillFields>
		</item>
		<item xsi:type="DataSetQuery">
			<name>НаборДанныхПоПартнеру</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>Организация</dataPath>
				<field>Организация</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Контрагент</dataPath>
				<field>Контрагент</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Контрагент</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОкончаниеДействия</dataPath>
				<field>ОкончаниеДействия</field>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>НачалоДействия</dataPath>
				<field>НачалоДействия</field>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ДокументУсловий</dataPath>
				<field>ДокументУсловий</field>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Партнер</dataPath>
				<field>Партнер</field>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Вид</dataPath>
				<field>Вид</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Участники</dataPath>
				<field>Участники</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Описание</dataPath>
				<field>Описание</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>СоставУчастников</dataPath>
				<field>СоставУчастников</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Состав участников</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Договор</dataPath>
				<field>Договор</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Договор</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Соглашение</dataPath>
				<field>Соглашение</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Соглашение</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<dataSource>ИсточникДанных1</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	РетроБонусыКлиентовУсловия.Организация КАК Организация,
	РетроБонусыКлиентовКонтрагенты.ДокументУсловий КАК ДокументУсловий,
	РетроБонусыКлиентовКонтрагенты.НачалоДействия КАК НачалоДействия,
	РетроБонусыКлиентовКонтрагенты.ОкончаниеДействия КАК ОкончаниеДействия,
	РетроБонусыКлиентовКонтрагенты.Контрагент КАК Контрагент,
	РетроБонусыКлиентовКонтрагенты.Партнер КАК Партнер,
	РетроБонусыКлиентовУсловия.Вид КАК Вид,
	РетроБонусыКлиентовУсловия.Описание КАК Описание,
	РетроБонусыКлиентовУсловия.Участники КАК Участники,
	РетроБонусыКлиентовУсловия.СоставУчастников КАК СоставУчастников
ПОМЕСТИТЬ ВТ_РетроБонусыУсловия
ИЗ
	РегистрСведений.РетроБонусыКлиентовКонтрагенты КАК РетроБонусыКлиентовКонтрагенты
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РетроБонусыКлиентовУсловия КАК РетроБонусыКлиентовУсловия
		ПО РетроБонусыКлиентовКонтрагенты.ДокументУсловий = РетроБонусыКлиентовУсловия.ДокументУсловий
ГДЕ
	(РетроБонусыКлиентовКонтрагенты.Контрагент = &amp;Контрагент
			ИЛИ РетроБонусыКлиентовКонтрагенты.Контрагент В (&amp;КонтрагентыПартнера)
			ИЛИ РетроБонусыКлиентовКонтрагенты.Контрагент = ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка))
	И РетроБонусыКлиентовУсловия.Участники = ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.Выбранные)
	И &amp;ДатаОтчета МЕЖДУ РетроБонусыКлиентовКонтрагенты.НачалоДействия И РетроБонусыКлиентовКонтрагенты.ОкончаниеДействия
	И (&amp;ВариантОтчета = 1
			ИЛИ &amp;ВариантОтчета = 4)
{ГДЕ
	(РетроБонусыКлиентовУсловия.Организация = &amp;Организация),
	РетроБонусыКлиентовУсловия.Вид.*,
	РетроБонусыКлиентовУсловия.Участники.*,
	РетроБонусыКлиентовУсловия.СоставУчастников.*,
	РетроБонусыКлиентовКонтрагенты.ДокументУсловий.*}

ОБЪЕДИНИТЬ

ВЫБРАТЬ
	РетроБонусыКлиентовУсловия.Организация,
	РетроБонусыКлиентовКонтрагенты.ДокументУсловий,
	РетроБонусыКлиентовКонтрагенты.НачалоДействия,
	РетроБонусыКлиентовКонтрагенты.ОкончаниеДействия,
	РетроБонусыКлиентовКонтрагенты.Контрагент,
	РетроБонусыКлиентовКонтрагенты.Партнер,
	РетроБонусыКлиентовУсловия.Вид,
	РетроБонусыКлиентовУсловия.Описание,
	РетроБонусыКлиентовУсловия.Участники,
	РетроБонусыКлиентовУсловия.СоставУчастников
ИЗ
	РегистрСведений.РетроБонусыКлиентовКонтрагенты КАК РетроБонусыКлиентовКонтрагенты
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РетроБонусыКлиентовУсловия КАК РетроБонусыКлиентовУсловия
		ПО РетроБонусыКлиентовКонтрагенты.ДокументУсловий = РетроБонусыКлиентовУсловия.ДокументУсловий
ГДЕ
	(РетроБонусыКлиентовКонтрагенты.Партнер = &amp;Партнер
			ИЛИ РетроБонусыКлиентовКонтрагенты.Партнер = &amp;ПартнерКонтрагента
			ИЛИ РетроБонусыКлиентовКонтрагенты.Партнер = ЗНАЧЕНИЕ(Справочник.Партнеры.ПустаяСсылка))
	И РетроБонусыКлиентовУсловия.Участники = ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.Выбранные)
	И &amp;ДатаОтчета МЕЖДУ РетроБонусыКлиентовКонтрагенты.НачалоДействия И РетроБонусыКлиентовКонтрагенты.ОкончаниеДействия
	И (&amp;ВариантОтчета = 1
			ИЛИ &amp;ВариантОтчета = 4)
{ГДЕ
	(РетроБонусыКлиентовУсловия.Организация = &amp;Организация),
	РетроБонусыКлиентовУсловия.Вид.*,
	РетроБонусыКлиентовУсловия.Участники.*,
	РетроБонусыКлиентовУсловия.СоставУчастников.*,
	РетроБонусыКлиентовКонтрагенты.ДокументУсловий.*}

ИНДЕКСИРОВАТЬ ПО
	Контрагент,
	Партнер,
	СоставУчастников,
	Участники
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	РетроБонусыКлиентовУсловия.Организация КАК Организация,
	РетроБонусыКлиентовКонтрагенты.ДокументУсловий КАК ДокументУсловий,
	РетроБонусыКлиентовКонтрагенты.НачалоДействия КАК НачалоДействия,
	РетроБонусыКлиентовКонтрагенты.ОкончаниеДействия КАК ОкончаниеДействия,
	РетроБонусыКлиентовКонтрагенты.Контрагент КАК Контрагент,
	РетроБонусыКлиентовКонтрагенты.Партнер КАК Партнер,
	РетроБонусыКлиентовУсловия.Вид КАК Вид,
	РетроБонусыКлиентовУсловия.Описание КАК Описание,
	РетроБонусыКлиентовУсловия.Участники КАК Участники,
	РетроБонусыКлиентовУсловия.СоставУчастников КАК СоставУчастников
ПОМЕСТИТЬ ВТ_РетроБонусыУсловияКромеВыбранных
ИЗ
	РегистрСведений.РетроБонусыКлиентовКонтрагенты КАК РетроБонусыКлиентовКонтрагенты
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РетроБонусыКлиентовУсловия КАК РетроБонусыКлиентовУсловия
		ПО РетроБонусыКлиентовКонтрагенты.ДокументУсловий = РетроБонусыКлиентовУсловия.ДокументУсловий
ГДЕ
	&amp;ДатаОтчета МЕЖДУ РетроБонусыКлиентовКонтрагенты.НачалоДействия И РетроБонусыКлиентовКонтрагенты.ОкончаниеДействия
	И РетроБонусыКлиентовУсловия.Участники = ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.КромеВыбранных)
	И (&amp;ВариантОтчета = 1
			ИЛИ &amp;ВариантОтчета = 4)
{ГДЕ
	(РетроБонусыКлиентовУсловия.Организация = &amp;Организация),
	РетроБонусыКлиентовУсловия.Вид.*,
	РетроБонусыКлиентовУсловия.Участники.*,
	РетроБонусыКлиентовУсловия.СоставУчастников.*,
	РетроБонусыКлиентовКонтрагенты.ДокументУсловий.*}
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
	РетроБонусыКлиентовУсловия.Организация КАК Организация,
	РетроБонусыКлиентовУсловия.ДокументУсловий КАК ДокументУсловий,
	РетроБонусыКлиентовУсловия.НачалоДействия КАК НачалоДействия,
	РетроБонусыКлиентовУсловия.ОкончаниеДействия КАК ОкончаниеДействия,
	&amp;Контрагент КАК Контрагент,
	&amp;Партнер КАК Партнер,
	РетроБонусыКлиентовУсловия.Вид КАК Вид,
	РетроБонусыКлиентовУсловия.Описание КАК Описание,
	РетроБонусыКлиентовУсловия.Участники КАК Участники,
	РетроБонусыКлиентовУсловия.СоставУчастников КАК СоставУчастников,
	ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка) КАК Договор,
	ЗНАЧЕНИЕ(Справочник.СоглашенияСКлиентами.ПустаяСсылка) КАК Соглашение
{ВЫБРАТЬ
	Организация.*,
	ДокументУсловий.*,
	НачалоДействия,
	ОкончаниеДействия,
	Контрагент.*,
	Партнер.*,
	Вид.*,
	Описание,
	Участники.*,
	СоставУчастников.*,
	Договор.*,
	Соглашение.*}
ИЗ
	РегистрСведений.РетроБонусыКлиентовУсловия КАК РетроБонусыКлиентовУсловия
ГДЕ
	&amp;ДатаОтчета МЕЖДУ РетроБонусыКлиентовУсловия.НачалоДействия И РетроБонусыКлиентовУсловия.ОкончаниеДействия
	И РетроБонусыКлиентовУсловия.Участники = ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.Все)
	И (&amp;ВариантОтчета = 1
			ИЛИ &amp;ВариантОтчета = 4)
{ГДЕ
	(РетроБонусыКлиентовУсловия.Организация = &amp;Организация),
	РетроБонусыКлиентовУсловия.Вид.*,
	РетроБонусыКлиентовУсловия.Участники.*,
	РетроБонусыКлиентовУсловия.СоставУчастников.* КАК СоставУчастников,
	РетроБонусыКлиентовУсловия.ДокументУсловий.*}

ОБЪЕДИНИТЬ

ВЫБРАТЬ
	ВТ_РетроБонусыУсловия.Организация,
	ВТ_РетроБонусыУсловия.ДокументУсловий,
	ВТ_РетроБонусыУсловия.НачалоДействия,
	ВТ_РетроБонусыУсловия.ОкончаниеДействия,
	ВТ_РетроБонусыУсловия.Контрагент,
	ВТ_РетроБонусыУсловия.Партнер,
	ВТ_РетроБонусыУсловия.Вид,
	ВТ_РетроБонусыУсловия.Описание,
	ВТ_РетроБонусыУсловия.Участники,
	ВТ_РетроБонусыУсловия.СоставУчастников,
	ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка),
	ЗНАЧЕНИЕ(Справочник.СоглашенияСКлиентами.ПустаяСсылка)
ИЗ
	ВТ_РетроБонусыУсловия КАК ВТ_РетроБонусыУсловия
ГДЕ
	ВТ_РетроБонусыУсловия.СоставУчастников В (ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.Контрагенты), ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.Клиенты))
	И ВТ_РетроБонусыУсловия.Партнер = &amp;Партнер

ОБЪЕДИНИТЬ

ВЫБРАТЬ
	ВТ_РетроБонусыУсловия.Организация,
	ВТ_РетроБонусыУсловия.ДокументУсловий,
	ВТ_РетроБонусыУсловия.НачалоДействия,
	ВТ_РетроБонусыУсловия.ОкончаниеДействия,
	ВТ_РетроБонусыУсловия.Контрагент,
	ВТ_РетроБонусыУсловия.Партнер,
	ВТ_РетроБонусыУсловия.Вид,
	ВТ_РетроБонусыУсловия.Описание,
	ВТ_РетроБонусыУсловия.Участники,
	ВТ_РетроБонусыУсловия.СоставУчастников,
	ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка),
	ЗНАЧЕНИЕ(Справочник.СоглашенияСКлиентами.ПустаяСсылка)
ИЗ
	ВТ_РетроБонусыУсловия КАК ВТ_РетроБонусыУсловия
ГДЕ
	ВТ_РетроБонусыУсловия.СоставУчастников = ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.Контрагенты)
	И ВТ_РетроБонусыУсловия.Контрагент В(&amp;КонтрагентыПартнера)
	И ВТ_РетроБонусыУсловия.Партнер = ЗНАЧЕНИЕ(Справочник.Партнеры.ПустаяСсылка)

ОБЪЕДИНИТЬ

ВЫБРАТЬ РАЗЛИЧНЫЕ
	ВТ_РетроБонусыУсловияКромеВыбранных.Организация,
	ВТ_РетроБонусыУсловияКромеВыбранных.ДокументУсловий,
	ВТ_РетроБонусыУсловияКромеВыбранных.НачалоДействия,
	ВТ_РетроБонусыУсловияКромеВыбранных.ОкончаниеДействия,
	ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка),
	&amp;Партнер,
	ВТ_РетроБонусыУсловияКромеВыбранных.Вид,
	ВТ_РетроБонусыУсловияКромеВыбранных.Описание,
	ВТ_РетроБонусыУсловияКромеВыбранных.Участники,
	ВТ_РетроБонусыУсловияКромеВыбранных.СоставУчастников,
	ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка),
	ЗНАЧЕНИЕ(Справочник.СоглашенияСКлиентами.ПустаяСсылка)
ИЗ
	ВТ_РетроБонусыУсловияКромеВыбранных КАК ВТ_РетроБонусыУсловияКромеВыбранных
		ЛЕВОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ РАЗЛИЧНЫЕ
			ВТ_РетроБонусыУсловия.ДокументУсловий КАК ДокументУсловий
		ИЗ
			ВТ_РетроБонусыУсловияКромеВыбранных КАК ВТ_РетроБонусыУсловия
		ГДЕ
			ВТ_РетроБонусыУсловия.СоставУчастников = ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.Контрагенты)
			И ВТ_РетроБонусыУсловия.Контрагент В(&amp;КонтрагентыПартнера)
			И ВТ_РетроБонусыУсловия.Партнер = ЗНАЧЕНИЕ(Справочник.Партнеры.ПустаяСсылка)
		
		ОБЪЕДИНИТЬ
		
		ВЫБРАТЬ РАЗЛИЧНЫЕ
			ВТ_РетроБонусыУсловия.ДокументУсловий
		ИЗ
			ВТ_РетроБонусыУсловияКромеВыбранных КАК ВТ_РетроБонусыУсловия
		ГДЕ
			ВТ_РетроБонусыУсловия.СоставУчастников = ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.Контрагенты)
			И ВТ_РетроБонусыУсловия.Партнер = &amp;Партнер) КАК ВложенныйЗапросОтбор
		ПО ВТ_РетроБонусыУсловияКромеВыбранных.ДокументУсловий = ВложенныйЗапросОтбор.ДокументУсловий
ГДЕ
	ВТ_РетроБонусыУсловияКромеВыбранных.СоставУчастников = ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.Контрагенты)
	И ВложенныйЗапросОтбор.ДокументУсловий ЕСТЬ NULL

ОБЪЕДИНИТЬ

ВЫБРАТЬ РАЗЛИЧНЫЕ
	ВТ_РетроБонусыУсловияКромеВыбранных.Организация,
	ВТ_РетроБонусыУсловияКромеВыбранных.ДокументУсловий,
	ВТ_РетроБонусыУсловияКромеВыбранных.НачалоДействия,
	ВТ_РетроБонусыУсловияКромеВыбранных.ОкончаниеДействия,
	ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка),
	&amp;Партнер,
	ВТ_РетроБонусыУсловияКромеВыбранных.Вид,
	ВТ_РетроБонусыУсловияКромеВыбранных.Описание,
	ВТ_РетроБонусыУсловияКромеВыбранных.Участники,
	ВТ_РетроБонусыУсловияКромеВыбранных.СоставУчастников,
	ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка),
	ЗНАЧЕНИЕ(Справочник.СоглашенияСКлиентами.ПустаяСсылка)
ИЗ
	ВТ_РетроБонусыУсловияКромеВыбранных КАК ВТ_РетроБонусыУсловияКромеВыбранных
		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_РетроБонусыУсловияКромеВыбранных КАК ВТ_РетроБонусыУсловияОтбор
		ПО ВТ_РетроБонусыУсловияКромеВыбранных.ДокументУсловий = ВТ_РетроБонусыУсловияОтбор.ДокументУсловий
			И (ВТ_РетроБонусыУсловияОтбор.Партнер = &amp;Партнер)
			И (ВТ_РетроБонусыУсловияОтбор.СоставУчастников = ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.Клиенты))
ГДЕ
	ВТ_РетроБонусыУсловияКромеВыбранных.СоставУчастников = ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.Клиенты)
	И ВТ_РетроБонусыУсловияОтбор.ДокументУсловий ЕСТЬ NULL

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)),
	РетроБонусыКлиентовДоговорыСоглашения.ДокументУсловий,
	РетроБонусыКлиентовДоговорыСоглашения.НачалоДействия,
	РетроБонусыКлиентовДоговорыСоглашения.ОкончаниеДействия,
	СоглашенияСКлиентами.Контрагент,
	СоглашенияСКлиентами.Партнер,
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Вид, ЗНАЧЕНИЕ(Справочник.ВидыРетроБонусовКлиентов.ПустаяСсылка)),
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Описание, ""),
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Участники, ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.ПустаяСсылка)),
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.СоставУчастников, ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.ПустаяСсылка)),
	РетроБонусыКлиентовДоговорыСоглашения.Договор,
	РетроБонусыКлиентовДоговорыСоглашения.Соглашение
ИЗ
	РегистрСведений.РетроБонусыКлиентовДоговорыСоглашения КАК РетроБонусыКлиентовДоговорыСоглашения
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.СоглашенияСКлиентами КАК СоглашенияСКлиентами
		ПО РетроБонусыКлиентовДоговорыСоглашения.Соглашение = СоглашенияСКлиентами.Ссылка
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РетроБонусыКлиентовУсловия КАК РетроБонусыКлиентовУсловия
		ПО РетроБонусыКлиентовДоговорыСоглашения.ДокументУсловий = РетроБонусыКлиентовУсловия.ДокументУсловий
ГДЕ
	&amp;ДатаОтчета МЕЖДУ РетроБонусыКлиентовДоговорыСоглашения.НачалоДействия И РетроБонусыКлиентовДоговорыСоглашения.ОкончаниеДействия
	И (СоглашенияСКлиентами.Партнер = &amp;Партнер
			ИЛИ СоглашенияСКлиентами.Партнер = ЗНАЧЕНИЕ(Справочник.Партнеры.ПустаяСсылка))
	И (&amp;ВариантОтчета = 1
			ИЛИ &amp;ВариантОтчета = 4)
{ГДЕ
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)) = &amp;Организация),
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.Вид, ЗНАЧЕНИЕ(Справочник.ВидыРетроБонусовКлиентов.ПустаяСсылка))).* КАК Вид,
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.СоставУчастников, ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.ПустаяСсылка))).* КАК СоставУчастников,
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.Участники, ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.ПустаяСсылка))).* КАК Участники,
	РетроБонусыКлиентовДоговорыСоглашения.ДокументУсловий.*}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)),
	РетроБонусыКлиентовДоговорыСоглашения.ДокументУсловий,
	РетроБонусыКлиентовДоговорыСоглашения.НачалоДействия,
	РетроБонусыКлиентовДоговорыСоглашения.ОкончаниеДействия,
	ДоговорыКонтрагентов.Контрагент,
	ДоговорыКонтрагентов.Партнер,
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Вид, ЗНАЧЕНИЕ(Справочник.ВидыРетроБонусовКлиентов.ПустаяСсылка)),
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Описание, ""),
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Участники, ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.ПустаяСсылка)),
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.СоставУчастников, ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.ПустаяСсылка)),
	РетроБонусыКлиентовДоговорыСоглашения.Договор,
	РетроБонусыКлиентовДоговорыСоглашения.Соглашение
ИЗ
	РегистрСведений.РетроБонусыКлиентовДоговорыСоглашения КАК РетроБонусыКлиентовДоговорыСоглашения
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.ДоговорыКонтрагентов КАК ДоговорыКонтрагентов
		ПО РетроБонусыКлиентовДоговорыСоглашения.Договор = ДоговорыКонтрагентов.Ссылка
		И РетроБонусыКлиентовДоговорыСоглашения.Договор В(&amp;Договоры)
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РетроБонусыКлиентовУсловия КАК РетроБонусыКлиентовУсловия
		ПО РетроБонусыКлиентовДоговорыСоглашения.ДокументУсловий = РетроБонусыКлиентовУсловия.ДокументУсловий
ГДЕ
	&amp;ДатаОтчета МЕЖДУ РетроБонусыКлиентовДоговорыСоглашения.НачалоДействия И РетроБонусыКлиентовДоговорыСоглашения.ОкончаниеДействия
	И (&amp;ВариантОтчета = 1
			ИЛИ &amp;ВариантОтчета = 4)
	
{ГДЕ
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)) = &amp;Организация),
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.Вид, ЗНАЧЕНИЕ(Справочник.ВидыРетроБонусовКлиентов.ПустаяСсылка))).* КАК Вид,
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.СоставУчастников, ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.ПустаяСсылка))).* КАК СоставУчастников,
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.Участники, ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.ПустаяСсылка))).* КАК Участники,
	РетроБонусыКлиентовДоговорыСоглашения.ДокументУсловий.*}</query>
			<autoFillFields>false</autoFillFields>
		</item>
		<item xsi:type="DataSetQuery">
			<name>НаборДанныхПоКонтрагентуПартнеру</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>Организация</dataPath>
				<field>Организация</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Контрагент</dataPath>
				<field>Контрагент</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Контрагент</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ОкончаниеДействия</dataPath>
				<field>ОкончаниеДействия</field>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>НачалоДействия</dataPath>
				<field>НачалоДействия</field>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ДокументУсловий</dataPath>
				<field>ДокументУсловий</field>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Партнер</dataPath>
				<field>Партнер</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Клиент</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Вид</dataPath>
				<field>Вид</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>вид ретро-бонуса</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Участники</dataPath>
				<field>Участники</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Описание</dataPath>
				<field>Описание</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>СоставУчастников</dataPath>
				<field>СоставУчастников</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Состав участников</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Договор</dataPath>
				<field>Договор</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Договор</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Соглашение</dataPath>
				<field>Соглашение</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Соглашение</v8:content>
					</v8:item>
				</title>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<dataSource>ИсточникДанных1</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	РетроБонусыКлиентовУсловия.Организация КАК Организация,
	РетроБонусыКлиентовКонтрагенты.ДокументУсловий КАК ДокументУсловий,
	РетроБонусыКлиентовКонтрагенты.НачалоДействия КАК НачалоДействия,
	РетроБонусыКлиентовКонтрагенты.ОкончаниеДействия КАК ОкончаниеДействия,
	РетроБонусыКлиентовКонтрагенты.Контрагент КАК Контрагент,
	РетроБонусыКлиентовКонтрагенты.Партнер КАК Партнер,
	РетроБонусыКлиентовУсловия.Вид КАК Вид,
	РетроБонусыКлиентовУсловия.Описание КАК Описание,
	РетроБонусыКлиентовУсловия.Участники КАК Участники,
	РетроБонусыКлиентовУсловия.СоставУчастников КАК СоставУчастников
ПОМЕСТИТЬ ВТ_РетроБонусыУсловия
ИЗ
	РегистрСведений.РетроБонусыКлиентовКонтрагенты КАК РетроБонусыКлиентовКонтрагенты
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РетроБонусыКлиентовУсловия КАК РетроБонусыКлиентовУсловия
		ПО РетроБонусыКлиентовКонтрагенты.ДокументУсловий = РетроБонусыКлиентовУсловия.ДокументУсловий
ГДЕ
	(РетроБонусыКлиентовКонтрагенты.Контрагент = &amp;Контрагент
			ИЛИ РетроБонусыКлиентовКонтрагенты.Контрагент В (&amp;КонтрагентыПартнера)
			ИЛИ РетроБонусыКлиентовКонтрагенты.Контрагент = ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка))
	И РетроБонусыКлиентовУсловия.Участники = ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.Выбранные)
	И &amp;ДатаОтчета МЕЖДУ РетроБонусыКлиентовКонтрагенты.НачалоДействия И РетроБонусыКлиентовКонтрагенты.ОкончаниеДействия
	И &amp;ВариантОтчета = 3
{ГДЕ
	(РетроБонусыКлиентовУсловия.Организация = &amp;Организация),
	РетроБонусыКлиентовУсловия.Вид.*,
	РетроБонусыКлиентовУсловия.Участники.*,
	РетроБонусыКлиентовУсловия.СоставУчастников.*,
	РетроБонусыКлиентовКонтрагенты.ДокументУсловий.*}

ОБЪЕДИНИТЬ

ВЫБРАТЬ
	РетроБонусыКлиентовУсловия.Организация,
	РетроБонусыКлиентовКонтрагенты.ДокументУсловий,
	РетроБонусыКлиентовКонтрагенты.НачалоДействия,
	РетроБонусыКлиентовКонтрагенты.ОкончаниеДействия,
	РетроБонусыКлиентовКонтрагенты.Контрагент,
	РетроБонусыКлиентовКонтрагенты.Партнер,
	РетроБонусыКлиентовУсловия.Вид,
	РетроБонусыКлиентовУсловия.Описание,
	РетроБонусыКлиентовУсловия.Участники,
	РетроБонусыКлиентовУсловия.СоставУчастников
ИЗ
	РегистрСведений.РетроБонусыКлиентовКонтрагенты КАК РетроБонусыКлиентовКонтрагенты
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РетроБонусыКлиентовУсловия КАК РетроБонусыКлиентовУсловия
		ПО РетроБонусыКлиентовКонтрагенты.ДокументУсловий = РетроБонусыКлиентовУсловия.ДокументУсловий
ГДЕ
	(РетроБонусыКлиентовКонтрагенты.Партнер = &amp;Партнер
			ИЛИ РетроБонусыКлиентовКонтрагенты.Партнер = &amp;ПартнерКонтрагента
			ИЛИ РетроБонусыКлиентовКонтрагенты.Партнер = ЗНАЧЕНИЕ(Справочник.Партнеры.ПустаяСсылка))
	И РетроБонусыКлиентовУсловия.Участники = ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.Выбранные)
	И &amp;ДатаОтчета МЕЖДУ РетроБонусыКлиентовКонтрагенты.НачалоДействия И РетроБонусыКлиентовКонтрагенты.ОкончаниеДействия
	И &amp;ВариантОтчета = 3
{ГДЕ
	(РетроБонусыКлиентовУсловия.Организация = &amp;Организация),
	РетроБонусыКлиентовУсловия.Вид.*,
	РетроБонусыКлиентовУсловия.Участники.*,
	РетроБонусыКлиентовУсловия.СоставУчастников.*,
	РетроБонусыКлиентовКонтрагенты.ДокументУсловий.*}

ИНДЕКСИРОВАТЬ ПО
	Контрагент,
	Партнер,
	Участники,
	СоставУчастников
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	РетроБонусыКлиентовУсловия.Организация КАК Организация,
	РетроБонусыКлиентовИНН.ДокументУсловий КАК ДокументУсловий,
	РетроБонусыКлиентовИНН.НачалоДействия КАК НачалоДействия,
	РетроБонусыКлиентовИНН.ОкончаниеДействия КАК ОкончаниеДействия,
	РетроБонусыКлиентовИНН.ИНН КАК КонтрагентИНН,
	ЗНАЧЕНИЕ(Справочник.Партнеры.ПустаяСсылка) КАК Партнер,
	РетроБонусыКлиентовУсловия.Вид КАК Вид,
	РетроБонусыКлиентовУсловия.Описание КАК Описание,
	РетроБонусыКлиентовУсловия.Участники КАК Участники,
	РетроБонусыКлиентовУсловия.СоставУчастников КАК СоставУчастников
ПОМЕСТИТЬ ВТ_РетроБонусыУсловияКромеВыбранныхИНН
ИЗ
	РегистрСведений.РетроБонусыКлиентовИНН КАК РетроБонусыКлиентовИНН
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РетроБонусыКлиентовУсловия КАК РетроБонусыКлиентовУсловия
		ПО РетроБонусыКлиентовИНН.ДокументУсловий = РетроБонусыКлиентовУсловия.ДокументУсловий
ГДЕ
	РетроБонусыКлиентовУсловия.Участники = ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.КромеВыбранных)
	И &amp;ДатаОтчета МЕЖДУ РетроБонусыКлиентовИНН.НачалоДействия И РетроБонусыКлиентовИНН.ОкончаниеДействия
	И &amp;ВариантОтчета = 3
{ГДЕ
	(РетроБонусыКлиентовУсловия.Организация = &amp;Организация),
	РетроБонусыКлиентовУсловия.Вид.*,
	РетроБонусыКлиентовУсловия.Участники.*,
	РетроБонусыКлиентовУсловия.СоставУчастников.*,
	РетроБонусыКлиентовИНН.ДокументУсловий.*}
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	РетроБонусыКлиентовУсловия.Организация КАК Организация,
	РетроБонусыКлиентовКонтрагенты.ДокументУсловий КАК ДокументУсловий,
	РетроБонусыКлиентовКонтрагенты.НачалоДействия КАК НачалоДействия,
	РетроБонусыКлиентовКонтрагенты.ОкончаниеДействия КАК ОкончаниеДействия,
	РетроБонусыКлиентовКонтрагенты.Контрагент КАК Контрагент,
	РетроБонусыКлиентовКонтрагенты.Партнер КАК Партнер,
	РетроБонусыКлиентовУсловия.Вид КАК Вид,
	РетроБонусыКлиентовУсловия.Описание КАК Описание,
	РетроБонусыКлиентовУсловия.Участники КАК Участники,
	РетроБонусыКлиентовУсловия.СоставУчастников КАК СоставУчастников
ПОМЕСТИТЬ ВТ_РетроБонусыУсловияКромеВыбранных
ИЗ
	РегистрСведений.РетроБонусыКлиентовКонтрагенты КАК РетроБонусыКлиентовКонтрагенты
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РетроБонусыКлиентовУсловия КАК РетроБонусыКлиентовУсловия
		ПО РетроБонусыКлиентовКонтрагенты.ДокументУсловий = РетроБонусыКлиентовУсловия.ДокументУсловий
ГДЕ
	&amp;ДатаОтчета МЕЖДУ РетроБонусыКлиентовКонтрагенты.НачалоДействия И РетроБонусыКлиентовКонтрагенты.ОкончаниеДействия
	И РетроБонусыКлиентовУсловия.Участники = ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.КромеВыбранных)
	И &amp;ВариантОтчета = 3
{ГДЕ
	(РетроБонусыКлиентовУсловия.Организация = &amp;Организация),
	РетроБонусыКлиентовУсловия.Вид.*,
	РетроБонусыКлиентовУсловия.Участники.*,
	РетроБонусыКлиентовУсловия.СоставУчастников.*,
	РетроБонусыКлиентовКонтрагенты.ДокументУсловий.*}
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
	РетроБонусыКлиентовУсловия.Организация КАК Организация,
	РетроБонусыКлиентовИНН.ДокументУсловий КАК ДокументУсловий,
	РетроБонусыКлиентовИНН.НачалоДействия КАК НачалоДействия,
	РетроБонусыКлиентовИНН.ОкончаниеДействия КАК ОкончаниеДействия,
	&amp;Контрагент КАК Контрагент,
	ЗНАЧЕНИЕ(Справочник.Партнеры.ПустаяСсылка) КАК Партнер,
	РетроБонусыКлиентовУсловия.Вид КАК Вид,
	РетроБонусыКлиентовУсловия.Описание КАК Описание,
	РетроБонусыКлиентовУсловия.Участники КАК Участники,
	РетроБонусыКлиентовУсловия.СоставУчастников КАК СоставУчастников,
	ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка) КАК Договор,
	ЗНАЧЕНИЕ(Справочник.СоглашенияСКлиентами.ПустаяСсылка) КАК Соглашение
{ВЫБРАТЬ
	Организация.*,
	ДокументУсловий.*,
	НачалоДействия,
	ОкончаниеДействия,
	Контрагент.*,
	Партнер.*,
	Вид.*,
	Описание,
	Участники.*,
	СоставУчастников.*,
	Договор.*,
	Соглашение.*}
ИЗ
	РегистрСведений.РетроБонусыКлиентовИНН КАК РетроБонусыКлиентовИНН
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РетроБонусыКлиентовУсловия КАК РетроБонусыКлиентовУсловия
		ПО РетроБонусыКлиентовИНН.ДокументУсловий = РетроБонусыКлиентовУсловия.ДокументУсловий
ГДЕ
	РетроБонусыКлиентовУсловия.Участники = ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.Выбранные)
	И РетроБонусыКлиентовИНН.ИНН = &amp;ИНН
	И &amp;ДатаОтчета МЕЖДУ РетроБонусыКлиентовИНН.НачалоДействия И РетроБонусыКлиентовИНН.ОкончаниеДействия
	И &amp;ВариантОтчета = 3
{ГДЕ
	(РетроБонусыКлиентовУсловия.Организация = &amp;Организация),
	РетроБонусыКлиентовУсловия.Участники.*,
	РетроБонусыКлиентовУсловия.СоставУчастников.* КАК СоставУчастников,
	РетроБонусыКлиентовИНН.ДокументУсловий.*,
	РетроБонусыКлиентовУсловия.Вид.*}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ РАЗЛИЧНЫЕ
	РетроБонусыКлиентовУсловия.Организация,
	РетроБонусыКлиентовУсловия.ДокументУсловий,
	РетроБонусыКлиентовУсловия.НачалоДействия,
	РетроБонусыКлиентовУсловия.ОкончаниеДействия,
	&amp;Контрагент,
	&amp;Партнер,
	РетроБонусыКлиентовУсловия.Вид,
	РетроБонусыКлиентовУсловия.Описание,
	РетроБонусыКлиентовУсловия.Участники,
	РетроБонусыКлиентовУсловия.СоставУчастников,
	ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка),
	ЗНАЧЕНИЕ(Справочник.СоглашенияСКлиентами.ПустаяСсылка)
ИЗ
	РегистрСведений.РетроБонусыКлиентовУсловия КАК РетроБонусыКлиентовУсловия
ГДЕ
	&amp;ДатаОтчета МЕЖДУ РетроБонусыКлиентовУсловия.НачалоДействия И РетроБонусыКлиентовУсловия.ОкончаниеДействия
	И РетроБонусыКлиентовУсловия.Участники = ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.Все)
	И &amp;ВариантОтчета = 3
{ГДЕ
	(РетроБонусыКлиентовУсловия.Организация = &amp;Организация),
	РетроБонусыКлиентовУсловия.Вид.*,
	РетроБонусыКлиентовУсловия.Участники.*,
	РетроБонусыКлиентовУсловия.СоставУчастников.* КАК СоставУчастников,
	РетроБонусыКлиентовУсловия.ДокументУсловий.*}

ОБЪЕДИНИТЬ

ВЫБРАТЬ
	ВТ_РетроБонусыУсловия.Организация,
	ВТ_РетроБонусыУсловия.ДокументУсловий,
	ВТ_РетроБонусыУсловия.НачалоДействия,
	ВТ_РетроБонусыУсловия.ОкончаниеДействия,
	ВТ_РетроБонусыУсловия.Контрагент,
	ВТ_РетроБонусыУсловия.Партнер,
	ВТ_РетроБонусыУсловия.Вид,
	ВТ_РетроБонусыУсловия.Описание,
	ВТ_РетроБонусыУсловия.Участники,
	ВТ_РетроБонусыУсловия.СоставУчастников,
	ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка),
	ЗНАЧЕНИЕ(Справочник.СоглашенияСКлиентами.ПустаяСсылка)
ИЗ
	ВТ_РетроБонусыУсловия КАК ВТ_РетроБонусыУсловия
ГДЕ
	ВТ_РетроБонусыУсловия.СоставУчастников = ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.Контрагенты)
	И ВТ_РетроБонусыУсловия.Контрагент = &amp;Контрагент
	И (ВТ_РетроБонусыУсловия.Партнер = &amp;Партнер
			ИЛИ ВТ_РетроБонусыУсловия.Партнер = ЗНАЧЕНИЕ(Справочник.Партнеры.ПустаяСсылка))

ОБЪЕДИНИТЬ

ВЫБРАТЬ
	ВТ_РетроБонусыУсловия.Организация,
	ВТ_РетроБонусыУсловия.ДокументУсловий,
	ВТ_РетроБонусыУсловия.НачалоДействия,
	ВТ_РетроБонусыУсловия.ОкончаниеДействия,
	ВТ_РетроБонусыУсловия.Контрагент,
	ВТ_РетроБонусыУсловия.Партнер,
	ВТ_РетроБонусыУсловия.Вид,
	ВТ_РетроБонусыУсловия.Описание,
	ВТ_РетроБонусыУсловия.Участники,
	ВТ_РетроБонусыУсловия.СоставУчастников,
	ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка),
	ЗНАЧЕНИЕ(Справочник.СоглашенияСКлиентами.ПустаяСсылка)
ИЗ
	ВТ_РетроБонусыУсловия КАК ВТ_РетроБонусыУсловия
ГДЕ
	ВТ_РетроБонусыУсловия.СоставУчастников = ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.Клиенты)
	И ВТ_РетроБонусыУсловия.Партнер = &amp;Партнер
	И (ВТ_РетроБонусыУсловия.Контрагент = &amp;Контрагент
			ИЛИ ВТ_РетроБонусыУсловия.Контрагент = ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка))

ОБЪЕДИНИТЬ

ВЫБРАТЬ РАЗЛИЧНЫЕ
	ВТ_РетроБонусыУсловияКромеВыбранных.Организация,
	ВТ_РетроБонусыУсловияКромеВыбранных.ДокументУсловий,
	ВТ_РетроБонусыУсловияКромеВыбранных.НачалоДействия,
	ВТ_РетроБонусыУсловияКромеВыбранных.ОкончаниеДействия,
	&amp;Контрагент,
	ЗНАЧЕНИЕ(Справочник.Партнеры.ПустаяСсылка),
	ВТ_РетроБонусыУсловияКромеВыбранных.Вид,
	ВТ_РетроБонусыУсловияКромеВыбранных.Описание,
	ВТ_РетроБонусыУсловияКромеВыбранных.Участники,
	ВТ_РетроБонусыУсловияКромеВыбранных.СоставУчастников,
	ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка),
	ЗНАЧЕНИЕ(Справочник.СоглашенияСКлиентами.ПустаяСсылка)
ИЗ
	ВТ_РетроБонусыУсловияКромеВыбранныхИНН КАК ВТ_РетроБонусыУсловияКромеВыбранных
		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_РетроБонусыУсловияКромеВыбранныхИНН КАК ВТ_РетроБонусыУсловияОтбор
		ПО ВТ_РетроБонусыУсловияКромеВыбранных.ДокументУсловий = ВТ_РетроБонусыУсловияОтбор.ДокументУсловий
			И (ВТ_РетроБонусыУсловияОтбор.КонтрагентИНН = &amp;ИНН)
ГДЕ
	ВТ_РетроБонусыУсловияОтбор.ДокументУсловий ЕСТЬ NULL

ОБЪЕДИНИТЬ

ВЫБРАТЬ РАЗЛИЧНЫЕ
	ВТ_РетроБонусыУсловияКромеВыбранных.Организация,
	ВТ_РетроБонусыУсловияКромеВыбранных.ДокументУсловий,
	ВТ_РетроБонусыУсловияКромеВыбранных.НачалоДействия,
	ВТ_РетроБонусыУсловияКромеВыбранных.ОкончаниеДействия,
	&amp;Контрагент,
	&amp;Партнер,
	ВТ_РетроБонусыУсловияКромеВыбранных.Вид,
	ВТ_РетроБонусыУсловияКромеВыбранных.Описание,
	ВТ_РетроБонусыУсловияКромеВыбранных.Участники,
	ВТ_РетроБонусыУсловияКромеВыбранных.СоставУчастников,
	ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка),
	ЗНАЧЕНИЕ(Справочник.СоглашенияСКлиентами.ПустаяСсылка)
ИЗ
	ВТ_РетроБонусыУсловияКромеВыбранных КАК ВТ_РетроБонусыУсловияКромеВыбранных
		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_РетроБонусыУсловияКромеВыбранных КАК ВТ_РетроБонусыУсловияОтбор
		ПО ВТ_РетроБонусыУсловияКромеВыбранных.ДокументУсловий = ВТ_РетроБонусыУсловияОтбор.ДокументУсловий
			И (ВТ_РетроБонусыУсловияОтбор.СоставУчастников = ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.Контрагенты))
			И (ВТ_РетроБонусыУсловияОтбор.Контрагент = &amp;Контрагент)
			И (ВТ_РетроБонусыУсловияОтбор.Партнер = &amp;Партнер
				ИЛИ ВТ_РетроБонусыУсловияОтбор.Партнер = ЗНАЧЕНИЕ(Справочник.Партнеры.ПустаяСсылка))
ГДЕ
	ВТ_РетроБонусыУсловияКромеВыбранных.СоставУчастников = ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.Контрагенты)
	И ВТ_РетроБонусыУсловияОтбор.ДокументУсловий ЕСТЬ NULL

ОБЪЕДИНИТЬ

ВЫБРАТЬ РАЗЛИЧНЫЕ
	ВТ_РетроБонусыУсловияКромеВыбранных.Организация,
	ВТ_РетроБонусыУсловияКромеВыбранных.ДокументУсловий,
	ВТ_РетроБонусыУсловияКромеВыбранных.НачалоДействия,
	ВТ_РетроБонусыУсловияКромеВыбранных.ОкончаниеДействия,
	&amp;Контрагент,
	&amp;Партнер,
	ВТ_РетроБонусыУсловияКромеВыбранных.Вид,
	ВТ_РетроБонусыУсловияКромеВыбранных.Описание,
	ВТ_РетроБонусыУсловияКромеВыбранных.Участники,
	ВТ_РетроБонусыУсловияКромеВыбранных.СоставУчастников,
	ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка),
	ЗНАЧЕНИЕ(Справочник.СоглашенияСКлиентами.ПустаяСсылка)
ИЗ
	ВТ_РетроБонусыУсловияКромеВыбранных КАК ВТ_РетроБонусыУсловияКромеВыбранных
		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_РетроБонусыУсловияКромеВыбранных КАК ВТ_РетроБонусыУсловияОтбор
		ПО ВТ_РетроБонусыУсловияКромеВыбранных.ДокументУсловий = ВТ_РетроБонусыУсловияОтбор.ДокументУсловий
			И (ВТ_РетроБонусыУсловияОтбор.СоставУчастников = ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.Клиенты))
			И (ВТ_РетроБонусыУсловияОтбор.Партнер = &amp;Партнер)
			И (ВТ_РетроБонусыУсловияОтбор.Контрагент = &amp;Контрагент
				ИЛИ ВТ_РетроБонусыУсловияОтбор.Контрагент = ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка))
ГДЕ
	ВТ_РетроБонусыУсловияКромеВыбранных.СоставУчастников = ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.Клиенты)
	И ВТ_РетроБонусыУсловияОтбор.ДокументУсловий ЕСТЬ NULL

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)),
	РетроБонусыКлиентовДоговорыСоглашения.ДокументУсловий,
	РетроБонусыКлиентовДоговорыСоглашения.НачалоДействия,
	РетроБонусыКлиентовДоговорыСоглашения.ОкончаниеДействия,
	СоглашенияСКлиентами.Контрагент,
	СоглашенияСКлиентами.Партнер,
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Вид, ЗНАЧЕНИЕ(Справочник.ВидыРетроБонусовКлиентов.ПустаяСсылка)),
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Описание, ""),
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Участники, ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.ПустаяСсылка)),
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.СоставУчастников, ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.ПустаяСсылка)),
	РетроБонусыКлиентовДоговорыСоглашения.Договор,
	РетроБонусыКлиентовДоговорыСоглашения.Соглашение
ИЗ
	РегистрСведений.РетроБонусыКлиентовДоговорыСоглашения КАК РетроБонусыКлиентовДоговорыСоглашения
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.СоглашенияСКлиентами КАК СоглашенияСКлиентами
		ПО РетроБонусыКлиентовДоговорыСоглашения.Соглашение = СоглашенияСКлиентами.Ссылка
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РетроБонусыКлиентовУсловия КАК РетроБонусыКлиентовУсловия
		ПО РетроБонусыКлиентовДоговорыСоглашения.ДокументУсловий = РетроБонусыКлиентовУсловия.ДокументУсловий
ГДЕ
	&amp;ДатаОтчета МЕЖДУ РетроБонусыКлиентовДоговорыСоглашения.НачалоДействия И РетроБонусыКлиентовДоговорыСоглашения.ОкончаниеДействия
	И (СоглашенияСКлиентами.Партнер = &amp;Партнер
			ИЛИ СоглашенияСКлиентами.Партнер = ЗНАЧЕНИЕ(Справочник.Партнеры.ПустаяСсылка))
	И (СоглашенияСКлиентами.Контрагент = &amp;Контрагент
			ИЛИ СоглашенияСКлиентами.Контрагент = ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка))
	И &amp;ВариантОтчета = 3
{ГДЕ
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)) = &amp;Организация),
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.Вид, ЗНАЧЕНИЕ(Справочник.ВидыРетроБонусовКлиентов.ПустаяСсылка))).* КАК Вид,
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.СоставУчастников, ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.ПустаяСсылка))).* КАК СоставУчастников,
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.Участники, ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.ПустаяСсылка))).* КАК Участники,
	РетроБонусыКлиентовДоговорыСоглашения.ДокументУсловий.*}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)),
	РетроБонусыКлиентовДоговорыСоглашения.ДокументУсловий,
	РетроБонусыКлиентовДоговорыСоглашения.НачалоДействия,
	РетроБонусыКлиентовДоговорыСоглашения.ОкончаниеДействия,
	ДоговорыКонтрагентов.Контрагент,
	ДоговорыКонтрагентов.Партнер,
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Вид, ЗНАЧЕНИЕ(Справочник.ВидыРетроБонусовКлиентов.ПустаяСсылка)),
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Описание, ""),
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.Участники, ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.ПустаяСсылка)),
	ЕСТЬNULL(РетроБонусыКлиентовУсловия.СоставУчастников, ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.ПустаяСсылка)),
	РетроБонусыКлиентовДоговорыСоглашения.Договор,
	РетроБонусыКлиентовДоговорыСоглашения.Соглашение
ИЗ
	РегистрСведений.РетроБонусыКлиентовДоговорыСоглашения КАК РетроБонусыКлиентовДоговорыСоглашения
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.ДоговорыКонтрагентов КАК ДоговорыКонтрагентов
		ПО РетроБонусыКлиентовДоговорыСоглашения.Договор = ДоговорыКонтрагентов.Ссылка
		И РетроБонусыКлиентовДоговорыСоглашения.Договор В(&amp;Договоры)
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РетроБонусыКлиентовУсловия КАК РетроБонусыКлиентовУсловия
		ПО РетроБонусыКлиентовДоговорыСоглашения.ДокументУсловий = РетроБонусыКлиентовУсловия.ДокументУсловий
ГДЕ
	&amp;ДатаОтчета МЕЖДУ РетроБонусыКлиентовДоговорыСоглашения.НачалоДействия И РетроБонусыКлиентовДоговорыСоглашения.ОкончаниеДействия
	И &amp;ВариантОтчета = 3
{ГДЕ
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)) = &amp;Организация),
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.Вид, ЗНАЧЕНИЕ(Справочник.ВидыРетроБонусовКлиентов.ПустаяСсылка))).* КАК Вид,
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.СоставУчастников, ЗНАЧЕНИЕ(Перечисление.СоставыУчастниковРетроБонусов.ПустаяСсылка))).* КАК СоставУчастников,
	(ЕСТЬNULL(РетроБонусыКлиентовУсловия.Участники, ЗНАЧЕНИЕ(Перечисление.СоставыСписковРетроБонусов.ПустаяСсылка))).* КАК Участники,
	РетроБонусыКлиентовДоговорыСоглашения.ДокументУсловий.*}</query>
			<autoFillFields>false</autoFillFields>
		</item>
	</dataSet>
	<parameter>
		<name>ДатаОтчета</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Дата отчета</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>Date</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>false</useRestriction>
		<inputParameters>
			<dcscor:item>
				<dcscor:parameter>ФорматРедактирования</dcscor:parameter>
				<dcscor:value xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>ДФ=dd.MM.yyyy</v8:content>
					</v8:item>
				</dcscor:value>
			</dcscor:item>
		</inputParameters>
		<denyIncompleteValues>true</denyIncompleteValues>
		<use>Always</use>
	</parameter>
	<parameter>
		<name>Организация</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Организация</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.Организации</v8:Type>
		</valueType>
		<value xsi:nil="true"/>
		<useRestriction>false</useRestriction>
	</parameter>
	<parameter>
		<name>Контрагент</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Контрагент</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.Контрагенты</v8:Type>
		</valueType>
		<value xsi:nil="true"/>
		<useRestriction>false</useRestriction>
	</parameter>
	<parameter>
		<name>Партнер</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Клиент</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.Партнеры</v8:Type>
		</valueType>
		<value xsi:nil="true"/>
		<useRestriction>false</useRestriction>
	</parameter>
	<parameter>
		<name>ВариантОтчета</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Вариант отчета</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:decimal</v8:Type>
			<v8:NumberQualifiers>
				<v8:Digits>0</v8:Digits>
				<v8:FractionDigits>0</v8:FractionDigits>
				<v8:AllowedSign>Any</v8:AllowedSign>
			</v8:NumberQualifiers>
		</valueType>
		<value xsi:type="xs:decimal">0</value>
		<useRestriction>true</useRestriction>
		<availableValue>
			<value xsi:type="xs:decimal">1</value>
			<presentation xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Отчет по клиенту</v8:content>
				</v8:item>
			</presentation>
		</availableValue>
		<availableValue>
			<value xsi:type="xs:decimal">2</value>
			<presentation xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Отчет по контрагенту</v8:content>
				</v8:item>
			</presentation>
		</availableValue>
		<availableValue>
			<value xsi:type="xs:decimal">3</value>
			<presentation xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Отчет по клиенту и контрагенту</v8:content>
				</v8:item>
			</presentation>
		</availableValue>
		<availableValue>
			<value xsi:type="xs:decimal">4</value>
			<presentation xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Отчет по клиенту (контекст)</v8:content>
				</v8:item>
			</presentation>
		</availableValue>
		<availableValue>
			<value xsi:type="xs:decimal">5</value>
			<presentation xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Отчет по контрагенту (контекст)</v8:content>
				</v8:item>
			</presentation>
		</availableValue>
		<use>Always</use>
	</parameter>
	<parameter>
		<name>ИНН</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>ИНН</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:TypeId>c7789e6a-123e-411f-aa24-30177c9c7b72</v8:TypeId>
		</valueType>
		<value xsi:nil="true"/>
		<useRestriction>true</useRestriction>
	</parameter>
	<parameter>
		<name>КонтрагентыПартнера</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Контрагенты партнера</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.Контрагенты</v8:Type>
		</valueType>
		<value xsi:nil="true"/>
		<useRestriction>true</useRestriction>
		<valueListAllowed>true</valueListAllowed>
	</parameter>
	<parameter>
		<name>ПартнерКонтрагента</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Партнер контрагента</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.Партнеры</v8:Type>
		</valueType>
		<value xsi:nil="true"/>
		<useRestriction>true</useRestriction>
	</parameter>
	<parameter>
		<name>Договоры</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Договоры</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.ДоговорыКонтрагентов</v8:Type>
		</valueType>
		<value xsi:nil="true"/>
		<useRestriction>true</useRestriction>
		<valueListAllowed>true</valueListAllowed>
	</parameter>
	<settingsVariant>
		<dcsset:name>ДействующиеРетроБонусыПоКлиенту</dcsset:name>
		<dcsset:presentation xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Действующие ретро-бонусы по клиенту</v8:content>
			</v8:item>
		</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:selection>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Контрагент</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Партнер</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Договор</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Соглашение</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ДокументУсловий</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Вид</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Описание</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СоставУчастников</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Участники</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemFolder">
					<dcsset:lwsTitle>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Период действия</v8:content>
						</v8:item>
					</dcsset:lwsTitle>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>НачалоДействия</dcsset:field>
						<dcsset:lwsTitle>
							<v8:item>
								<v8:lang>ru</v8:lang>
								<v8:content>с</v8:content>
							</v8:item>
						</dcsset:lwsTitle>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ОкончаниеДействия</dcsset:field>
						<dcsset:lwsTitle>
							<v8:item>
								<v8:lang>ru</v8:lang>
								<v8:content>по</v8:content>
							</v8:item>
						</dcsset:lwsTitle>
					</dcsset:item>
					<dcsset:placement>Auto</dcsset:placement>
				</dcsset:item>
			</dcsset:selection>
			<dcsset:filter>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Вид</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">ДокументУсловий</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">СоставУчастников</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Участники</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
				</dcsset:item>
			</dcsset:filter>
			<dcsset:dataParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ДатаОтчета</dcscor:parameter>
					<dcscor:value xsi:type="v8:StandardBeginningDate">
						<v8:variant xsi:type="v8:StandardBeginningDateVariant">BeginningOfThisDay</v8:variant>
					</dcscor:value>
					<dcsset:userSettingID>c1c688db-5dd3-457d-8d59-1751caf8cb3b</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>Организация</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
					<dcsset:userSettingID>8a9427c7-e115-4c77-a883-d613b1a8d08b</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>Контрагент</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
					<dcsset:userSettingID>74cade86-5ffc-4bf8-903b-1cea59acdfa5</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>Партнер</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
					<dcsset:userSettingID>869fe707-9bef-48af-a932-cb86c240e57e</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВариантОтчета</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">1</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>КонтрагентыПартнера</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
				</dcscor:item>
			</dcsset:dataParameters>
			<dcsset:order>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>ОкончаниеДействия</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>НачалоДействия</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>ДокументУсловий</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>Контрагент</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>Партнер</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
			</dcsset:order>
			<dcsset:outputParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьЗаголовок</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">Auto</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Заголовок</dcscor:parameter>
					<dcscor:value xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Действующие ретро-бонусы по клиенту</v8:content>
						</v8:item>
					</dcscor:value>
				</dcscor:item>
			</dcsset:outputParameters>
			<dcsset:item xsi:type="dcsset:StructureItemGroup">
				<dcsset:groupItems>
					<dcsset:item xsi:type="dcsset:GroupItemField">
						<dcsset:field>Организация</dcsset:field>
						<dcsset:groupType>Items</dcsset:groupType>
						<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
						<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
						<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
					</dcsset:item>
				</dcsset:groupItems>
				<dcsset:order>
					<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
				</dcsset:order>
				<dcsset:selection>
					<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
				</dcsset:selection>
				<dcsset:item xsi:type="dcsset:StructureItemGroup">
					<dcsset:order>
						<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
					</dcsset:order>
					<dcsset:selection>
						<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
					</dcsset:selection>
				</dcsset:item>
			</dcsset:item>
		</dcsset:settings>
	</settingsVariant>
	<settingsVariant>
		<dcsset:name>ДействующиеРетроБонусыПоКонтрагенту</dcsset:name>
		<dcsset:presentation xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Действующие ретро-бонусы по контрагенту</v8:content>
			</v8:item>
		</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:selection>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Контрагент</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Партнер</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Договор</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Соглашение</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ДокументУсловий</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Вид</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Описание</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СоставУчастников</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Участники</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemFolder">
					<dcsset:lwsTitle>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Период действия</v8:content>
						</v8:item>
					</dcsset:lwsTitle>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>НачалоДействия</dcsset:field>
						<dcsset:lwsTitle>
							<v8:item>
								<v8:lang>ru</v8:lang>
								<v8:content>с</v8:content>
							</v8:item>
						</dcsset:lwsTitle>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ОкончаниеДействия</dcsset:field>
						<dcsset:lwsTitle>
							<v8:item>
								<v8:lang>ru</v8:lang>
								<v8:content>по</v8:content>
							</v8:item>
						</dcsset:lwsTitle>
					</dcsset:item>
					<dcsset:placement>Auto</dcsset:placement>
				</dcsset:item>
			</dcsset:selection>
			<dcsset:filter>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Вид</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">ДокументУсловий</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">СоставУчастников</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Участники</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
				</dcsset:item>
			</dcsset:filter>
			<dcsset:dataParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ДатаОтчета</dcscor:parameter>
					<dcscor:value xsi:type="v8:StandardBeginningDate">
						<v8:variant xsi:type="v8:StandardBeginningDateVariant">BeginningOfThisDay</v8:variant>
					</dcscor:value>
					<dcsset:userSettingID>c1c688db-5dd3-457d-8d59-1751caf8cb3b</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>Организация</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
					<dcsset:userSettingID>8a9427c7-e115-4c77-a883-d613b1a8d08b</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>Контрагент</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
					<dcsset:userSettingID>74cade86-5ffc-4bf8-903b-1cea59acdfa5</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>Партнер</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
					<dcsset:userSettingID>869fe707-9bef-48af-a932-cb86c240e57e</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВариантОтчета</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">2</dcscor:value>
					<dcsset:userSettingID>9b9ecad4-da77-4137-a4e8-147b6a28ea0c</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>КонтрагентыПартнера</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
				</dcscor:item>
			</dcsset:dataParameters>
			<dcsset:order>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>ОкончаниеДействия</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>НачалоДействия</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>ДокументУсловий</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>Контрагент</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>Партнер</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
			</dcsset:order>
			<dcsset:outputParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьЗаголовок</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">Auto</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Заголовок</dcscor:parameter>
					<dcscor:value xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Действующие ретро-бонусы по контрагенту</v8:content>
						</v8:item>
					</dcscor:value>
				</dcscor:item>
			</dcsset:outputParameters>
			<dcsset:item xsi:type="dcsset:StructureItemGroup">
				<dcsset:groupItems>
					<dcsset:item xsi:type="dcsset:GroupItemField">
						<dcsset:field>Организация</dcsset:field>
						<dcsset:groupType>Items</dcsset:groupType>
						<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
						<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
						<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
					</dcsset:item>
				</dcsset:groupItems>
				<dcsset:order>
					<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
				</dcsset:order>
				<dcsset:selection>
					<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
				</dcsset:selection>
				<dcsset:item xsi:type="dcsset:StructureItemGroup">
					<dcsset:order>
						<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
					</dcsset:order>
					<dcsset:selection>
						<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
					</dcsset:selection>
				</dcsset:item>
			</dcsset:item>
		</dcsset:settings>
	</settingsVariant>
	<settingsVariant>
		<dcsset:name>ДействующиеРетроБонусыПоКлиентуКонтрагенту</dcsset:name>
		<dcsset:presentation xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Действующие ретро-бонусы по клиенту и контрагенту</v8:content>
			</v8:item>
		</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:selection>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Контрагент</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Партнер</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Договор</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Соглашение</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ДокументУсловий</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Вид</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Описание</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СоставУчастников</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Участники</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemFolder">
					<dcsset:lwsTitle>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Период действия</v8:content>
						</v8:item>
					</dcsset:lwsTitle>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>НачалоДействия</dcsset:field>
						<dcsset:lwsTitle>
							<v8:item>
								<v8:lang>ru</v8:lang>
								<v8:content>с</v8:content>
							</v8:item>
						</dcsset:lwsTitle>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ОкончаниеДействия</dcsset:field>
						<dcsset:lwsTitle>
							<v8:item>
								<v8:lang>ru</v8:lang>
								<v8:content>по</v8:content>
							</v8:item>
						</dcsset:lwsTitle>
					</dcsset:item>
					<dcsset:placement>Auto</dcsset:placement>
				</dcsset:item>
			</dcsset:selection>
			<dcsset:filter>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Вид</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">ДокументУсловий</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">СоставУчастников</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Участники</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
				</dcsset:item>
			</dcsset:filter>
			<dcsset:dataParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ДатаОтчета</dcscor:parameter>
					<dcscor:value xsi:type="v8:StandardBeginningDate">
						<v8:variant xsi:type="v8:StandardBeginningDateVariant">BeginningOfThisDay</v8:variant>
					</dcscor:value>
					<dcsset:userSettingID>c1c688db-5dd3-457d-8d59-1751caf8cb3b</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>Организация</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
					<dcsset:userSettingID>8a9427c7-e115-4c77-a883-d613b1a8d08b</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>Контрагент</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
					<dcsset:userSettingID>74cade86-5ffc-4bf8-903b-1cea59acdfa5</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>Партнер</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
					<dcsset:userSettingID>869fe707-9bef-48af-a932-cb86c240e57e</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВариантОтчета</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">3</dcscor:value>
					<dcsset:userSettingID>9b9ecad4-da77-4137-a4e8-147b6a28ea0c</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>КонтрагентыПартнера</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
				</dcscor:item>
			</dcsset:dataParameters>
			<dcsset:order>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>ОкончаниеДействия</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>НачалоДействия</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>ДокументУсловий</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>Контрагент</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>Партнер</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
			</dcsset:order>
			<dcsset:outputParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьЗаголовок</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">Auto</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Заголовок</dcscor:parameter>
					<dcscor:value xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Действующие ретро-бонусы по клиенту и контрагенту</v8:content>
						</v8:item>
					</dcscor:value>
				</dcscor:item>
			</dcsset:outputParameters>
			<dcsset:item xsi:type="dcsset:StructureItemGroup">
				<dcsset:groupItems>
					<dcsset:item xsi:type="dcsset:GroupItemField">
						<dcsset:field>Организация</dcsset:field>
						<dcsset:groupType>Items</dcsset:groupType>
						<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
						<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
						<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
					</dcsset:item>
				</dcsset:groupItems>
				<dcsset:order>
					<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
				</dcsset:order>
				<dcsset:selection>
					<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
				</dcsset:selection>
				<dcsset:item xsi:type="dcsset:StructureItemGroup">
					<dcsset:order>
						<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
					</dcsset:order>
					<dcsset:selection>
						<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
					</dcsset:selection>
				</dcsset:item>
			</dcsset:item>
		</dcsset:settings>
	</settingsVariant>
	<settingsVariant>
		<dcsset:name>ДействующиеРетроБонусыПоКлиентуКонтекст</dcsset:name>
		<dcsset:presentation xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Действующие ретро-бонусы по клиенту</v8:content>
			</v8:item>
		</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:selection>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Контрагент</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Партнер</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Договор</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Соглашение</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ДокументУсловий</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Вид</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Описание</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СоставУчастников</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Участники</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemFolder">
					<dcsset:lwsTitle>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Период действия</v8:content>
						</v8:item>
					</dcsset:lwsTitle>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>НачалоДействия</dcsset:field>
						<dcsset:lwsTitle>
							<v8:item>
								<v8:lang>ru</v8:lang>
								<v8:content>с</v8:content>
							</v8:item>
						</dcsset:lwsTitle>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ОкончаниеДействия</dcsset:field>
						<dcsset:lwsTitle>
							<v8:item>
								<v8:lang>ru</v8:lang>
								<v8:content>по</v8:content>
							</v8:item>
						</dcsset:lwsTitle>
					</dcsset:item>
					<dcsset:placement>Auto</dcsset:placement>
				</dcsset:item>
			</dcsset:selection>
			<dcsset:dataParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ДатаОтчета</dcscor:parameter>
					<dcscor:value xsi:type="v8:StandardBeginningDate">
						<v8:variant xsi:type="v8:StandardBeginningDateVariant">BeginningOfThisDay</v8:variant>
					</dcscor:value>
					<dcsset:userSettingID>c1c688db-5dd3-457d-8d59-1751caf8cb3b</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>Организация</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
					<dcsset:userSettingID>8a9427c7-e115-4c77-a883-d613b1a8d08b</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>Контрагент</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
					<dcsset:userSettingID>74cade86-5ffc-4bf8-903b-1cea59acdfa5</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>Партнер</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
					<dcsset:userSettingID>869fe707-9bef-48af-a932-cb86c240e57e</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВариантОтчета</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">4</dcscor:value>
					<dcsset:userSettingID>9b9ecad4-da77-4137-a4e8-147b6a28ea0c</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>КонтрагентыПартнера</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
				</dcscor:item>
			</dcsset:dataParameters>
			<dcsset:order>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>ОкончаниеДействия</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>НачалоДействия</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>ДокументУсловий</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>Контрагент</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>Партнер</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
			</dcsset:order>
			<dcsset:outputParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьЗаголовок</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">Auto</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Заголовок</dcscor:parameter>
					<dcscor:value xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Действующие ретро-бонусы по клиенту</v8:content>
						</v8:item>
					</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьПараметрыДанных</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">DontOutput</dcscor:value>
				</dcscor:item>
			</dcsset:outputParameters>
			<dcsset:item xsi:type="dcsset:StructureItemGroup">
				<dcsset:groupItems>
					<dcsset:item xsi:type="dcsset:GroupItemField">
						<dcsset:field>Организация</dcsset:field>
						<dcsset:groupType>Items</dcsset:groupType>
						<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
						<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
						<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
					</dcsset:item>
				</dcsset:groupItems>
				<dcsset:order>
					<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
				</dcsset:order>
				<dcsset:selection>
					<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
				</dcsset:selection>
				<dcsset:item xsi:type="dcsset:StructureItemGroup">
					<dcsset:order>
						<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
					</dcsset:order>
					<dcsset:selection>
						<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
					</dcsset:selection>
				</dcsset:item>
			</dcsset:item>
		</dcsset:settings>
	</settingsVariant>
	<settingsVariant>
		<dcsset:name>ДействующиеРетроБонусыПоКонтрагентуКонтекст</dcsset:name>
		<dcsset:presentation xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Действующие ретро-бонусы по контрагенту</v8:content>
			</v8:item>
		</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:selection>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Контрагент</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Партнер</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Договор</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Соглашение</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ДокументУсловий</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Вид</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Описание</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СоставУчастников</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Участники</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemFolder">
					<dcsset:lwsTitle>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Период действия</v8:content>
						</v8:item>
					</dcsset:lwsTitle>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>НачалоДействия</dcsset:field>
						<dcsset:lwsTitle>
							<v8:item>
								<v8:lang>ru</v8:lang>
								<v8:content>с</v8:content>
							</v8:item>
						</dcsset:lwsTitle>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ОкончаниеДействия</dcsset:field>
						<dcsset:lwsTitle>
							<v8:item>
								<v8:lang>ru</v8:lang>
								<v8:content>по</v8:content>
							</v8:item>
						</dcsset:lwsTitle>
					</dcsset:item>
					<dcsset:placement>Auto</dcsset:placement>
				</dcsset:item>
			</dcsset:selection>
			<dcsset:dataParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ДатаОтчета</dcscor:parameter>
					<dcscor:value xsi:type="v8:StandardBeginningDate">
						<v8:variant xsi:type="v8:StandardBeginningDateVariant">BeginningOfThisDay</v8:variant>
					</dcscor:value>
					<dcsset:userSettingID>c1c688db-5dd3-457d-8d59-1751caf8cb3b</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>Организация</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
					<dcsset:userSettingID>8a9427c7-e115-4c77-a883-d613b1a8d08b</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>Контрагент</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
					<dcsset:userSettingID>74cade86-5ffc-4bf8-903b-1cea59acdfa5</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>Партнер</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
					<dcsset:userSettingID>869fe707-9bef-48af-a932-cb86c240e57e</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВариантОтчета</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">5</dcscor:value>
					<dcsset:userSettingID>9b9ecad4-da77-4137-a4e8-147b6a28ea0c</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>КонтрагентыПартнера</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
				</dcscor:item>
			</dcsset:dataParameters>
			<dcsset:order>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>ОкончаниеДействия</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>НачалоДействия</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>ДокументУсловий</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>Контрагент</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>Партнер</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
			</dcsset:order>
			<dcsset:outputParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьЗаголовок</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">Auto</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Заголовок</dcscor:parameter>
					<dcscor:value xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Действующие ретро-бонусы по контрагенту</v8:content>
						</v8:item>
					</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьПараметрыДанных</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">DontOutput</dcscor:value>
				</dcscor:item>
			</dcsset:outputParameters>
			<dcsset:item xsi:type="dcsset:StructureItemGroup">
				<dcsset:groupItems>
					<dcsset:item xsi:type="dcsset:GroupItemField">
						<dcsset:field>Организация</dcsset:field>
						<dcsset:groupType>Items</dcsset:groupType>
						<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
						<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
						<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
					</dcsset:item>
				</dcsset:groupItems>
				<dcsset:order>
					<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
				</dcsset:order>
				<dcsset:selection>
					<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
				</dcsset:selection>
				<dcsset:item xsi:type="dcsset:StructureItemGroup">
					<dcsset:order>
						<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
					</dcsset:order>
					<dcsset:selection>
						<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
					</dcsset:selection>
				</dcsset:item>
			</dcsset:item>
		</dcsset:settings>
	</settingsVariant>
</DataCompositionSchema>
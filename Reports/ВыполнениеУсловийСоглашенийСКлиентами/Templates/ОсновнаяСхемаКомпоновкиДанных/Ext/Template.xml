<?xml version="1.0" encoding="UTF-8"?>
<DataCompositionSchema xmlns="http://v8.1c.ru/8.1/data-composition-system/schema" xmlns:dcscom="http://v8.1c.ru/8.1/data-composition-system/common" xmlns:dcscor="http://v8.1c.ru/8.1/data-composition-system/core" xmlns:dcsset="http://v8.1c.ru/8.1/data-composition-system/settings" xmlns:v8="http://v8.1c.ru/8.1/data/core" xmlns:v8ui="http://v8.1c.ru/8.1/data/ui" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<dataSource>
		<name>ИсточникДанных1</name>
		<dataSourceType>Local</dataSourceType>
	</dataSource>
	<dataSet xsi:type="DataSetObject">
		<name>Соглашения</name>
		<field xsi:type="DataSetFieldField">
			<dataPath>Соглашение</dataPath>
			<field>Соглашение</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Соглашение</v8:content>
				</v8:item>
			</title>
			<presentationExpression>Наименование</presentationExpression>
			<valueType>
				<v8:Type xmlns:d5p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d5p1:CatalogRef.СоглашенияСКлиентами</v8:Type>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Периодичность</dataPath>
			<field>Периодичность</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Периодичность</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type xmlns:d5p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d5p1:EnumRef.Периодичность</v8:Type>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СуммаСоглашения</dataPath>
			<field>СуммаСоглашения</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Сумма соглашения</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:TypeId>ae2f89b3-a2ce-4f0a-a0a9-61e5b32d3e81</v8:TypeId>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПериодНачало</dataPath>
			<field>ПериодНачало</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Период начало</v8:content>
				</v8:item>
			</title>
			<presentationExpression>ПредставлениеПериода(ПериодНачало,ПериодОкончание)</presentationExpression>
			<valueType>
				<v8:Type>xs:dateTime</v8:Type>
				<v8:DateQualifiers>
					<v8:DateFractions>Date</v8:DateFractions>
				</v8:DateQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Партнер</dataPath>
			<field>Партнер</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Клиент</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type xmlns:d5p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d5p1:CatalogRef.Партнеры</v8:Type>
			</valueType>
			<inputParameters>
				<dcscor:item>
					<dcscor:parameter>ПараметрыВыбора</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:ChoiceParameters">
						<dcscor:item>
							<dcscor:choiceParameter>Отбор.Клиент</dcscor:choiceParameter>
							<dcscor:value xsi:type="xs:boolean">true</dcscor:value>
						</dcscor:item>
					</dcscor:value>
				</dcscor:item>
			</inputParameters>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Наименование</dataPath>
			<field>Наименование</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Наименование</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:string</v8:Type>
				<v8:StringQualifiers>
					<v8:Length>100</v8:Length>
					<v8:AllowedLength>Variable</v8:AllowedLength>
				</v8:StringQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Валюта</dataPath>
			<field>Валюта</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Валюта</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type xmlns:d5p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d5p1:CatalogRef.Валюты</v8:Type>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДатаНачалаДействия</dataPath>
			<field>ДатаНачалаДействия</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Дата начала действия</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:dateTime</v8:Type>
				<v8:DateQualifiers>
					<v8:DateFractions>Date</v8:DateFractions>
				</v8:DateQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДатаОкончанияДействия</dataPath>
			<field>ДатаОкончанияДействия</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Дата окончания действия</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:dateTime</v8:Type>
				<v8:DateQualifiers>
					<v8:DateFractions>Date</v8:DateFractions>
				</v8:DateQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Дата</dataPath>
			<field>Дата</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Дата</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:dateTime</v8:Type>
				<v8:DateQualifiers>
					<v8:DateFractions>DateTime</v8:DateFractions>
				</v8:DateQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПериодОкончание</dataPath>
			<field>ПериодОкончание</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Период окончание</v8:content>
				</v8:item>
			</title>
			<presentationExpression>ПредставлениеПериода(ПериодНачало,ПериодОкончание)</presentationExpression>
			<valueType>
				<v8:Type>xs:dateTime</v8:Type>
				<v8:DateQualifiers>
					<v8:DateFractions>Date</v8:DateFractions>
				</v8:DateQualifiers>
			</valueType>
		</field>
		<dataSource>ИсточникДанных1</dataSource>
		<objectName>Соглашения</objectName>
	</dataSet>
	<dataSet xsi:type="DataSetQuery">
		<name>ВыполнениеУсловийСоглашения</name>
		<field xsi:type="DataSetFieldField">
			<dataPath>АналитикаУчетаНоменклатуры</dataPath>
			<field>АналитикаУчетаНоменклатуры</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Аналитика учета номенклатуры</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>АналитикаУчетаПоПартнерам</dataPath>
			<field>АналитикаУчетаПоПартнерам</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Аналитика учета по клиентам</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ЗаказКлиента</dataPath>
			<field>ЗаказКлиента</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Заказ клиента</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Подразделение</dataPath>
			<field>Подразделение</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Подразделение</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ТипЗапасов</dataPath>
			<field>ТипЗапасов</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Тип запасов или услуга</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Соглашение</dataPath>
			<field>Соглашение</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Соглашение</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type xmlns:d5p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d5p1:CatalogRef.СоглашенияСКлиентами</v8:Type>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Периодичность</dataPath>
			<field>Периодичность</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Периодичность</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type xmlns:d5p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d5p1:EnumRef.Периодичность</v8:Type>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Валюта</dataPath>
			<field>Валюта</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Валюта</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type xmlns:d5p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d5p1:CatalogRef.Валюты</v8:Type>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СуммаПродажи</dataPath>
			<field>СуммаПродажи</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Сумма продажи</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:TypeId>48fa9d68-ae46-4d76-988a-88927f7a0ca6</v8:TypeId>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПериодНачало</dataPath>
			<field>ПериодНачало</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Период начало</v8:content>
				</v8:item>
			</title>
			<valueType>
				<v8:Type>xs:dateTime</v8:Type>
				<v8:DateQualifiers>
					<v8:DateFractions>DateTime</v8:DateFractions>
				</v8:DateQualifiers>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ВидЗапасов</dataPath>
			<field>ВидЗапасов</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Вид запасов</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>АналитикаУчетаНаборов</dataPath>
			<field>АналитикаУчетаНаборов</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Аналитика учета наборов</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Договор</dataPath>
			<field>Договор</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Договор</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Менеджер</dataPath>
			<field>Менеджер</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Менеджер</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Склад</dataPath>
			<field>Склад</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Склад / комиссионер  / подразделение</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ХозяйственнаяОперация</dataPath>
			<field>ХозяйственнаяОперация</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Хозяйственная операция</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>НаправлениеДеятельностиКонтрагента</dataPath>
			<field>НаправлениеДеятельностиКонтрагента</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Направление деятельности контрагента</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Партия</dataPath>
			<field>Партия</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Партия</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ВидДеятельностиНДС</dataPath>
			<field>ВидДеятельностиНДС</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Вид деятельности НДС</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>РазделУчета</dataPath>
			<field>РазделУчета</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Раздел учета</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>НаправлениеДеятельностиНоменклатуры</dataPath>
			<field>НаправлениеДеятельностиНоменклатуры</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Направление деятельности номенклатуры</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>АналитикаУчетаПартий</dataPath>
			<field>АналитикаУчетаПартий</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Аналитика учета партий</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>АналитикаФинансовогоУчета</dataPath>
			<field>АналитикаФинансовогоУчета</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Аналитика финансового учета</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>БазоваяВалюта</dataPath>
			<field>БазоваяВалюта</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Базовая валюта</v8:content>
				</v8:item>
			</title>
		</field>
		<dataSource>ИсточникДанных1</dataSource>
		<query>////////////////////////////////////////////////////////////////////////////////
// КУРСЫ ВАЛЮТ /////////////////////////////////////////////////////////////////

ВЫБРАТЬ РАЗРЕШЕННЫЕ
	КурсыВалютСрезПоследних.Валюта    КАК Валюта,
	КурсыВалютСрезПоследних.КурсЧислитель КАК КурсЧислитель,
	КурсыВалютСрезПоследних.КурсЗнаменатель КАК КурсЗнаменатель
ПОМЕСТИТЬ КурсыВалютСрезПоследних
ИЗ
	РегистрСведений.ОтносительныеКурсыВалют.СрезПоследних({&amp;ДатаОкончания}, БазоваяВалюта = &amp;БазоваяВалюта) КАК КурсыВалютСрезПоследних
ИНДЕКСИРОВАТЬ ПО
	Валюта
;

////////////////////////////////////////////////////////////////////////////////
// ВАЛЮТА УПРАВЛЕНЧЕСКОГО УЧЕТА ////////////////////////////////////////////////

ВЫБРАТЬ РАЗРЕШЕННЫЕ
	Константы.ВалютаУправленческогоУчета КАК ВалютаУправленческогоУчета
ПОМЕСТИТЬ ТаблицаКонстант
ИЗ
	Константы КАК Константы
;

////////////////////////////////////////////////////////////////////////////////
// ОБОРОТЫ ПО ВЫРУЧКЕ И СЕБЕСТОИМОСТИ ПРОДАЖ ///////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
// 1. ОБОРОТЫ С ПЕРИОДИЧНОСТЬЮ ДЕНЬ  ///////////////////////////////////////////

ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВыручкаИСебестоимостьПродажОбороты.ЗаказКлиента.Соглашение        КАК Соглашение,
	ВыручкаИСебестоимостьПродажОбороты.ЗаказКлиента.Соглашение.Валюта КАК Валюта,
	ЗНАЧЕНИЕ(Перечисление.Периодичность.День)                         КАК Периодичность,
	НАЧАЛОПЕРИОДА(ВыручкаИСебестоимостьПродажОбороты.Период, День)    КАК Период,
	ВыручкаИСебестоимостьПродажОбороты.СуммаВыручкиОборот             КАК СуммаПродажи
ПОМЕСТИТЬ
	ВыручкаИСебестоимостьПродажОбороты
ИЗ
	РегистрНакопления.ВыручкаИСебестоимостьПродаж.Обороты({&amp;ДатаНачала}, {&amp;ДатаОкончания}, День,
		ЗаказКлиента.Соглашение.Регулярное И ЗаказКлиента.Соглашение.Период = ЗНАЧЕНИЕ(Перечисление.Периодичность.День)
		) КАК ВыручкаИСебестоимостьПродажОбороты

////////////////////////////////////////////////////////////////////////////////
// 2. ОБОРОТЫ С ПЕРИОДИЧНОСТЬЮ НЕДЕЛЯ  /////////////////////////////////////////

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ВыручкаИСебестоимостьПродажОбороты.ЗаказКлиента.Соглашение        КАК Соглашение,
	ВыручкаИСебестоимостьПродажОбороты.ЗаказКлиента.Соглашение.Валюта КАК Валюта,
	ЗНАЧЕНИЕ(Перечисление.Периодичность.Неделя)                       КАК Периодичность,
	НАЧАЛОПЕРИОДА(ВыручкаИСебестоимостьПродажОбороты.Период, Неделя)  КАК Период,
	ВыручкаИСебестоимостьПродажОбороты.СуммаВыручкиОборот             КАК СуммаПродажи
ИЗ
	РегистрНакопления.ВыручкаИСебестоимостьПродаж.Обороты({&amp;ДатаНачала}, {&amp;ДатаОкончания}, Неделя,
		ЗаказКлиента.Соглашение.Регулярное И ЗаказКлиента.Соглашение.Период = ЗНАЧЕНИЕ(Перечисление.Периодичность.Неделя)
		) КАК ВыручкаИСебестоимостьПродажОбороты

////////////////////////////////////////////////////////////////////////////////
// 3. ОБОРОТЫ С ПЕРИОДИЧНОСТЬЮ ДЕКАДА  /////////////////////////////////////////

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ВыручкаИСебестоимостьПродажОбороты.ЗаказКлиента.Соглашение        КАК Соглашение,
	ВыручкаИСебестоимостьПродажОбороты.ЗаказКлиента.Соглашение.Валюта КАК Валюта,
	ЗНАЧЕНИЕ(Перечисление.Периодичность.Декада)                       КАК Периодичность,
	НАЧАЛОПЕРИОДА(ВыручкаИСебестоимостьПродажОбороты.Период, Декада)  КАК Период,
	ВыручкаИСебестоимостьПродажОбороты.СуммаВыручкиОборот             КАК СуммаПродажи
ИЗ
	РегистрНакопления.ВыручкаИСебестоимостьПродаж.Обороты({&amp;ДатаНачала}, {&amp;ДатаОкончания}, Декада,
		ЗаказКлиента.Соглашение.Регулярное И ЗаказКлиента.Соглашение.Период = ЗНАЧЕНИЕ(Перечисление.Периодичность.Декада)
		) КАК ВыручкаИСебестоимостьПродажОбороты

////////////////////////////////////////////////////////////////////////////////
// 4. ОБОРОТЫ С ПЕРИОДИЧНОСТЬЮ МЕСЯЦ  //////////////////////////////////////////

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ВыручкаИСебестоимостьПродажОбороты.ЗаказКлиента.Соглашение        КАК Соглашение,
	ВыручкаИСебестоимостьПродажОбороты.ЗаказКлиента.Соглашение.Валюта КАК Валюта,
	ЗНАЧЕНИЕ(Перечисление.Периодичность.Месяц)                        КАК Периодичность,
	НАЧАЛОПЕРИОДА(ВыручкаИСебестоимостьПродажОбороты.Период, Месяц)   КАК Период,
	ВыручкаИСебестоимостьПродажОбороты.СуммаВыручкиОборот             КАК СуммаПродажи
ИЗ
	РегистрНакопления.ВыручкаИСебестоимостьПродаж.Обороты({&amp;ДатаНачала}, {&amp;ДатаОкончания}, Месяц,
		ЗаказКлиента.Соглашение.Регулярное И ЗаказКлиента.Соглашение.Период = ЗНАЧЕНИЕ(Перечисление.Периодичность.Месяц)
		) КАК ВыручкаИСебестоимостьПродажОбороты

////////////////////////////////////////////////////////////////////////////////
// 5. ОБОРОТЫ С ПЕРИОДИЧНОСТЬЮ КВАРТАЛ  ////////////////////////////////////////

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ВыручкаИСебестоимостьПродажОбороты.ЗаказКлиента.Соглашение        КАК Соглашение,
	ВыручкаИСебестоимостьПродажОбороты.ЗаказКлиента.Соглашение.Валюта КАК Валюта,
	ЗНАЧЕНИЕ(Перечисление.Периодичность.Квартал)                      КАК Периодичность,
	НАЧАЛОПЕРИОДА(ВыручкаИСебестоимостьПродажОбороты.Период, Квартал) КАК Период,
	ВыручкаИСебестоимостьПродажОбороты.СуммаВыручкиОборот             КАК СуммаПродажи
ИЗ
	РегистрНакопления.ВыручкаИСебестоимостьПродаж.Обороты({&amp;ДатаНачала}, {&amp;ДатаОкончания}, Квартал,
		ЗаказКлиента.Соглашение.Регулярное И ЗаказКлиента.Соглашение.Период = ЗНАЧЕНИЕ(Перечисление.Периодичность.Квартал)
		) КАК ВыручкаИСебестоимостьПродажОбороты

////////////////////////////////////////////////////////////////////////////////
// 6. ОБОРОТЫ С ПЕРИОДИЧНОСТЬЮ ПОЛУГОДИЕ  //////////////////////////////////////

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ВыручкаИСебестоимостьПродажОбороты.ЗаказКлиента.Соглашение          КАК Соглашение,
	ВыручкаИСебестоимостьПродажОбороты.ЗаказКлиента.Соглашение.Валюта   КАК Валюта,
	ЗНАЧЕНИЕ(Перечисление.Периодичность.Полугодие)                      КАК Периодичность,
	НАЧАЛОПЕРИОДА(ВыручкаИСебестоимостьПродажОбороты.Период, Полугодие) КАК Период,
	ВыручкаИСебестоимостьПродажОбороты.СуммаВыручкиОборот               КАК СуммаПродажи
ИЗ
	РегистрНакопления.ВыручкаИСебестоимостьПродаж.Обороты({&amp;ДатаНачала}, {&amp;ДатаОкончания}, Полугодие,
		ЗаказКлиента.Соглашение.Регулярное И ЗаказКлиента.Соглашение.Период = ЗНАЧЕНИЕ(Перечисление.Периодичность.Полугодие)
		) КАК ВыручкаИСебестоимостьПродажОбороты

////////////////////////////////////////////////////////////////////////////////
// 7. ОБОРОТЫ С ПЕРИОДИЧНОСТЬЮ ГОД  ////////////////////////////////////////////

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ВыручкаИСебестоимостьПродажОбороты.ЗаказКлиента.Соглашение        КАК Соглашение,
	ВыручкаИСебестоимостьПродажОбороты.ЗаказКлиента.Соглашение.Валюта КАК Валюта,
	ЗНАЧЕНИЕ(Перечисление.Периодичность.Год)                          КАК Периодичность,
	НАЧАЛОПЕРИОДА(ВыручкаИСебестоимостьПродажОбороты.Период, Год)     КАК Период,
	ВыручкаИСебестоимостьПродажОбороты.СуммаВыручкиОборот             КАК СуммаПродажи
ИЗ
	РегистрНакопления.ВыручкаИСебестоимостьПродаж.Обороты({&amp;ДатаНачала}, {&amp;ДатаОкончания}, Год,
		ЗаказКлиента.Соглашение.Регулярное И ЗаказКлиента.Соглашение.Период = ЗНАЧЕНИЕ(Перечисление.Периодичность.Год)
		) КАК ВыручкаИСебестоимостьПродажОбороты
;

////////////////////////////////////////////////////////////////////////////////
// РЕЗУЛЬТАТ ///////////////////////////////////////////////////////////////////

ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВыручкаИСебестоимостьПродажОбороты.Соглашение                  КАК Соглашение,
	ВыручкаИСебестоимостьПродажОбороты.Валюта                      КАК Валюта,
	ВыручкаИСебестоимостьПродажОбороты.Периодичность               КАК Периодичность,
	ВыручкаИСебестоимостьПродажОбороты.Период КАК ПериодНачало,
	СУММА(ВЫБОР
		КОГДА
			&amp;ВалютаОтчета = ТаблицаКонстант.ВалютаУправленческогоУчета
			ИЛИ &amp;ВалютаОтчета = Неопределено
		ТОГДА
			ВыручкаИСебестоимостьПродажОбороты.СуммаПродажи
		ИНАЧЕ
			ВЫРАЗИТЬ(ВыручкаИСебестоимостьПродажОбороты.СуммаПродажи *
				ВЫБОР
					КОГДА ЕСТЬNULL(КурсВалютыОтчетаСрезПоследних.КурсЗнаменатель, 0) &gt; 0
						И ЕСТЬNULL(КурсВалютыОтчетаСрезПоследних.КурсЧислитель, 0) &gt; 0
						И ЕСТЬNULL(КурсыВалютСрезПоследнихВалютаУправленческогоУчета.КурсЗнаменатель, 0) &gt; 0
						И ЕСТЬNULL(КурсыВалютСрезПоследнихВалютаУправленческогоУчета.КурсЧислитель, 0) &gt; 0
					ТОГДА
						(КурсыВалютСрезПоследнихВалютаУправленческогоУчета.КурсЧислитель * КурсВалютыОтчетаСрезПоследних.КурсЗнаменатель)
						/ (КурсВалютыОтчетаСрезПоследних.КурсЧислитель * КурсыВалютСрезПоследнихВалютаУправленческогоУчета.КурсЗнаменатель)
					ИНАЧЕ
						0
				КОНЕЦ КАК ЧИСЛО(31,2))
	КОНЕЦ) КАК СуммаПродажи
ИЗ
	ВыручкаИСебестоимостьПродажОбороты

ЛЕВОЕ СОЕДИНЕНИЕ
	ТаблицаКонстант
ПО
	ИСТИНА

ЛЕВОЕ СОЕДИНЕНИЕ
	КурсыВалютСрезПоследних КАК КурсыВалютСрезПоследнихВалютаУправленческогоУчета
ПО
	КурсыВалютСрезПоследнихВалютаУправленческогоУчета.Валюта = ТаблицаКонстант.ВалютаУправленческогоУчета

ЛЕВОЕ СОЕДИНЕНИЕ
	КурсыВалютСрезПоследних КАК КурсВалютыОтчетаСрезПоследних
ПО
	КурсВалютыОтчетаСрезПоследних.Валюта =
	ВЫБОР
		КОГДА
			&amp;ВалютаОтчета = ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка)
			ИЛИ &amp;ВалютаОтчета =Неопределено
		ТОГДА
			ВыручкаИСебестоимостьПродажОбороты.Валюта
		ИНАЧЕ
			&amp;ВалютаОтчета
	КОНЕЦ
СГРУППИРОВАТЬ ПО
	ВыручкаИСебестоимостьПродажОбороты.Соглашение,
	ВыручкаИСебестоимостьПродажОбороты.Валюта,
	ВыручкаИСебестоимостьПродажОбороты.Периодичность,
	ВыручкаИСебестоимостьПродажОбороты.Период
	</query>
	</dataSet>
	<dataSet xsi:type="DataSetQuery">
		<name>Сегменты</name>
		<field xsi:type="DataSetFieldField">
			<dataPath>ИспользуетсяОтборПоСегментуПартнеров</dataPath>
			<field>ИспользуетсяОтборПоСегментуПартнеров</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Используется отбор по сегменту клиентов</v8:content>
				</v8:item>
			</title>
			<useRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</useRestriction>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Партнер</dataPath>
			<field>Партнер</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Клиент</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СегментПартнеров</dataPath>
			<field>СегментПартнеров</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Сегмент клиентов</v8:content>
				</v8:item>
			</title>
			<inputParameters>
				<dcscor:item>
					<dcscor:parameter>ПараметрыВыбора</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:ChoiceParameters">
						<dcscor:item>
							<dcscor:choiceParameter>Отбор.СпособФормирования</dcscor:choiceParameter>
							<dcscor:value xsi:type="dcscor:DesignTimeValue">Перечисление.СпособыФормированияСегментов.ПериодическиОбновлять</dcscor:value>
							<dcscor:value xsi:type="dcscor:DesignTimeValue">Перечисление.СпособыФормированияСегментов.ФормироватьВручную</dcscor:value>
						</dcscor:item>
					</dcscor:value>
				</dcscor:item>
				<dcscor:item>
					<dcscor:parameter>ВыборГруппИЭлементов</dcscor:parameter>
					<dcscor:value xmlns:d6p1="http://v8.1c.ru/8.1/data/enterprise" xsi:type="d6p1:FoldersAndItemsUse">Items</dcscor:value>
				</dcscor:item>
			</inputParameters>
		</field>
		<dataSource>ИсточникДанных1</dataSource>
		<query>ВЫБРАТЬ РАЗЛИЧНЫЕ РАЗРЕШЕННЫЕ
	Сегменты.Партнер КАК Партнер,
	ИСТИНА КАК ИспользуетсяОтборПоСегментуПартнеров
{ВЫБРАТЬ
	Партнер.*}
ИЗ
	РегистрСведений.ПартнерыСегмента КАК Сегменты
{ГДЕ
	Сегменты.Сегмент.* КАК СегментПартнеров,
	Сегменты.Партнер.* КАК Партнер}
</query>
	</dataSet>
	<dataSetLink>
		<sourceDataSet>Соглашения</sourceDataSet>
		<destinationDataSet>ВыполнениеУсловийСоглашения</destinationDataSet>
		<sourceExpression>Соглашение</sourceExpression>
		<destinationExpression>Соглашение</destinationExpression>
	</dataSetLink>
	<dataSetLink>
		<sourceDataSet>Соглашения</sourceDataSet>
		<destinationDataSet>ВыполнениеУсловийСоглашения</destinationDataSet>
		<sourceExpression>НАЧАЛОПЕРИОДА(ПериодНачало,"ДЕНЬ")</sourceExpression>
		<destinationExpression>НАЧАЛОПЕРИОДА(ПериодНачало,"ДЕНЬ")</destinationExpression>
	</dataSetLink>
	<dataSetLink>
		<sourceDataSet>Соглашения</sourceDataSet>
		<destinationDataSet>Сегменты</destinationDataSet>
		<sourceExpression>Партнер</sourceExpression>
		<destinationExpression>Партнер</destinationExpression>
		<required>false</required>
	</dataSetLink>
	<calculatedField>
		<dataPath>ПроцентВыполнения</dataPath>
		<expression>ВЫРАЗИТЬ(ВЫБОР КОГДА Не ЗначениеЗаполнено(СуммаПродажи) ТОГДА ВЫРАЗИТЬ(0,"Число(5,2)") ИНАЧЕ 100*ЕСТЬNULL(СуммаПродажи,0) /  СуммаСоглашения КОНЕЦ,"Число(5,2)")</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Процент выполнения</v8:content>
			</v8:item>
		</title>
		<appearance>
			<dcscor:item xsi:type="dcsset:SettingsParameterValue">
				<dcscor:parameter>Формат</dcscor:parameter>
				<dcscor:value xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>ЧЦ=5; ЧДЦ=2; ЧН=0,00</v8:content>
					</v8:item>
				</dcscor:value>
			</dcscor:item>
			<dcscor:item xsi:type="dcsset:SettingsParameterValue">
				<dcscor:use>false</dcscor:use>
				<dcscor:parameter>ВыделятьОтрицательные</dcscor:parameter>
				<dcscor:value xsi:type="xs:boolean">true</dcscor:value>
			</dcscor:item>
		</appearance>
		<valueType>
			<v8:Type>xs:decimal</v8:Type>
			<v8:NumberQualifiers>
				<v8:Digits>5</v8:Digits>
				<v8:FractionDigits>2</v8:FractionDigits>
				<v8:AllowedSign>Nonnegative</v8:AllowedSign>
			</v8:NumberQualifiers>
		</valueType>
	</calculatedField>
	<calculatedField>
		<dataPath>УсловиеНеВыполнено</dataPath>
		<expression>ЕСТЬNULL(СуммаПродажи,0) &lt; СуммаСоглашения</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Условие не выполнено</v8:content>
			</v8:item>
		</title>
	</calculatedField>
	<calculatedField>
		<dataPath>МинимальныйПериодНачало</dataPath>
		<expression>ПериодНачало</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Минимальный период начало</v8:content>
			</v8:item>
		</title>
	</calculatedField>
	<totalField>
		<dataPath>СуммаСоглашения</dataPath>
		<expression>Сумма(СуммаСоглашения)</expression>
	</totalField>
	<totalField>
		<dataPath>Периодичность</dataPath>
		<expression>Минимум(Периодичность)</expression>
	</totalField>
	<totalField>
		<dataPath>Наименование</dataPath>
		<expression>Минимум(Наименование)</expression>
	</totalField>
	<totalField>
		<dataPath>СуммаПродажи</dataPath>
		<expression>Сумма(СуммаПродажи)</expression>
	</totalField>
	<totalField>
		<dataPath>ДатаНачалаДействия</dataPath>
		<expression>Минимум(ДатаНачалаДействия)</expression>
	</totalField>
	<totalField>
		<dataPath>ДатаОкончанияДействия</dataPath>
		<expression>Минимум(ДатаОкончанияДействия)</expression>
	</totalField>
	<totalField>
		<dataPath>ПериодОкончание</dataPath>
		<expression>Минимум(ПериодОкончание)</expression>
	</totalField>
	<totalField>
		<dataPath>ПроцентВыполнения</dataPath>
		<expression>Среднее(ПроцентВыполнения)</expression>
	</totalField>
	<totalField>
		<dataPath>УсловиеНеВыполнено</dataPath>
		<expression>Минимум(УсловиеНеВыполнено)</expression>
	</totalField>
	<totalField>
		<dataPath>Валюта</dataPath>
		<expression>Минимум(Валюта)</expression>
	</totalField>
	<totalField>
		<dataPath>МинимальныйПериодНачало</dataPath>
		<expression>Минимум(МинимальныйПериодНачало)</expression>
	</totalField>
	<parameter>
		<name>ДатаОтчета</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Дата отчета</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>Date</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>false</useRestriction>
	</parameter>
	<parameter>
		<name>ДатаНачала</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Дата начала</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>true</useRestriction>
	</parameter>
	<parameter>
		<name>ДатаОкончания</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Дата окончания</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>true</useRestriction>
	</parameter>
	<parameter>
		<name>Соглашение</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Соглашение</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.СоглашенияСКлиентами</v8:Type>
		</valueType>
		<useRestriction>false</useRestriction>
		<valueListAllowed>true</valueListAllowed>
		<availableAsField>false</availableAsField>
	</parameter>
	<parameter>
		<name>ВалютаОтчета</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Валюта</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.Валюты</v8:Type>
		</valueType>
		<value xsi:type="dcscor:DesignTimeValue">Справочник.Валюты.ПустаяСсылка</value>
		<useRestriction>false</useRestriction>
		<expression>Константы.ВалютаУправленческогоУчета.Получить()</expression>
	</parameter>
	<parameter>
		<name>Партнер</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Партнер</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.Партнеры</v8:Type>
		</valueType>
		<useRestriction>true</useRestriction>
		<valueListAllowed>true</valueListAllowed>
	</parameter>
	<parameter>
		<name>ИспользуетсяОтборПоСегментуПартнеров</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Используется отбор по сегменту партнеров</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:boolean</v8:Type>
		</valueType>
		<value xsi:type="xs:boolean">false</value>
		<useRestriction>true</useRestriction>
	</parameter>
	<parameter>
		<name>БазоваяВалюта</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Базовая валюта</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type xmlns:d4p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d4p1:CatalogRef.Валюты</v8:Type>
		</valueType>
		<value xsi:nil="true"/>
		<useRestriction>true</useRestriction>
		<expression>Константы.БазоваяВалютаПоУмолчанию.Получить()</expression>
		<availableAsField>false</availableAsField>
	</parameter>
	<settingsVariant>
		<dcsset:name>Основной</dcsset:name>
		<dcsset:presentation xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Выполнение условий соглашений с клиентами</v8:content>
			</v8:item>
		</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:filter>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">СегментПартнеров</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:userSettingID>8d7d0401-97c9-46b1-acf8-9027e4d6052a</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Партнер</dcsset:left>
					<dcsset:comparisonType>InHierarchy</dcsset:comparisonType>
					<dcsset:userSettingID>7ed834eb-dd3e-4115-a062-ffc188bf9b22</dcsset:userSettingID>
					<dcsset:userSettingPresentation xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Клиент</v8:content>
						</v8:item>
					</dcsset:userSettingPresentation>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:left xsi:type="dcscor:Field">ПериодОкончание</dcsset:left>
					<dcsset:comparisonType>Greater</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:Field">ПараметрыДанных.ДатаОтчета</dcsset:right>
					<dcsset:presentation xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Не показывать прошедшие периоды</v8:content>
						</v8:item>
					</dcsset:presentation>
					<dcsset:viewMode>Normal</dcsset:viewMode>
					<dcsset:userSettingID>19039f94-7a1f-451a-a482-8701c72d6c92</dcsset:userSettingID>
					<dcsset:userSettingPresentation xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Не показывать прошедшие периоды</v8:content>
						</v8:item>
					</dcsset:userSettingPresentation>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:left xsi:type="dcscor:Field">ПериодНачало</dcsset:left>
					<dcsset:comparisonType>LessOrEqual</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:Field">ПараметрыДанных.ДатаОтчета</dcsset:right>
					<dcsset:presentation xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Не показывать будущие периоды</v8:content>
						</v8:item>
					</dcsset:presentation>
					<dcsset:viewMode>Normal</dcsset:viewMode>
					<dcsset:userSettingID>80afc250-2cc9-44aa-856f-40009785e8f6</dcsset:userSettingID>
					<dcsset:userSettingPresentation xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Не показывать будущие периоды</v8:content>
						</v8:item>
					</dcsset:userSettingPresentation>
				</dcsset:item>
			</dcsset:filter>
			<dcsset:dataParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>ДатаОтчета</dcscor:parameter>
					<dcscor:value xsi:type="xs:dateTime">0001-01-01T00:00:00</dcscor:value>
					<dcsset:userSettingID>ab9d1ef2-e9c9-4201-bf48-ea0b04bcd3ff</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>ВалютаОтчета</dcscor:parameter>
					<dcscor:value xsi:nil="true"/>
					<dcsset:viewMode>Normal</dcsset:viewMode>
					<dcsset:userSettingID>d18dbd67-a678-4aaf-8a17-4011bb59598d</dcsset:userSettingID>
				</dcscor:item>
			</dcsset:dataParameters>
			<dcsset:order>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>Дата</dcsset:field>
					<dcsset:orderType>Desc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
			</dcsset:order>
			<dcsset:outputParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьЗаголовок</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">Output</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Заголовок</dcscor:parameter>
					<dcscor:value xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Выполнение условий соглашений с клиентами</v8:content>
						</v8:item>
					</dcscor:value>
				</dcscor:item>
			</dcsset:outputParameters>
			<dcsset:item xsi:type="dcsset:StructureItemGroup">
				<dcsset:groupItems>
					<dcsset:item xsi:type="dcsset:GroupItemField">
						<dcsset:field>Дата</dcsset:field>
						<dcsset:groupType>Items</dcsset:groupType>
						<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
						<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
						<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:GroupItemField">
						<dcsset:field>Партнер</dcsset:field>
						<dcsset:groupType>Items</dcsset:groupType>
						<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
						<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
						<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:GroupItemField">
						<dcsset:field>Соглашение</dcsset:field>
						<dcsset:groupType>Items</dcsset:groupType>
						<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
						<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
						<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
					</dcsset:item>
				</dcsset:groupItems>
				<dcsset:order>
					<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
				</dcsset:order>
				<dcsset:selection>
					<dcsset:item xsi:type="dcsset:SelectedItemFolder">
						<dcsset:item xsi:type="dcsset:SelectedItemField">
							<dcsset:field>Партнер</dcsset:field>
						</dcsset:item>
						<dcsset:item xsi:type="dcsset:SelectedItemField">
							<dcsset:field>Соглашение</dcsset:field>
						</dcsset:item>
						<dcsset:placement>Together</dcsset:placement>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>Валюта</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>СуммаСоглашения</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>СуммаПродажи</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ПроцентВыполнения</dcsset:field>
						<dcsset:lwsTitle>
							<v8:item>
								<v8:lang>ru</v8:lang>
								<v8:content>% выполнения</v8:content>
							</v8:item>
						</dcsset:lwsTitle>
					</dcsset:item>
				</dcsset:selection>
				<dcsset:conditionalAppearance>
					<dcsset:item>
						<dcsset:selection>
							<dcsset:item>
								<dcsset:field>ПроцентВыполнения</dcsset:field>
							</dcsset:item>
						</dcsset:selection>
						<dcsset:filter>
							<dcsset:item xsi:type="dcsset:FilterItemComparison">
								<dcsset:left xsi:type="dcscor:Field">ПроцентВыполнения</dcsset:left>
								<dcsset:comparisonType>Less</dcsset:comparisonType>
								<dcsset:right xsi:type="xs:decimal">100</dcsset:right>
							</dcsset:item>
							<dcsset:item xsi:type="dcsset:FilterItemComparison">
								<dcsset:left xsi:type="dcscor:Field">МинимальныйПериодНачало</dcsset:left>
								<dcsset:comparisonType>LessOrEqual</dcsset:comparisonType>
								<dcsset:right xsi:type="dcscor:Field">ПараметрыДанных.ДатаОтчета</dcsset:right>
							</dcsset:item>
						</dcsset:filter>
						<dcsset:appearance>
							<dcscor:item xsi:type="dcsset:SettingsParameterValue">
								<dcscor:parameter>ЦветТекста</dcscor:parameter>
								<dcscor:value xsi:type="v8ui:Color">style:NegativeTextColor</dcscor:value>
							</dcscor:item>
							<dcscor:item xsi:type="dcsset:SettingsParameterValue">
								<dcscor:parameter>Формат</dcscor:parameter>
								<dcscor:value xsi:type="v8:LocalStringType">
									<v8:item>
										<v8:lang>ru</v8:lang>
										<v8:content>ЧЦ=5; ЧДЦ=2; ЧН=0,00</v8:content>
									</v8:item>
								</dcscor:value>
							</dcscor:item>
						</dcsset:appearance>
						<dcsset:viewMode>Normal</dcsset:viewMode>
						<dcsset:userSettingID>06fa81eb-5e42-42dc-a52c-9e1b10a3e872</dcsset:userSettingID>
					</dcsset:item>
				</dcsset:conditionalAppearance>
				<dcsset:outputParameters>
					<dcscor:item xsi:type="dcsset:SettingsParameterValue">
						<dcscor:use>false</dcscor:use>
						<dcscor:parameter>РасположениеИтогов</dcscor:parameter>
						<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">None</dcscor:value>
					</dcscor:item>
					<dcscor:item xsi:type="dcsset:SettingsParameterValue">
						<dcscor:parameter>ВертикальноеРасположениеОбщихИтогов</dcscor:parameter>
						<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">None</dcscor:value>
					</dcscor:item>
				</dcsset:outputParameters>
				<dcsset:item xsi:type="dcsset:StructureItemGroup">
					<dcsset:groupItems>
						<dcsset:item xsi:type="dcsset:GroupItemField">
							<dcsset:field>ПериодНачало</dcsset:field>
							<dcsset:groupType>Items</dcsset:groupType>
							<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
							<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
							<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
						</dcsset:item>
					</dcsset:groupItems>
					<dcsset:filter>
						<dcsset:item xsi:type="dcsset:FilterItemComparison">
							<dcsset:left xsi:type="dcscor:Field">УсловиеНеВыполнено</dcsset:left>
							<dcsset:comparisonType>NotEqual</dcsset:comparisonType>
							<dcsset:right xsi:type="xs:boolean">false</dcsset:right>
							<dcsset:presentation xsi:type="v8:LocalStringType">
								<v8:item>
									<v8:lang>ru</v8:lang>
									<v8:content>Не показывать выполненные условия</v8:content>
								</v8:item>
							</dcsset:presentation>
							<dcsset:viewMode>Normal</dcsset:viewMode>
							<dcsset:userSettingID>70a8554e-8c97-4999-8589-d7b1420b1778</dcsset:userSettingID>
							<dcsset:userSettingPresentation xsi:type="v8:LocalStringType">
								<v8:item>
									<v8:lang>ru</v8:lang>
									<v8:content>Не показывать выполненные условия</v8:content>
								</v8:item>
							</dcsset:userSettingPresentation>
						</dcsset:item>
					</dcsset:filter>
					<dcsset:order>
						<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
					</dcsset:order>
					<dcsset:selection>
						<dcsset:item xsi:type="dcsset:SelectedItemField">
							<dcsset:field>ПериодНачало</dcsset:field>
							<dcsset:lwsTitle>
								<v8:item>
									<v8:lang>ru</v8:lang>
									<v8:content>Период</v8:content>
								</v8:item>
							</dcsset:lwsTitle>
						</dcsset:item>
						<dcsset:item xsi:type="dcsset:SelectedItemField">
							<dcsset:field>Валюта</dcsset:field>
						</dcsset:item>
						<dcsset:item xsi:type="dcsset:SelectedItemField">
							<dcsset:field>СуммаСоглашения</dcsset:field>
						</dcsset:item>
						<dcsset:item xsi:type="dcsset:SelectedItemField">
							<dcsset:field>СуммаПродажи</dcsset:field>
						</dcsset:item>
						<dcsset:item xsi:type="dcsset:SelectedItemField">
							<dcsset:field>ПроцентВыполнения</dcsset:field>
							<dcsset:lwsTitle>
								<v8:item>
									<v8:lang>ru</v8:lang>
									<v8:content>% выполнения</v8:content>
								</v8:item>
							</dcsset:lwsTitle>
						</dcsset:item>
					</dcsset:selection>
					<dcsset:conditionalAppearance>
						<dcsset:item>
							<dcsset:selection/>
							<dcsset:filter>
								<dcsset:item xsi:type="dcsset:FilterItemComparison">
									<dcsset:left xsi:type="dcscor:Field">ПериодНачало</dcsset:left>
									<dcsset:comparisonType>LessOrEqual</dcsset:comparisonType>
									<dcsset:right xsi:type="dcscor:Field">ПараметрыДанных.ДатаОтчета</dcsset:right>
								</dcsset:item>
								<dcsset:item xsi:type="dcsset:FilterItemComparison">
									<dcsset:left xsi:type="dcscor:Field">ПериодОкончание</dcsset:left>
									<dcsset:comparisonType>Greater</dcsset:comparisonType>
									<dcsset:right xsi:type="dcscor:Field">ПараметрыДанных.ДатаОтчета</dcsset:right>
								</dcsset:item>
							</dcsset:filter>
							<dcsset:appearance>
								<dcscor:item xsi:type="dcsset:SettingsParameterValue">
									<dcscor:parameter>ЦветФона</dcscor:parameter>
									<dcscor:value xsi:type="v8ui:Color">web:LightGoldenRod</dcscor:value>
								</dcscor:item>
							</dcsset:appearance>
						</dcsset:item>
						<dcsset:item>
							<dcsset:selection/>
							<dcsset:filter>
								<dcsset:item xsi:type="dcsset:FilterItemComparison">
									<dcsset:left xsi:type="dcscor:Field">ПериодОкончание</dcsset:left>
									<dcsset:comparisonType>LessOrEqual</dcsset:comparisonType>
									<dcsset:right xsi:type="dcscor:Field">ПараметрыДанных.ДатаОтчета</dcsset:right>
								</dcsset:item>
							</dcsset:filter>
							<dcsset:appearance>
								<dcscor:item xsi:type="dcsset:SettingsParameterValue">
									<dcscor:use>false</dcscor:use>
									<dcscor:parameter>ЦветФона</dcscor:parameter>
									<dcscor:value xsi:type="v8ui:Color">web:MintCream</dcscor:value>
								</dcscor:item>
								<dcscor:item xsi:type="dcsset:SettingsParameterValue">
									<dcscor:parameter>ЦветТекста</dcscor:parameter>
									<dcscor:value xsi:type="v8ui:Color">web:RosyBrown</dcscor:value>
								</dcscor:item>
							</dcsset:appearance>
							<dcsset:viewMode>Normal</dcsset:viewMode>
							<dcsset:userSettingID>a673ee92-c07c-4c6f-9122-947fc76825c8</dcsset:userSettingID>
						</dcsset:item>
						<dcsset:item>
							<dcsset:selection>
								<dcsset:item>
									<dcsset:field>ПроцентВыполнения</dcsset:field>
								</dcsset:item>
							</dcsset:selection>
							<dcsset:filter>
								<dcsset:item xsi:type="dcsset:FilterItemComparison">
									<dcsset:left xsi:type="dcscor:Field">ПроцентВыполнения</dcsset:left>
									<dcsset:comparisonType>Less</dcsset:comparisonType>
									<dcsset:right xsi:type="xs:decimal">100</dcsset:right>
								</dcsset:item>
								<dcsset:item xsi:type="dcsset:FilterItemComparison">
									<dcsset:left xsi:type="dcscor:Field">ПериодНачало</dcsset:left>
									<dcsset:comparisonType>LessOrEqual</dcsset:comparisonType>
									<dcsset:right xsi:type="dcscor:Field">ПараметрыДанных.ДатаОтчета</dcsset:right>
								</dcsset:item>
							</dcsset:filter>
							<dcsset:appearance>
								<dcscor:item xsi:type="dcsset:SettingsParameterValue">
									<dcscor:parameter>ЦветТекста</dcscor:parameter>
									<dcscor:value xsi:type="v8ui:Color">style:NegativeTextColor</dcscor:value>
								</dcscor:item>
								<dcscor:item xsi:type="dcsset:SettingsParameterValue">
									<dcscor:parameter>Формат</dcscor:parameter>
									<dcscor:value xsi:type="v8:LocalStringType">
										<v8:item>
											<v8:lang>ru</v8:lang>
											<v8:content>ЧЦ=5; ЧДЦ=2; ЧН=0,00</v8:content>
										</v8:item>
									</dcscor:value>
								</dcscor:item>
							</dcsset:appearance>
						</dcsset:item>
					</dcsset:conditionalAppearance>
					<dcsset:outputParameters>
						<dcscor:item xsi:type="dcsset:SettingsParameterValue">
							<dcscor:parameter>ВыводитьОтбор</dcscor:parameter>
							<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">DontOutput</dcscor:value>
						</dcscor:item>
					</dcsset:outputParameters>
					<dcsset:itemsViewMode>Normal</dcsset:itemsViewMode>
				</dcsset:item>
				<dcsset:itemsViewMode>Normal</dcsset:itemsViewMode>
			</dcsset:item>
			<dcsset:itemsViewMode>Normal</dcsset:itemsViewMode>
		</dcsset:settings>
	</settingsVariant>
</DataCompositionSchema>
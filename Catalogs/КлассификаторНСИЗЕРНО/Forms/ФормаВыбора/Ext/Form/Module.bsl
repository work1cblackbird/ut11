#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Параметры.Свойство("АвтоТест") Тогда // Возврат при получении формы для анализа.
		Возврат;
	КонецЕсли;
	
	Если ТипЗнч(Параметры.Отбор) = Тип("Структура")
		И Параметры.Отбор.Свойство("ВидКлассификатора") Тогда
		ВидКлассификатора = Параметры.Отбор.ВидКлассификатора;
	КонецЕсли;
	
	Если ЗначениеЗаполнено(ВидКлассификатора) Тогда
		Заголовок = СтрШаблон(НСтр("ru = 'Классификатор НСИ ""%1""'"), ВидКлассификатора);
		ОбщегоНазначенияКлиентСервер.УстановитьЭлементОтбораДинамическогоСписка(Список, "ВидКлассификатора", ВидКлассификатора);
	Иначе
		Заголовок = НСтр("ru = 'Классификатор НСИ (Все классификаторы)'");
	КонецЕсли;
	
	УстановитьВидимостьДоступность();
	
	ОбщегоНазначенияСобытияФормИСПереопределяемый.ПриСозданииНаСервере(ЭтотОбъект, Отказ, СтандартнаяОбработка);
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Процедура УстановитьВидимостьДоступность()
	
	Если ВидКлассификатора = Перечисления.ВидыКлассификаторовЗЕРНО.ОКПД2
		Или Не ЗначениеЗаполнено(ВидКлассификатора) Тогда
		Элементы.ВидПродукции.Видимость = Истина;
	Иначе
		Элементы.ВидПродукции.Видимость = Ложь;
	КонецЕсли;
	
	Если ВидКлассификатора = Перечисления.ВидыКлассификаторовЗЕРНО.ПотребительскоеСвойство
		Или Не ЗначениеЗаполнено(ВидКлассификатора) Тогда
		Элементы.ЕдиницаИзмерения.Видимость = Истина;
	Иначе
		Элементы.ЕдиницаИзмерения.Видимость = Ложь;
	КонецЕсли;
	
	Если ВидКлассификатора = Перечисления.ВидыКлассификаторовЗЕРНО.ЕдиницаИзмерения
		Или Не ЗначениеЗаполнено(ВидКлассификатора) Тогда
		Элементы.УсловноеОбозначение.Видимость = Истина;
	Иначе
		Элементы.УсловноеОбозначение.Видимость = Ложь;
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти

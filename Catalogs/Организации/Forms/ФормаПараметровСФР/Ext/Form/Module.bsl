
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Параметры.Свойство("АвтоТест") Тогда // Возврат при получении формы для анализа.
		Возврат;
	КонецЕсли;
	
	ЗаполнитьЗначенияСвойств(ЭтотОбъект, Параметры, "Организация, РегистрационныйНомерСФР");
	
	
	ПроверитьРегистрационныйНомер(РегистрационныйНомерСФР, Элементы.РезультатПроверки.Заголовок, Элементы.РезультатПроверки.Видимость);
	
КонецПроцедуры

&НаКлиенте
Процедура ОбработкаОповещения(ИмяСобытия, Параметр, Источник)
	
	Возврат;
	
КонецПроцедуры

&НаСервере
Процедура ОбработкаПроверкиЗаполненияНаСервере(Отказ, ПроверяемыеРеквизиты)
	
	Возврат;
	
КонецПроцедуры

&НаКлиенте
Процедура ПередЗакрытием(Отказ, ЗавершениеРаботы, ТекстПредупреждения, СтандартнаяОбработка)
	
	Оповещение = Новый ОписаниеОповещения("СохранитьИзмененияИПродолжить", ЭтотОбъект);
	ОбщегоНазначенияКлиент.ПоказатьПодтверждениеЗакрытияФормы(Оповещение, Отказ, ЗавершениеРаботы, , ТекстПредупреждения);
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовШапкиФормы

&НаКлиенте
Процедура РегистрационныйНомерСФРБезИсторииПриИзменении(Элемент)
	ПроверитьРегистрационныйНомер(РегистрационныйНомерСФР, Элементы.РезультатПроверки.Заголовок, Элементы.РезультатПроверки.Видимость);
КонецПроцедуры

&НаКлиенте
Процедура РегистрационныйНомерСФРПриИзменении(Элемент)
	ПроверитьРегистрационныйНомер(РегистрационныйНомерСФР, Элементы.РезультатПроверки.Заголовок, Элементы.РезультатПроверки.Видимость);
КонецПроцедуры

&НаКлиенте
Процедура ИсторияРегистрацийВОрганеСФРПериодПриИзменении(Элемент)
	Возврат; // в УТ11 не используется
КонецПроцедуры

&НаКлиенте
Процедура ИсторияРегистрацийВОрганеСФРПериодНачалоВыбора(Элемент, ДанныеВыбора, ВыборДобавлением, СтандартнаяОбработка)
	Возврат; // в УТ11 не используется
КонецПроцедуры

&НаКлиенте
Процедура ИсторияРегистрацийВОрганеСФРПериодРегулирование(Элемент, Направление, СтандартнаяОбработка)
	Возврат; // в УТ11 не используется
КонецПроцедуры

&НаКлиенте
Процедура ИсторияРегистрацийВОрганеСФРПериодАвтоПодбор(Элемент, Текст, ДанныеВыбора, Параметры, Ожидание, СтандартнаяОбработка)
	Возврат; // в УТ11 не используется
КонецПроцедуры

&НаКлиенте
Процедура ИсторияРегистрацийВОрганеСФРПериодОкончаниеВводаТекста(Элемент, Текст, ДанныеВыбора, Параметры, СтандартнаяОбработка)
	Возврат; // в УТ11 не используется
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура ОК(Команда)
	СохранитьИзмененияИЗакрыть();
КонецПроцедуры

&НаКлиенте
Процедура ОткрытьИсториюРегистрацийВОрганеПФР(Команда)
	Возврат;
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервереБезКонтекста
Процедура ПроверитьРегистрационныйНомер(Знач РегистрационныйНомер, ТекстОшибки, Видимость)
	
	ТекстОшибки = "";
	Видимость = Не ПустаяСтрока(ТекстОшибки);
	
КонецПроцедуры

&НаСервере
Процедура ПрочитатьНаборЗаписейПериодическихСведений(ИмяРегистра, ВедущийОбъект) Экспорт
	РедактированиеПериодическихСведений.ПрочитатьНаборЗаписей(ЭтотОбъект, ИмяРегистра, ВедущийОбъект);
КонецПроцедуры

&НаКлиенте
Процедура СохранитьИзмененияИПродолжить(Результат, ДополнительныеПараметры) Экспорт
	СохранитьИзмененияИЗакрыть();
КонецПроцедуры

&НаКлиенте
Процедура СохранитьИзмененияИЗакрыть(Отказ = Ложь)
	
	Если Не Модифицированность Тогда
		Закрыть();
	КонецЕсли;
	
	ДополнительныеПараметры = Новый Структура;
	ДополнительныеПараметры.Вставить("Отказ", Отказ);
	
	
	СохранитьИзмененияЗавершение(Отказ, ДополнительныеПараметры);
	
КонецПроцедуры

&НаКлиенте
Процедура СохранитьИзмененияЗавершение(Отказ, ДополнительныеПараметры) Экспорт
	
	Если Отказ ИЛИ НЕ ПроверитьЗаполнение() Тогда
		ДополнительныеПараметры.Отказ = Истина;
		Возврат;
	КонецЕсли;
	
	СтруктураСведений = Новый Структура;
	СтруктураСведений.Вставить("РегистрационныйНомерСФР", РегистрационныйНомерСФР);
	
	
	Модифицированность = Ложь;
	
	Закрыть(СтруктураСведений);
	
КонецПроцедуры


#КонецОбласти

#Если Сервер Или ТолстыйКлиентОбычноеПриложение Тогда

#Область ПрограммныйИнтерфейс

// Очищает регистр сведений "Реестр документов" от битых ссылок.
//
// Параметры:
//	ПараметрыВыполнения - Структура - параметры выполнения фонового задания.
//	АдресРезультата - Строка - адрес результата выполнения задания во временном хранилище.
//
Процедура ОчиститьНесуществующиеСсылкиВРеестреДокументовВФоне(ПараметрыВыполнения, АдресРезультата) Экспорт
	
	РезультатВыполнения = Обработки.ИсправлениеРеестраДокументов.ОчиститьНесуществующиеСсылкиВРеестреДокументов();
	
	ПоместитьВоВременноеХранилище(РезультатВыполнения, АдресРезультата);
	
КонецПроцедуры

// Выполняет переотражение документов в регистре сведений "Реестр документов".
//
// Параметры:
//	ПараметрыВыполнения - Структура - параметры выполнения фонового задания.
//	АдресРезультата - Строка - адрес результата выполнения задания во временном хранилище.
//
Процедура ПереотразитьДокументыВРеестреДокументов(ПараметрыВыполнения, АдресРезультата) Экспорт
	
	ТипыРеестраДокументов = РегистрыСведений.РеестрДокументов.ТипыДокументовРеестра();

	ДокументыКОтражениюВРеестре = Новый Соответствие;

	Для Каждого ТипДокумента Из ТипыРеестраДокументов Цикл
		МетаданныеДокумента = Метаданные.НайтиПоТипу(ТипДокумента);
		ДокументыКОтражениюВРеестре.Вставить(МетаданныеДокумента);
	КонецЦикла;
	
	Если ДокументыКОтражениюВРеестре.Количество() > 0 Тогда
		РегистрыСведений.РеестрДокументов.ОтразитьДанныеДокументовВРеестре(ДокументыКОтражениюВРеестре);
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти

#КонецЕсли
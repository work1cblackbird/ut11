
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Параметры.Свойство("АвтоТест") Тогда
		Возврат;
	КонецЕсли;
	
	Если ОбщегоНазначения.РежимОтладки() Тогда
		ПрефиксИдентификатора = ОбщегоНазначения.ХранилищеОбщихНастроекЗагрузить(
			"РежимОтладкиЕГАИС", "ПрефиксИдентификатора", "");
		Элементы.ПрефиксИдентификатора.Видимость = Истина;
	КонецЕсли;
	
	СообщатьОбОшибкахПриЗагрузкеДанных = ОбщегоНазначения.ХранилищеОбщихНастроекЗагрузить(
		"РежимОтладкиЕГАИС", "СообщатьОбОшибкахПриЗагрузкеДанных", Истина);
	
	ОбщегоНазначенияСобытияФормИСПереопределяемый.ПриСозданииНаСервере(ЭтотОбъект, Отказ, СтандартнаяОбработка);
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура ЗаписатьИЗакрыть(Команда)
	
	ЗаписатьНаСервере();
	
	Закрыть();
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Процедура ЗаписатьНаСервере()
	
	Если ОбщегоНазначения.РежимОтладки() Тогда
		ОбщегоНазначения.ХранилищеОбщихНастроекСохранить(
			"РежимОтладкиЕГАИС", "ПрефиксИдентификатора", ПрефиксИдентификатора);
	КонецЕсли;
	
	ОбщегоНазначения.ХранилищеОбщихНастроекСохранить(
		"РежимОтладкиЕГАИС", "СообщатьОбОшибкахПриЗагрузкеДанных", СообщатьОбОшибкахПриЗагрузкеДанных);
	
КонецПроцедуры

#КонецОбласти

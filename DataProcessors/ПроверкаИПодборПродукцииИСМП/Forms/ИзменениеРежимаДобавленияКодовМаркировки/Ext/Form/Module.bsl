
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Параметры.Свойство("АвтоТест") Тогда // Возврат при получении формы для анализа.
		Возврат;
	КонецЕсли;
	
	РежимДобавленияКодовМаркировки = Параметры.РежимДобавленияКодовМаркировки;
	
	Если Не ЗначениеЗаполнено(Параметры.ДопустимыеРежимыДобавления) Тогда
		ТолькоПросмотр = Истина;
		Возврат;
	КонецЕсли;
	
	ИменаЭлементовРежимов = Новый Массив;
	ИменаЭлементовРежимов.Добавить(Элементы.РежимДобавленияКодовМаркировкиОСУ.Имя);
	ИменаЭлементовРежимов.Добавить(Элементы.РежимДобавленияКодовМаркировкиПоВладельцу.Имя);
	ИменаЭлементовРежимов.Добавить(Элементы.РежимДобавленияКодовМаркировкиПоштучно.Имя);
	
	Для Каждого ИмяЭлемента Из ИменаЭлементовРежимов Цикл
		Элементы[ИмяЭлемента].ТолькоПросмотр =
			(Параметры.ДопустимыеРежимыДобавления.Найти(
				Элементы[ИмяЭлемента].СписокВыбора[0].Значение) = Неопределено);
	КонецЦикла;
	
	Если Не ЗначениеЗаполнено(РежимДобавленияКодовМаркировки) Тогда
		РежимДобавленияКодовМаркировки = Параметры.РекомендуемыйРежимДобавления;
	КонецЕсли;
	
	ОбщегоНазначенияСобытияФормИСПереопределяемый.ПриСозданииНаСервере(ЭтотОбъект, Отказ, СтандартнаяОбработка);
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура ОК(Команда)
	
	Закрыть(РежимДобавленияКодовМаркировки);
	
КонецПроцедуры

#КонецОбласти

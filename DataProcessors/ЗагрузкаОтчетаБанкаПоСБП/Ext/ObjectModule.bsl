#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ОбработчикиСобытий

Процедура ОбработкаПроверкиЗаполнения(Отказ, ПроверяемыеРеквизиты)

	МассивНепроверяемыхРеквизитов = Новый Массив;
	
	ИмяРеквизитаДоговорПодключения = Метаданные.Обработки.ЗагрузкаОтчетаБанкаПоСБП.Реквизиты.ДоговорПодключенияКПлатежнойСистеме.Имя;
	Если ПроверяемыеРеквизиты.Найти(ИмяРеквизитаДоговорПодключения) <> Неопределено Тогда
		МассивНепроверяемыхРеквизитов.Добавить(ИмяРеквизитаДоговорПодключения);
		Обработки.ЗагрузкаОтчетаБанкаПоСБП.ОбработкаПроверкиЗаполненияДоговораИНастройкиПодключения(ЭтотОбъект, Отказ, Истина);
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(ДатаНач) Тогда
		МассивНепроверяемыхРеквизитов.Добавить("ДатаНач");
		ШаблонСообщения = НСтр("ru='Укажите дату начала периода.'");
		
		ТекстСообщения = СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(ШаблонСообщения, ДоговорПодключенияКПлатежнойСистеме);			
		ОбщегоНазначения.СообщитьПользователю(
			ТекстСообщения,,,, Отказ);
			
	КонецЕсли;

	Если Не ЗначениеЗаполнено(ДатаКон) Тогда
		МассивНепроверяемыхРеквизитов.Добавить("ДатаКон");
		ТекстСообщения = НСтр("ru='Укажите дату окончания периода.'");
		ОбщегоНазначения.СообщитьПользователю(
			ТекстСообщения,,,, Отказ);
			
	КонецЕсли;

	Если ДатаКон < ДатаНач Тогда
		ТекстСообщения = НСтр("ru='Дата окончания периода должна быть больше даты начала.'");
		ОбщегоНазначения.СообщитьПользователю(
			ТекстСообщения,,,, Отказ);
			
	КонецЕсли;

	ОбщегоНазначения.УдалитьНепроверяемыеРеквизитыИзМассива(ПроверяемыеРеквизиты, МассивНепроверяемыхРеквизитов);
	
КонецПроцедуры
 
#КонецОбласти

#КонецЕсли 
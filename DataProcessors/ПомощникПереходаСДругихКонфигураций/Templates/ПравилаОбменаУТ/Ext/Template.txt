<ПравилаОбмена>
	<ВерсияФормата>2.01</ВерсияФормата>
	<Ид>d1a43fcd-a9b4-11ec-9d77-001a7dda7113</Ид>
	<Наименование>УТ103-УТ11_5_8</Наименование>
	<ДатаВремяСоздания>2022-07-12T14:54:49</ДатаВремяСоздания>
	<Источник ВерсияПлатформы="" ВерсияКонфигурации="10.3.73.1" СинонимКонфигурации="">УправлениеТорговлей</Источник>
	<Приемник ВерсияПлатформы="" ВерсияКонфигурации="11.5.9.107" СинонимКонфигурации="">УправлениеТорговлей</Приемник>
	<ПередВыгрузкойДанных>Параметры.Вставить("ИспользоватьУпаковкиНоменклатуры");
Параметры.Вставить("ИспользоватьХарактеристикиНоменклатуры");
Параметры.Вставить("ИспользоватьОрдерныеСклады");
Параметры.Вставить("ВыгруженыОрганизации");
Параметры.Вставить("КешВидовНоменклатуры");
Параметры.Вставить("ТабНоменклатурыТары");
Параметры.Вставить("ТабАлкогольнаяПродукцияНоменклатуры");

Запрос = Новый Запрос("
|ВЫБРАТЬ ПЕРВЫЕ 1
|	1
|ИЗ
|	Справочник.ЕдиницыИзмерения КАК ЕдиницыИзмерения
|ГДЕ
|	ВЫРАЗИТЬ(ЕдиницыИзмерения.Владелец КАК Справочник.Номенклатура.).ЕдиницаХраненияОстатков &lt;&gt; ЕдиницыИзмерения.Ссылка
|");

Параметры.ИспользоватьУпаковкиНоменклатуры = Не Запрос.Выполнить().Пустой();
Параметры.ВыгруженыОрганизации = Ложь;
Параметры.ИспользоватьХарактеристикиНоменклатуры = Константы.ИспользоватьХарактеристикиНоменклатуры.Получить();
Параметры.КешВидовНоменклатуры = Новый Соответствие;

// Определим перечень номенклатуры-тары
Запрос = Новый Запрос(
	"ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	АвансовыйОтчетВозвратнаяТара.Номенклатура КАК Номенклатура
	|ПОМЕСТИТЬ НоменклатураТара
	|ИЗ
	|	Документ.АвансовыйОтчет.ВозвратнаяТара КАК АвансовыйОтчетВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ВнутреннийЗаказВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.ВнутреннийЗаказ.ВозвратнаяТара КАК ВнутреннийЗаказВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ВозвратТоваровОтПокупателяВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.ВозвратТоваровОтПокупателя.ВозвратнаяТара КАК ВозвратТоваровОтПокупателяВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ВозвратТоваровПоставщикуВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.ВозвратТоваровПоставщику.ВозвратнаяТара КАК ВозвратТоваровПоставщикуВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ВозвратТоваровПоставщикуИзНТТВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.ВозвратТоваровПоставщикуИзНТТ.ВозвратнаяТара КАК ВозвратТоваровПоставщикуИзНТТВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ЗаказПокупателяВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.ЗаказПокупателя.ВозвратнаяТара КАК ЗаказПокупателяВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ЗаказПоставщикуВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.ЗаказПоставщику.ВозвратнаяТара КАК ЗаказПоставщикуВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ИзменениеЛимитовВозвратнойТарыВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.ИзменениеЛимитовВозвратнойТары.ВозвратнаяТара КАК ИзменениеЛимитовВозвратнойТарыВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	КорректировкаВнутреннегоЗаказаВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.КорректировкаВнутреннегоЗаказа.ВозвратнаяТара КАК КорректировкаВнутреннегоЗаказаВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	КорректировкаДолгаПоВозвратнойТареВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.КорректировкаДолгаПоВозвратнойТаре.ВозвратнаяТара КАК КорректировкаДолгаПоВозвратнойТареВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	КорректировкаЗаказаПокупателяВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.КорректировкаЗаказаПокупателя.ВозвратнаяТара КАК КорректировкаЗаказаПокупателяВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	КорректировкаЗаказаПоставщикуВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.КорректировкаЗаказаПоставщику.ВозвратнаяТара КАК КорректировкаЗаказаПоставщикуВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ПеремещениеТоваровВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.ПеремещениеТоваров.ВозвратнаяТара КАК ПеремещениеТоваровВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ПоступлениеТоваровУслугВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.ПоступлениеТоваровУслуг.ВозвратнаяТара КАК ПоступлениеТоваровУслугВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ПоступлениеТоваровУслугВНТТВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.ПоступлениеТоваровУслугВНТТ.ВозвратнаяТара КАК ПоступлениеТоваровУслугВНТТВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ПриходныйОрдерНаТоварыВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.ПриходныйОрдерНаТовары.ВозвратнаяТара КАК ПриходныйОрдерНаТоварыВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	РазмещениеЗаказаВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.РазмещениеЗаказа.ВозвратнаяТара КАК РазмещениеЗаказаВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	РасходныйОрдерНаТоварыВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.РасходныйОрдерНаТовары.ВозвратнаяТара КАК РасходныйОрдерНаТоварыВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	РеализацияТоваровУслугВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.РеализацияТоваровУслуг.ВозвратнаяТара КАК РеализацияТоваровУслугВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	РезервированиеТоваровВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.РезервированиеТоваров.ВозвратнаяТара КАК РезервированиеТоваровВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	СписаниеТоваровВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.СписаниеТоваров.ВозвратнаяТара КАК СписаниеТоваровВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	СчетНаОплатуПокупателюВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.СчетНаОплатуПокупателю.ВозвратнаяТара КАК СчетНаОплатуПокупателюВозвратнаяТара
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	СчетНаОплатуПоставщикаВозвратнаяТара.Номенклатура
	|ИЗ
	|	Документ.СчетНаОплатуПоставщика.ВозвратнаяТара КАК СчетНаОплатуПоставщикаВозвратнаяТара
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	Номенклатура
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	НоменклатураТара.Номенклатура
	|ИЗ
	|	НоменклатураТара КАК НоменклатураТара");

ТабНоменклатурыТары = Запрос.Выполнить().Выгрузить();
ТабНоменклатурыТары.Индексы.Добавить("Номенклатура");

Параметры.ТабНоменклатурыТары = ТабНоменклатурыТары;

// Определим, используются ли ордерные склады

Запрос = Новый Запрос("
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	Док.Ссылка
	|ИЗ
	|	Документ.ПриходныйОрдерНаТовары КАК Док
	|ГДЕ
	|	Док.Проведен = ИСТИНА
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	Док.Ссылка
	|ИЗ
	|	Документ.РасходныйОрдерНаТовары КАК Док
	|ГДЕ
	|	Док.Проведен = ИСТИНА
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	Док.Ссылка
	|ИЗ
	|	Документ.ПоступлениеТоваровУслуг КАК Док
	|ГДЕ
	|	Док.ВидПоступления = ЗНАЧЕНИЕ(Перечисление.ВидыПоступленияТоваров.ПоОрдеру)
	|	И Док.Проведен = ИСТИНА
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	Док.Ссылка
	|ИЗ
	|	Документ.РеализацияТоваровУслуг КАК Док
	|ГДЕ
	|	Док.ВидПередачи = ЗНАЧЕНИЕ(Перечисление.ВидыПередачиТоваров.ПоОрдеру)
	|	И Док.Проведен = ИСТИНА
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	Док.Ссылка
	|ИЗ
	|	Документ.ВозвратТоваровПоставщику КАК Док
	|ГДЕ
	|	Док.ВидПередачи = ЗНАЧЕНИЕ(Перечисление.ВидыПередачиТоваров.ПоОрдеру)
	|	И Док.Проведен = ИСТИНА
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	Док.Ссылка
	|ИЗ
	|	Документ.ВозвратТоваровОтПокупателя КАК Док
	|ГДЕ
	|	Док.ВидПоступления = ЗНАЧЕНИЕ(Перечисление.ВидыПоступленияТоваров.ПоОрдеру)
	|	И Док.Проведен = ИСТИНА");
Параметры.ИспользоватьОрдерныеСклады = Не Запрос.Выполнить().Пустой();

Параметры.ТабАлкогольнаяПродукцияНоменклатуры = Новый ТаблицаЗначений;
Параметры.ТабАлкогольнаяПродукцияНоменклатуры.Колонки.Добавить("Номенклатура");
Параметры.ТабАлкогольнаяПродукцияНоменклатуры.Колонки.Добавить("АлкогольнаяПродукция");
Параметры.ТабАлкогольнаяПродукцияНоменклатуры.Колонки.Добавить("ВидАлкогольнойПродукции");
Параметры.ТабАлкогольнаяПродукцияНоменклатуры.Колонки.Добавить("ВестиУчетПоГТД");

Если Не ЗначениеЗаполнено(Параметры.Организации) Тогда
	Параметры.Организации = Новый Массив;
ИначеЕсли ТипЗнч(Параметры.Организации) = Тип("СправочникСсылка.Организации") Тогда // когда в обработке универсального обмена задан параметр
	Организация = Параметры.Организации;
	Параметры.Организации = Новый Массив;
	Параметры.Организации.Добавить(Организация);
КонецЕсли;

Если Не ЗначениеЗаполнено(Параметры.ДатаОстатков) Тогда
	Параметры.ДатаОстатков = НачалоГода(ТекущаяДата());
КонецЕсли;

Параметры.Вставить("ВалютаРеглУчета", глЗначениеПеременной("ВалютаРегламентированногоУчета"));
Параметры.Вставить("ВалютаУпрУчета", глЗначениеПеременной("ВалютаУправленческогоУчета"));
Параметры.Вставить("КурсВУУ", МодульВалютногоУчета.ПолучитьКурсВалюты(Параметры.ВалютаУпрУчета,Параметры.ДатаОстатков));</ПередВыгрузкойДанных>
	<ПередЗагрузкойДанных>ТаблицаСоответствияКачественнойИНекачественнойНоменклатуры = Новый ТаблицаЗначений;
ТаблицаСоответствияКачественнойИНекачественнойНоменклатуры.Колонки.Добавить("КачественнаяНоменклатура");
ТаблицаСоответствияКачественнойИНекачественнойНоменклатуры.Колонки.Добавить("НекачественнаяНоменклатура");

Параметры.Вставить("ТаблицаСоответствияКачественнойИНекачественнойНоменклатуры", ТаблицаСоответствияКачественнойИНекачественнойНоменклатуры);
Параметры.Вставить("МассивЗагруженныхПартнеров", Новый Массив);
Параметры.Вставить("МассивЗагруженныхДокументовВводаОстатковТоваровНаСкладах", Новый Массив);
Параметры.Вставить("ЗагруженыНовыеПользователи", Ложь);
Параметры.Вставить("ДокументыВводаОстатковДляПересчетаСуммыРегл", Новый Массив);
Параметры.Вставить("ДокументыДляПроведения", Новый Массив);
Параметры.Вставить("ВводОстатковСчетаФактуры", Новый Массив);

Параметры.Вставить("ЗагруженыОрганизации",            Ложь);
Параметры.Вставить("ЗагруженыРасчетныеСчета",         Ложь);
Параметры.Вставить("ЗагруженыВалюты",                 Ложь);
Параметры.Вставить("ЗагруженыКассы",                  Ложь);
Параметры.Вставить("ЗагруженыВидыЦен",                Ложь);
Параметры.Вставить("ЗагруженыСклады",                 Ложь);
Параметры.Вставить("ЗагруженыРолиКонтактныхЛиц",      Ложь);
Параметры.Вставить("ЗагруженыГруппыДоступаПартнеров", Ложь);
Параметры.Вставить("ЗагруженыПОЗаказовКлиентов",      Ложь);

ЗагруженныеОбъектыПереноса = Новый ТаблицаЗначений;
ЗагруженныеОбъектыПереноса.Колонки.Добавить("ИмяПКО");
ЗагруженныеОбъектыПереноса.Колонки.Добавить("Объект");
ЗагруженныеОбъектыПереноса.Колонки.Добавить("Параметры");

Параметры.Вставить("ЗагруженныеОбъектыПереноса", ЗагруженныеОбъектыПереноса);

Константы.КонтролироватьУникальностьРабочегоНаименованияНоменклатурыИХарактеристик.Установить(Ложь);

Параметры.Вставить("ЭтоБазоваяВерсия", Метаданные.Имя = "УправлениеТорговлейБазовая");
Параметры.Вставить("ЗагруженыБизнесРегионы", Ложь);

Дерево = Справочники.УпаковкиЕдиницыИзмерения.ПолучитьДанныеКлассификатора();
Соответствие = Новый Соответствие;
Для Каждого СтрокаУровень1 Из Дерево.Строки Цикл
	Для Каждого СтрокаУровень2 Из СтрокаУровень1.Строки Цикл
		Для Каждого СтрокаУровень3 Из СтрокаУровень2.Строки Цикл
			Если ЗначениеЗаполнено(СтрокаУровень3.ТипИзмеряемойВеличины) Тогда
				СтруктураРеквизитов = Новый Структура("ТипИзмеряемойВеличины,Числитель,Знаменатель",
				Перечисления.ТипыИзмеряемыхВеличин[СтрокаУровень3.ТипИзмеряемойВеличины]);
				ЗаполнитьЗначенияСвойств(СтруктураРеквизитов, СтрокаУровень3,,"ТипИзмеряемойВеличины");
				Соответствие.Вставить(СокрЛП(СтрокаУровень3.КодЧисловой), СтруктураРеквизитов);
			КонецЕсли;
		КонецЦикла;
	КонецЦикла;
КонецЦикла;
Параметры.Вставить("Соответствие", Соответствие);</ПередЗагрузкойДанных>
	<ПослеЗагрузкиДанных>Выполнить(Алгоритмы.УстановитьИспользованиеОпциональныхВозможностей);

Если Параметры.ЗагруженыНовыеПользователи Тогда
	ПользователиСлужебный.ОбновитьСоставыГруппПользователей(Справочники.ГруппыПользователей.ВсеПользователи);
КонецЕсли;

// Заполнение регистра сведений "Градации качества номенклатуры"
ТаблицаСоответствияКачественнойИНекачественнойНоменклатуры = Параметры.ТаблицаСоответствияКачественнойИНекачественнойНоменклатуры;
ТаблицаСоответствияКачественнойИНекачественнойНоменклатуры.Свернуть("КачественнаяНоменклатура,НекачественнаяНоменклатура");
Для Каждого Строка Из ТаблицаСоответствияКачественнойИНекачественнойНоменклатуры Цикл
	РегистрыСведений.ТоварыДругогоКачества.ЗаписатьСвязьСТоваромДругогоКачества(Строка.КачественнаяНоменклатура, Строка.НекачественнаяНоменклатура);
КонецЦикла;

// Обновление иерархии партнеров
Для Каждого Партнер Из Параметры.МассивЗагруженныхПартнеров Цикл
	Если Не Партнер.ЭтоНовый() Тогда
		ПартнерыИКонтрагенты.ЗаписатьИерархиюПартнера(Партнер.Ссылка);
	КонецЕсли;
КонецЦикла;

ЗагруженныеОбъектыПереноса = Параметры.ЗагруженныеОбъектыПереноса;
ЗагруженныеОбъектыПереноса.Сортировать("ИмяПКО");

Для Каждого СтрокаТаблицы Из ЗагруженныеОбъектыПереноса Цикл
	
	Если СтрокаТаблицы.Объект.ЭтоНовый() Тогда
		Продолжить;
	КонецЕсли;
	
	Объект = СтрокаТаблицы.Объект.Ссылка.ПолучитьОбъект();
	ПараметрыОбъекта = СтрокаТаблицы.Параметры;
	ИмяПКО = СтрокаТаблицы.ИмяПКО;
	
	ОбъектМодифицирован = Истина;
	
	Если Метаданные.Справочники.Содержит(Объект.МетаДанные()) Тогда
		Выполнить(Алгоритмы.ОбработкаСправочниковОтложенная);
	КонецЕсли;
	
	Если ОбъектМодифицирован Тогда
		Объект.ОбменДанными.Загрузка = Истина;
		Объект.Записать();
	КонецЕсли;
	
КонецЦикла;
// Заполнение наборов свойств 
Выполнить(Алгоритмы.ЗаполнитьНаборыДопРеквизитовИСведений);

Если ПолучитьФункциональнуюОпцию("БазоваяВерсия") Тогда
	Выполнить(Алгоритмы.УстановитьОграниченияБазовойВерсии);
КонецЕсли;

Выполнить(Алгоритмы.ОбработатьПослеЗаписиСкладыУчитывающиеСерии);
Выполнить(Алгоритмы.ОбработатьВидыНоменклатурыПослеЗаписи);
Выполнить(Алгоритмы.ОбновитьСтатусыУказанияСерийВДокументах);
Выполнить(Алгоритмы.ВыполнитьПроведениеДокументов);
Выполнить(Алгоритмы.СформироватьСчетаФактурыПолученные);

Константы.КонтролироватьУникальностьРабочегоНаименованияНоменклатурыИХарактеристик.Установить(Истина);

ПараметрыПослеЗагрузкиДанных = ОбменДаннымиУТ.ПараметрыПослеЗагрузкиДанных();
ОбменДаннымиУТ.ПослеЗагрузкиДанных(ПараметрыПослеЗагрузкиДанных);</ПослеЗагрузкиДанных>
	<ПередКонвертациейОбъекта>Если ТипЗнч(ВходящиеДанные) &lt;&gt; Тип("Структура") Тогда
	ВходящиеДанные = Новый Структура;
КонецЕсли;

Если ТипЗнч(ИсходящиеДанные) &lt;&gt; Тип("Структура") Тогда
	ИсходящиеДанные = Новый Структура;
КонецЕсли;</ПередКонвертациейОбъекта>
	<Параметры>
		<Параметр Имя="ДатаОстатков" Наименование="ДатаОстатков" ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="false" ТипЗначения="Дата" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="ИспользуетсяКачество" Наименование="ИспользуетсяКачество" ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="false" ТипЗначения="Булево" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="НезависимоВестиПартнеровИКонтрагентов" Наименование="НезависимоВестиПартнеровИКонтрагентов" ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="false" ТипЗначения="Булево" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="Организации" Наименование="Организации" ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="false" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="РежимВыгрузкиСерий" Наименование="РежимВыгрузкиСерий" ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="false" ТипЗначения="Число" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="СворачиватьХарактеристики" Наименование="СворачиватьХарактеристики" ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="false" ТипЗначения="Булево" ПередаватьПараметрПриВыгрузке="false"/>
	</Параметры>
	<Обработки/>
	<ПравилаКонвертацииОбъектов>
		<Правило>
			<Код>КонстантыНабор</Код>
			<Наименование>КонстантыНабор</Наименование>
			<Порядок>50</Порядок>
			<ПослеЗагрузки>Параметры.Вставить("ЗагруженыНастройки");

Отказ = Истина;
ПереченьКонстант = Новый Массив;
ПереченьЗеркальныхКонстант = Новый Массив;

ПереченьКонстант.Добавить("ВалютаРегламентированногоУчета");
ПереченьКонстант.Добавить("ВалютаУправленческогоУчета");
ПереченьКонстант.Добавить("ЗаголовокСистемы");
ПереченьКонстант.Добавить("ИспользоватьОплатуПлатежнымиКартами");
ПереченьКонстант.Добавить("ДополнительнаяКолонкаПечатныхФормДокументов");
ПереченьКонстант.Добавить("ИспользоватьХарактеристикиНоменклатуры");
ПереченьКонстант.Добавить("ЕдиницаИзмеренияВеса");
ПереченьКонстант.Добавить("ЕдиницаИзмеренияОбъема");
ПереченьКонстант.Добавить("ПрефиксУзлаРаспределеннойИнформационнойБазы");
ПереченьКонстант.Добавить("ИспользоватьЗаказыКлиентов");
ПереченьКонстант.Добавить("ИспользоватьЗаказыПоставщикам");
ПереченьКонстант.Добавить("ИспользоватьПодключаемоеОборудование");
ПереченьКонстант.Добавить("ИспользоватьКомиссиюПриПродажах");
ПереченьКонстант.Добавить("ИспользоватьКомиссиюПриЗакупках");
ПереченьКонстант.Добавить("ИспользоватьНоменклатуруПартнеров");
ПереченьКонстант.Добавить("ИспользоватьДополнительныеРеквизитыИСведения");
ПереченьКонстант.Добавить("ИспользоватьСерииНоменклатуры");
ПереченьКонстант.Добавить("ИспользоватьУпаковкиНоменклатуры");
ПереченьКонстант.Добавить("ИспользоватьРозничныеПродажи");
ПереченьКонстант.Добавить("ИспользоватьСоглашенияСКлиентами");
ПереченьКонстант.Добавить("ИспользоватьИндивидуальныеСоглашенияСКлиентами");
ПереченьКонстант.Добавить("ИспользоватьТиповыеИИндивидуальныеСоглашенияСКлиентами");
ПереченьКонстант.Добавить("ИспользоватьТиповыеСоглашенияСКлиентами");
ПереченьКонстант.Добавить("ИспользованиеСоглашенийСКлиентами");
ПереченьКонстант.Добавить("ИспользоватьНесколькоВидовНоменклатуры");
ПереченьКонстант.Добавить("ИспользоватьДоверенностиНаПолучениеТМЦ");
ПереченьКонстант.Добавить("ИспользоватьРасширенныеВозможностиЗаказаКлиента");
ПереченьКонстант.Добавить("ИспользоватьПострочнуюОтгрузкуВЗаказеКлиента");
ПереченьКонстант.Добавить("ИспользоватьДоговорыСКлиентами");
ПереченьКонстант.Добавить("ИспользоватьКомиссиюПриПродажахБазовая");
ПереченьКонстант.Добавить("ИспользоватьКомиссиюПриЗакупкахБазовая");
ПереченьКонстант.Добавить("ИспользоватьКомиссиюПриПродажахНеБазовая");
ПереченьКонстант.Добавить("ИспользоватьКомиссиюПриЗакупкахНеБазовая");
ПереченьКонстант.Добавить("ИспользоватьДоговорыСПоставщиками");
ПереченьКонстант.Добавить("ИспользоватьПричиныОтменыЗаказовКлиентов");
ПереченьКонстант.Добавить("ИспользоватьПричиныОтменыЗаказовПоставщикам");
ПереченьКонстант.Добавить("ИспользоватьКорректировкиПриобретений");
ПереченьКонстант.Добавить("ИспользоватьКорректировкиРеализаций");
ПереченьКонстант.Добавить("ВестиСведенияДляДекларацийАлкоВРознице");
ПереченьКонстант.Добавить("ИспользоватьПочтовыйКлиент");

Если Не Параметры.ЭтоБазоваяВерсия Тогда
	
	ПереченьКонстант.Добавить("ОграничиватьДоступНаУровнеЗаписей");
	ПереченьКонстант.Добавить("ИспользоватьЦеновыеГруппы");
	ПереченьКонстант.Добавить("ИспользоватьКачествоТоваров");
	ПереченьКонстант.Добавить("ИспользоватьСкладыВТабличнойЧастиДокументовЗакупки");
	ПереченьКонстант.Добавить("ИспользоватьСкладыВТабличнойЧастиДокументовПродажи");
	ПереченьКонстант.Добавить("ИспользоватьАвтоматическиеСкидкиВПродажах");
	ПереченьКонстант.Добавить("ИспользоватьКартыЛояльности");
	ПереченьКонстант.Добавить("ИспользоватьМногооборотнуюТару");
	ПереченьКонстант.Добавить("ИспользоватьОрдерныеСклады");
	ПереченьКонстант.Добавить("ИспользоватьПодразделения");
	ПереченьКонстант.Добавить("ИспользоватьНаборы");	
	ПереченьКонстант.Добавить("НеЗакрыватьЗаказыКлиентовБезПолнойОплаты");
	ПереченьКонстант.Добавить("НеЗакрыватьЗаказыКлиентовБезПолнойОтгрузки");
	ПереченьКонстант.Добавить("НеЗакрыватьЗаказыПоставщикамБезПолногоПоступления");
	ПереченьКонстант.Добавить("НеЗакрыватьЗаказыПоставщикамБезПолнойОплаты");
	ПереченьКонстант.Добавить("ИспользоватьИмпортныеТовары");
	ПереченьКонстант.Добавить("ИспользоватьПартнеровКакКонтрагентов");
	ПереченьКонстант.Добавить("ИспользоватьПартнеровИКонтрагентов");

КонецЕсли;

Для Каждого Константа Из ПереченьКонстант Цикл
	
	КонстантаМенеджерЗначения = Константы[Константа].СоздатьМенеджерЗначения();
	КонстантаМенеджерЗначения.Значение = Объект[Константа];
	ЗаписатьОбъектВИБ(КонстантаМенеджерЗначения, ТипЗнч(КонстантаМенеджерЗначения));
	
КонецЦикла;

Для Каждого Константа Из ПереченьЗеркальныхКонстант Цикл
	
	КонстантаМенеджерЗначения = Константы["Не" + Константа].СоздатьМенеджерЗначения();
	КонстантаМенеджерЗначения.Значение = Не Объект[Константа];
	ЗаписатьОбъектВИБ(КонстантаМенеджерЗначения, ТипЗнч(КонстантаМенеджерЗначения));
	
КонецЦикла;</ПослеЗагрузки>
			<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
			<Источник>КонстантыНабор</Источник>
			<Приемник>КонстантыНабор</Приемник>
			<Свойства>
				<Свойство>
					<Код>1</Код>
					<Наименование>ВалютаРегламентированногоУчета --&gt; ВалютаРегламентированногоУчета</Наименование>
					<Порядок>50</Порядок>
					<Источник Имя="ВалютаРегламентированногоУчета" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
					<Приемник Имя="ВалютаРегламентированногоУчета" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
					<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
				</Свойство>
				<Свойство>
					<Код>2</Код>
					<Наименование>ВалютаУправленческогоУчета --&gt; ВалютаУправленческогоУчета</Наименование>
					<Порядок>100</Порядок>
					<Источник Имя="ВалютаУправленческогоУчета" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
					<Приемник Имя="ВалютаУправленческогоУчета" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
					<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
				</Свойство>
				<Свойство>
					<Код>3</Код>
					<Наименование>ЗаголовокСистемы --&gt; ЗаголовокСистемы</Наименование>
					<Порядок>150</Порядок>
					<Источник Имя="ЗаголовокСистемы" Вид="Реквизит" Тип="Строка"/>
					<Приемник Имя="ЗаголовокСистемы" Вид="Реквизит" Тип="Строка"/>
				</Свойство>
				<Свойство>
					<Код>5</Код>
					<Наименование>ИспользоватьОплатуПлатежнымиКартами --&gt; ИспользоватьОплатуПлатежнымиКартами</Наименование>
					<Порядок>200</Порядок>
					<Источник Имя="ИспользоватьОплатуПлатежнымиКартами" Вид="Реквизит" Тип="Булево"/>
					<Приемник Имя="ИспользоватьОплатуПлатежнымиКартами" Вид="Реквизит" Тип="Булево"/>
				</Свойство>
				<Свойство>
					<Код>18</Код>
					<Наименование>ИспользоватьОграниченияПравДоступаНаУровнеЗаписей --&gt; ОграничиватьДоступНаУровнеЗаписей</Наименование>
					<Порядок>250</Порядок>
					<Источник Имя="ИспользоватьОграниченияПравДоступаНаУровнеЗаписей" Вид="Реквизит" Тип="Булево"/>
					<Приемник Имя="ОграничиватьДоступНаУровнеЗаписей" Вид="Реквизит" Тип="Булево"/>
				</Свойство>
				<Свойство>
					<Код>20</Код>
					<Наименование>ДополнительнаяКолонкаПечатныхФормДокументов --&gt; ДополнительнаяКолонкаПечатныхФормДокументов</Наименование>
					<Порядок>300</Порядок>
					<Источник Имя="ДополнительнаяКолонкаПечатныхФормДокументов" Вид="Реквизит" Тип="ПеречислениеСсылка.ДополнительнаяКолонкаПечатныхФормДокументов"/>
					<Приемник Имя="ДополнительнаяКолонкаПечатныхФормДокументов" Вид="Реквизит" Тип="ПеречислениеСсылка.ДополнительнаяКолонкаПечатныхФормДокументов"/>
					<КодПравилаКонвертации>ДополнительнаяКолонкаПечатныхФормДокументов</КодПравилаКонвертации>
				</Свойство>
				<Свойство>
					<Код>6</Код>
					<Наименование>ИспользоватьХарактеристикиНоменклатуры --&gt; ИспользоватьХарактеристикиНоменклатуры</Наименование>
					<Порядок>350</Порядок>
					<Источник Имя="ИспользоватьХарактеристикиНоменклатуры" Вид="Реквизит" Тип="Булево"/>
					<Приемник Имя="ИспользоватьХарактеристикиНоменклатуры" Вид="Реквизит" Тип="Булево"/>
				</Свойство>
				<Свойство>
					<Код>21</Код>
					<Наименование>ЕдиницаИзмеренияВеса --&gt; ЕдиницаИзмеренияВеса</Наименование>
					<Порядок>400</Порядок>
					<Источник Имя="ЕдиницаИзмеренияВеса" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
					<Приемник Имя="ЕдиницаИзмеренияВеса" Вид="Реквизит" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
					<КодПравилаКонвертации>КлассификаторЕдиницИзмерения_ЕдиницыИзмерения</КодПравилаКонвертации>
				</Свойство>
				<Свойство>
					<Код>22</Код>
					<Наименование>ЕдиницаИзмеренияОбъема --&gt; ЕдиницаИзмеренияОбъема</Наименование>
					<Порядок>450</Порядок>
					<Источник Имя="ЕдиницаИзмеренияОбъема" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
					<Приемник Имя="ЕдиницаИзмеренияОбъема" Вид="Реквизит" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
					<КодПравилаКонвертации>КлассификаторЕдиницИзмерения_ЕдиницыИзмерения</КодПравилаКонвертации>
				</Свойство>
				<Свойство>
					<Код>23</Код>
					<Наименование>ПрефиксУзлаРаспределеннойИнформационнойБазы --&gt; ПрефиксУзлаРаспределеннойИнформационнойБазы</Наименование>
					<Порядок>500</Порядок>
					<Источник Имя="ПрефиксУзлаРаспределеннойИнформационнойБазы" Вид="Реквизит" Тип="Строка"/>
					<Приемник Имя="ПрефиксУзлаРаспределеннойИнформационнойБазы" Вид="Реквизит" Тип="Строка"/>
				</Свойство>
				<Свойство>
					<Код>8</Код>
					<Наименование>--&gt; ИспользоватьЗаказыКлиентов</Наименование>
					<Порядок>550</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьЗаказыКлиентов" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос("
|ВЫБРАТЬ ПЕРВЫЕ 1
|	1
|ИЗ
|	Документ.ЗаказПокупателя КАК ЗаказПокупателя
|");

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>10</Код>
					<Наименование>--&gt; ИспользоватьЗаказыПоставщикам</Наименование>
					<Порядок>600</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьЗаказыПоставщикам" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос("
|ВЫБРАТЬ ПЕРВЫЕ 1
|	1
|ИЗ
|	Документ.ЗаказПоставщику КАК ЗаказПоставщику
|");

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>9</Код>
					<Наименование> --&gt; ИспользоватьПодключаемоеОборудование</Наименование>
					<Порядок>650</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьПодключаемоеОборудование" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос("
|ВЫБРАТЬ ПЕРВЫЕ 1
|	1
|ИЗ
|	РегистрСведений.ТорговоеОборудование КАК ТорговоеОборудование
|");

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>12</Код>
					<Наименование>--&gt; ИспользоватьКомиссиюПриПродажах</Наименование>
					<Порядок>750</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьКомиссиюПриПродажах" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос("
|ВЫБРАТЬ ПЕРВЫЕ 1
|	1
|ИЗ
|	Документ.РеализацияТоваровУслуг КАК РеализацияТоваровУслуг
|ГДЕ
|	РеализацияТоваровУслуг.ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СКомиссионером)
|");

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>26</Код>
					<Наименование>--&gt; ИспользоватьКомиссиюПриЗакупках</Наименование>
					<Порядок>800</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьКомиссиюПриЗакупках" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос("
|ВЫБРАТЬ ПЕРВЫЕ 1
|	1
|ИЗ
|	Документ.ПоступлениеТоваровУслуг КАК ПоступлениеТоваровУслуг
|ГДЕ
|	ПоступлениеТоваровУслуг.ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СКомитентом)
|");

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>13</Код>
					<Наименование> --&gt; ИспользоватьНоменклатуруПартнеров</Наименование>
					<Порядок>850</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьНоменклатуруПартнеров" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос("
|ВЫБРАТЬ ПЕРВЫЕ 1
|	1
|ИЗ
|	РегистрСведений.НоменклатураКонтрагентов КАК НоменклатураКонтрагентов
|");

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>15</Код>
					<Наименование> --&gt; ИспользоватьДополнительныеРеквизитыИСведения</Наименование>
					<Порядок>900</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьДополнительныеРеквизитыИСведения" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос("
|ВЫБРАТЬ ПЕРВЫЕ 1
|	1
|ИЗ
|	РегистрСведений.ЗначенияСвойствОбъектов КАК ЗначенияСвойствОбъектов
|");

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>7</Код>
					<Наименование>ИспользоватьСерииНоменклатуры --&gt; ИспользоватьСерииНоменклатуры</Наименование>
					<Порядок>950</Порядок>
					<Источник Имя="ИспользоватьСерииНоменклатуры" Вид="Реквизит" Тип="Булево"/>
					<Приемник Имя="ИспользоватьСерииНоменклатуры" Вид="Реквизит" Тип="Булево"/>
					<ПриВыгрузке>Значение = Значение И (Параметры.РежимВыгрузкиСерий &gt; 0);</ПриВыгрузке>
				</Свойство>
				<Свойство>
					<Код>16</Код>
					<Наименование>--&gt; ИспользоватьУпаковкиНоменклатуры</Наименование>
					<Порядок>1000</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьУпаковкиНоменклатуры" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = Параметры.ИспользоватьУпаковкиНоменклатуры;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>17</Код>
					<Наименование>--&gt; ИспользоватьЦеновыеГруппы</Наименование>
					<Порядок>1050</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьЦеновыеГруппы" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос("
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	1
	|ИЗ
	|	Справочник.ЦеновыеГруппы КАК ЦеновыеГруппы
	|");

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>19</Код>
					<Наименование>--&gt; ИспользоватьРозничныеПродажи</Наименование>
					<Порядок>1100</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьРозничныеПродажи" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос("
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	1 КАК Поле1
	|ИЗ
	|	Документ.ОтчетОРозничныхПродажах КАК ОтчетОРозничныхПродажах
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	1
	|ИЗ
	|	Справочник.Склады КАК Склады
	|ГДЕ
	|	НЕ Склады.ПометкаУдаления
	|	И Склады.ВидСклада &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ВидыСкладов.Оптовый)");

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>27</Код>
					<Наименование>--&gt; ИспользоватьКачествоТоваров</Наименование>
					<Порядок>1150</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьКачествоТоваров" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = Параметры.ИспользуетсяКачество;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>29</Код>
					<Наименование>УказаниеСкладовВТабличнойЧастиДокументов --&gt; ИспользоватьСкладыВТабличнойЧастиДокументовЗакупки</Наименование>
					<Порядок>1200</Порядок>
					<Источник Имя="УказаниеСкладовВТабличнойЧастиДокументов" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыУказанияСкладовВТабличнойЧастиДокументов"/>
					<Приемник Имя="ИспользоватьСкладыВТабличнойЧастиДокументовЗакупки" Вид="Реквизит" Тип="Булево"/>
					<ПриВыгрузке>Значение = Значение = Перечисления.ВариантыУказанияСкладовВТабличнойЧастиДокументов.ДляДокументовПоступления
			Или Значение = Перечисления.ВариантыУказанияСкладовВТабличнойЧастиДокументов.ДляДокументовПоступленияРеализации;</ПриВыгрузке>
				</Свойство>
				<Свойство>
					<Код>30</Код>
					<Наименование>УказаниеСкладовВТабличнойЧастиДокументов --&gt; ИспользоватьСкладыВТабличнойЧастиДокументовПродажи</Наименование>
					<Порядок>1250</Порядок>
					<Источник Имя="УказаниеСкладовВТабличнойЧастиДокументов" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыУказанияСкладовВТабличнойЧастиДокументов"/>
					<Приемник Имя="ИспользоватьСкладыВТабличнойЧастиДокументовПродажи" Вид="Реквизит" Тип="Булево"/>
					<ПриВыгрузке>Значение = Значение = Перечисления.ВариантыУказанияСкладовВТабличнойЧастиДокументов.ДляДокументовРеализации
			Или Значение = Перечисления.ВариантыУказанияСкладовВТабличнойЧастиДокументов.ДляДокументовПоступленияРеализации;</ПриВыгрузке>
				</Свойство>
				<Свойство>
					<Код>32</Код>
					<Наименование>--&gt; ИспользоватьАвтоматическиеСкидкиВПродажах</Наименование>
					<Порядок>1300</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьАвтоматическиеСкидкиВПродажах" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос("ВЫБРАТЬ
	|	ТипыСкидокНаценок.Ссылка
	|ИЗ
	|	Справочник.ТипыСкидокНаценок КАК ТипыСкидокНаценок
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	ВидыДисконтныхКарт.Ссылка
	|ИЗ
	|	Справочник.ВидыДисконтныхКарт КАК ВидыДисконтныхКарт");
Значение = НЕ Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>31</Код>
					<Наименование>--&gt; ИспользоватьКартыЛояльности</Наименование>
					<Порядок>1350</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьКартыЛояльности" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос("
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	ВидыДисконтныхКарт.Ссылка
	|ИЗ
	|	Справочник.ВидыДисконтныхКарт КАК ВидыДисконтныхКарт");
	
Значение = НЕ Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>34</Код>
					<Наименование>ИспользоватьВозвратнуюТару --&gt; ИспользоватьМногооборотнуюТару</Наименование>
					<Порядок>1450</Порядок>
					<Источник Имя="ИспользоватьВозвратнуюТару" Вид="Реквизит" Тип="Булево"/>
					<Приемник Имя="ИспользоватьМногооборотнуюТару" Вид="Реквизит" Тип="Булево"/>
				</Свойство>
				<Свойство>
					<Код>45</Код>
					<Наименование>--&gt; ИспользоватьОрдерныеСклады</Наименование>
					<Порядок>1500</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьОрдерныеСклады" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = Параметры.ИспользоватьОрдерныеСклады Или Параметры.РежимВыгрузкиСерий &gt; 0;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>46</Код>
					<Наименование>--&gt; ИспользоватьСоглашенияСКлиентами</Наименование>
					<Порядок>1600</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьСоглашенияСКлиентами" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>47</Код>
					<Наименование>--&gt; ИспользоватьИндивидуальныеСоглашенияСКлиентами</Наименование>
					<Порядок>1650</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьИндивидуальныеСоглашенияСКлиентами" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>48</Код>
					<Наименование>--&gt; ИспользоватьТиповыеИИндивидуальныеСоглашенияСКлиентами</Наименование>
					<Порядок>1700</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьТиповыеИИндивидуальныеСоглашенияСКлиентами" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>49</Код>
					<Наименование>--&gt; ИспользоватьТиповыеСоглашенияСКлиентами</Наименование>
					<Порядок>1750</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьТиповыеСоглашенияСКлиентами" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>50</Код>
					<Наименование>--&gt; ИспользованиеСоглашенийСКлиентами</Наименование>
					<Порядок>1800</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользованиеСоглашенийСКлиентами" Вид="Реквизит" Тип="ПеречислениеСсылка.ИспользованиеСоглашенийСКлиентами"/>
					<ПередВыгрузкой>Значение = "ТиповыеИИндивидуальныеСоглашения";</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>52</Код>
					<Наименование>--&gt; ИспользоватьПартнеровИКонтрагентов</Наименование>
					<Порядок>1850</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьПартнеровИКонтрагентов" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = Параметры.НезависимоВестиПартнеровИКонтрагентов;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>53</Код>
					<Наименование>--&gt; ИспользоватьПартнеровКакКонтрагентов</Наименование>
					<Порядок>1900</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьПартнеровКакКонтрагентов" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = НЕ Параметры.НезависимоВестиПартнеровИКонтрагентов;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>54</Код>
					<Наименование>--&gt; ИспользоватьПодразделения</Наименование>
					<Порядок>1950</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьПодразделения" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>55</Код>
					<Наименование>--&gt; ИспользоватьНаборы</Наименование>
					<Порядок>2000</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьНаборы" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>56</Код>
					<Наименование>--&gt; ИспользоватьДоверенностиНаПолучениеТМЦ</Наименование>
					<Порядок>2050</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьДоверенностиНаПолучениеТМЦ" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>57</Код>
					<Наименование>--&gt; ИспользоватьНесколькоВидовНоменклатуры</Наименование>
					<Порядок>2100</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьНесколькоВидовНоменклатуры" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>58</Код>
					<Наименование>--&gt; ИспользоватьРасширенныеВозможностиЗаказаКлиента</Наименование>
					<Порядок>2150</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьРасширенныеВозможностиЗаказаКлиента" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос("
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	1
	|ИЗ
	|	Документ.ЗаказПокупателя КАК ЗаказПокупателя
	|");

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>59</Код>
					<Наименование>--&gt; ИспользоватьПострочнуюОтгрузкуВЗаказеКлиента</Наименование>
					<Порядок>2200</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьПострочнуюОтгрузкуВЗаказеКлиента" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос("
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	1
	|ИЗ
	|	Документ.ЗаказПокупателя КАК ЗаказПокупателя
	|");

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>60</Код>
					<Наименование>--&gt; ИспользоватьДоговорыСКлиентами</Наименование>
					<Порядок>2250</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьДоговорыСКлиентами" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>61</Код>
					<Наименование>--&gt; ИспользоватьКомиссиюПриПродажахБазовая</Наименование>
					<Порядок>2300</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьКомиссиюПриПродажахБазовая" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос("
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	1
	|ИЗ
	|	Документ.РеализацияТоваровУслуг КАК РеализацияТоваровУслуг
	|ГДЕ
	|	РеализацияТоваровУслуг.ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СКомиссионером)
	|");

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>62</Код>
					<Наименование>--&gt; ИспользоватьКомиссиюПриПродажахНеБазовая</Наименование>
					<Порядок>2350</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьКомиссиюПриПродажахНеБазовая" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос("
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	1
	|ИЗ
	|	Документ.РеализацияТоваровУслуг КАК РеализацияТоваровУслуг
	|ГДЕ
	|	РеализацияТоваровУслуг.ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СКомиссионером)
	|");

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>63</Код>
					<Наименование>--&gt; ИспользоватьКомиссиюПриЗакупкахБазовая</Наименование>
					<Порядок>2400</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьКомиссиюПриЗакупкахБазовая" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос("
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	1
	|ИЗ
	|	Документ.ПоступлениеТоваровУслуг КАК ПоступлениеТоваровУслуг
	|ГДЕ
	|	ПоступлениеТоваровУслуг.ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СКомитентом)
	|");

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>64</Код>
					<Наименование>--&gt; ИспользоватьКомиссиюПриЗакупкахНеБазовая</Наименование>
					<Порядок>2450</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьКомиссиюПриЗакупкахНеБазовая" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос("
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	1
	|ИЗ
	|	Документ.ПоступлениеТоваровУслуг КАК ПоступлениеТоваровУслуг
	|ГДЕ
	|	ПоступлениеТоваровУслуг.ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СКомитентом)
	|");

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>65</Код>
					<Наименование>--&gt; НеЗакрыватьЗаказыКлиентовБезПолнойОплаты</Наименование>
					<Порядок>2500</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="НеЗакрыватьЗаказыКлиентовБезПолнойОплаты" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос("
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	1
	|ИЗ
	|	Документ.ЗаказПокупателя КАК ЗаказПокупателя
	|");

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>66</Код>
					<Наименование>--&gt; НеЗакрыватьЗаказыКлиентовБезПолнойОтгрузки</Наименование>
					<Порядок>2550</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="НеЗакрыватьЗаказыКлиентовБезПолнойОтгрузки" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос("
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	1
	|ИЗ
	|	Документ.ЗаказПокупателя КАК ЗаказПокупателя
	|");

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>67</Код>
					<Наименование>--&gt; НеЗакрыватьЗаказыПоставщикамБезПолногоПоступления</Наименование>
					<Порядок>2600</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="НеЗакрыватьЗаказыПоставщикамБезПолногоПоступления" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос("
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	1
	|ИЗ
	|	Документ.ЗаказПоставщику КАК ЗаказПоставщику
	|");

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>68</Код>
					<Наименование>--&gt; НеЗакрыватьЗаказыПоставщикамБезПолнойОплаты</Наименование>
					<Порядок>2650</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="НеЗакрыватьЗаказыПоставщикамБезПолнойОплаты" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос("
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	1
	|ИЗ
	|	Документ.ЗаказПоставщику КАК ЗаказПоставщику
	|");

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>69</Код>
					<Наименование>--&gt; ИспользоватьДоговорыСПоставщиками</Наименование>
					<Порядок>2700</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьДоговорыСПоставщиками" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>70</Код>
					<Наименование>--&gt; ИспользоватьПричиныОтменыЗаказовКлиентов</Наименование>
					<Порядок>2750</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьПричиныОтменыЗаказовКлиентов" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос("
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	1
	|ИЗ
	|	Справочник.ПричиныЗакрытияЗаказов
	|");

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>71</Код>
					<Наименование>--&gt; ИспользоватьПричиныОтменыЗаказовПоставщикам</Наименование>
					<Порядок>2800</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьПричиныОтменыЗаказовПоставщикам" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос("
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	1
	|ИЗ
	|	Справочник.ПричиныЗакрытияЗаказов
	|");

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>72</Код>
					<Наименование>--&gt; ИспользоватьИмпортныеТовары</Наименование>
					<Порядок>2850</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьИмпортныеТовары" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос;
Запрос.Текст = "
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	1
	|ИЗ
	|	Справочник.НомераГТД КАК НомераГТД
	|ГДЕ
	|	НЕ НомераГТД.ПометкаУдаления";
	
Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>73</Код>
					<Наименование>--&gt; ИспользоватьКорректировкиПриобретений</Наименование>
					<Порядок>2900</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьКорректировкиПриобретений" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос;
Запрос.Текст = 
	"ВЫБРАТЬ ПЕРВЫЕ 1
	|	1
	|ИЗ
	|	Документ.КорректировкаПоступления КАК КорректировкаПоступления
	|ГДЕ
	|	КорректировкаПоступления.Проведен
	|	И КорректировкаПоступления.ВидОперации = ЗНАЧЕНИЕ(Перечисление.ВидыОперацийИсправленияПоступленияРеализации.СогласованноеИзменение)";

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>74</Код>
					<Наименование>--&gt; ИспользоватьКорректировкиРеализаций</Наименование>
					<Порядок>2950</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьКорректировкиРеализаций" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос;
Запрос.Текст = 
	"ВЫБРАТЬ ПЕРВЫЕ 1
	|	1
	|ИЗ
	|	Документ.КорректировкаРеализации КАК КорректировкаРеализации
	|ГДЕ
	|	КорректировкаРеализации.Проведен
	|	И КорректировкаРеализации.ВидОперации = ЗНАЧЕНИЕ(Перечисление.ВидыОперацийИсправленияПоступленияРеализации.СогласованноеИзменение)";

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>75</Код>
					<Наименование>--&gt; ВестиСведенияДляДекларацийАлкоВРознице</Наименование>
					<Порядок>3000</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ВестиСведенияДляДекларацийАлкоВРознице" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос;
Запрос.Текст = 
	"ВЫБРАТЬ ПЕРВЫЕ 1
	|	1
	|ИЗ
	|	РегистрСведений.СведенияОбАлкогольнойПродукции КАК СведенияОбАлкогольнойПродукции";
	
Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
				<Свойство>
					<Код>76</Код>
					<Наименование>--&gt; ИспользоватьПочтовыйКлиент</Наименование>
					<Порядок>3050</Порядок>
					<Источник Имя="" Вид=""/>
					<Приемник Имя="ИспользоватьПочтовыйКлиент" Вид="Реквизит" Тип="Булево"/>
					<ПередВыгрузкой>Запрос = Новый Запрос;
Запрос.Текст = 
	"ВЫБРАТЬ ПЕРВЫЕ 1
	|	1
	|ИЗ
	|	Документ.ЭлектронноеПисьмо КАК Письма
	|ГДЕ
	|	НЕ Письма.ПометкаУдаления";
	
Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
				</Свойство>
			</Свойства>
			<Значения/>
		</Правило>
		<Группа Отключить="false">
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>50</Порядок>
			<Правило>
				<Код>ЗаказКлиента</Код>
				<Наименование>ЗаказКлиента</Наименование>
				<Порядок>50</Порядок>
				<ПослеЗагрузки>Если Не ЗначениеЗаполнено(Объект.НалогообложениеНДС) Тогда
	ПараметрыЗаполнения = Документы.ЗаказКлиента.ПараметрыЗаполненияНалогообложенияНДСПродажи(Объект);
	УчетНДСУП.ЗаполнитьНалогообложениеНДСПродажи(Объект.НалогообложениеНДС, ПараметрыЗаполнения);
КонецЕсли;
Выполнить(Алгоритмы.УстановитьМенеджераВДокумент);

Если Объект.ПорядокРасчетов &lt;&gt; Перечисления.ПорядокРасчетов.ПоНакладным Тогда
	Объект.ИдентификаторПлатежа = ОбщегоНазначенияУТ.ПолучитьУникальныйИдентификаторПлатежа(Объект);
Иначе
	Объект.ИдентификаторПлатежа = Неопределено;	
КонецЕсли;

Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.ЗаказПокупателя</Источник>
				<Приемник>ДокументСсылка.ЗаказКлиента</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>6</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>37</Код>
						<Наименование>--&gt; ХозяйственнаяОперация</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
						<ПередВыгрузкой>Значение = "РеализацияКлиенту";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>35</Код>
						<Наименование>--&gt; Приоритет</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Приоритет" Вид="Реквизит" Тип="СправочникСсылка.Приоритеты"/>
						<КодПравилаКонвертации>ПриоритетыПоНаименованию</КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = "Средний";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>36</Код>
						<Наименование>--&gt; Статус</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Статус" Вид="Реквизит" Тип="ПеречислениеСсылка.СтатусыЗаказовКлиентов"/>
						<ПередВыгрузкой>Значение = "НеСогласован";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>18</Код>
						<Наименование>Контрагент --&gt; Партнер</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
						<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>19</Код>
						<Наименование>--&gt; Валюта</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = Источник.ДоговорКонтрагента.ВалютаВзаиморасчетов;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>34</Код>
						<Наименование>ДоговорКонтрагента --&gt; Соглашение</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<Приемник Имя="Соглашение" Вид="Реквизит" Тип="СправочникСсылка.СоглашенияСКлиентами"/>
						<КодПравилаКонвертации>ДоговорСПокупателемСоглашениеСКлиентом</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>38</Код>
						<Наименование>СкладГруппа --&gt; Склад</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="СкладГруппа" Вид="Реквизит"/>
						<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						<КодПравилаКонвертации>Склады</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>39</Код>
						<Наименование>СуммаВключаетНДС --&gt; ЦенаВключаетНДС</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>41</Код>
						<Наименование>ДатаОтгрузки --&gt; ЖелаемаяДатаОтгрузки</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="ДатаОтгрузки" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ЖелаемаяДатаОтгрузки" Вид="Реквизит" Тип=""/>
					</Свойство>
					<Свойство>
						<Код>27</Код>
						<Наименование>АдресДоставки --&gt; АдресДоставки</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="АдресДоставки" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="АдресДоставки" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Ответственный --&gt; Менеджер</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Менеджер" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Комментарий --&gt; ДополнительнаяИнформация</Наименование>
						<Порядок>850</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ДополнительнаяИнформация" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>40</Код>
						<Наименование>ДатаОплаты --&gt; ДатаОплаты</Наименование>
						<Порядок>900</Порядок>
						<Источник Имя="ДатаОплаты" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>ДатаОплаты</ИмяПараметраДляПередачи>
					</Свойство>
					<Свойство>
						<Код>42</Код>
						<Наименование>Грузоотправитель --&gt; Грузоотправитель</Наименование>
						<Порядок>950</Порядок>
						<Источник Имя="Грузоотправитель" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Грузоотправитель" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>43</Код>
						<Наименование>Грузополучатель --&gt; Грузополучатель</Наименование>
						<Порядок>1000</Порядок>
						<Источник Имя="Грузополучатель" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Грузополучатель" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>44</Код>
						<Наименование>Подразделение --&gt; Подразделение</Наименование>
						<Порядок>1050</Порядок>
						<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктураПредприятия"/>
						<КодПравилаКонвертации>Подразделения_СтруктураПредприятия</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>45</Код>
						<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
						<Порядок>1100</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип=""/>
					</Свойство>
					<Свойство>
						<Код>55</Код>
						<Наименование>--&gt; Согласован</Наименование>
						<Порядок>1150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Согласован" Вид="Реквизит" Тип="Булево"/>
						<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>54</Код>
						<Наименование>ДоговорКонтрагента --&gt; Договор</Наименование>
						<Порядок>1200</Порядок>
						<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<Приемник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<КодПравилаКонвертации>ДоговорыКонтрагентов</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>63</Код>
						<Наименование>--&gt; ГрафикОплаты</Наименование>
						<Порядок>1250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ГрафикОплаты" Вид="Реквизит" Тип="СправочникСсылка.ГрафикиОплаты"/>
						<КодПравилаКонвертации>ГрафикиОплатыПоУмолчаниюПредоплата</КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = "1";</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>46</Код>
						<Наименование>--&gt; Товары</Наименование>
						<Порядок>1350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений;

КоллекцияОбъектов.Колонки.Добавить("Количество");
КоллекцияОбъектов.Колонки.Добавить("Номенклатура");
КоллекцияОбъектов.Колонки.Добавить("СтавкаНДС");
КоллекцияОбъектов.Колонки.Добавить("Сумма");
КоллекцияОбъектов.Колонки.Добавить("СуммаНДС");
КоллекцияОбъектов.Колонки.Добавить("Цена");
КоллекцияОбъектов.Колонки.Добавить("КоличествоУпаковок");
КоллекцияОбъектов.Колонки.Добавить("Характеристика");
// КоллекцияОбъектов.Колонки.Добавить("ВариантОбеспечения");
// КоллекцияОбъектов.Колонки.Добавить("ДатаОтгрузки");
КоллекцияОбъектов.Колонки.Добавить("Серия");
// КоллекцияОбъектов.Колонки.Добавить("Склад");
// КоллекцияОбъектов.Колонки.Добавить("СтатусУказанияСерий");

Запрос = Новый Запрос;
Запрос.Текст = "
|ВЫБРАТЬ
|	ЗаказПокупателяТовары.ЕдиницаИзмерения,
|	ЗаказПокупателяТовары.Количество,
|	ЗаказПокупателяТовары.Количество КАК КоличествоУпаковок,
|	ЗаказПокупателяТовары.КоличествоМест,
|	ЗаказПокупателяТовары.Коэффициент,
|	ЗаказПокупателяТовары.СтавкаНДС,
|	ЗаказПокупателяТовары.Сумма,
|	ЗаказПокупателяТовары.СуммаНДС,
|	ЗаказПокупателяТовары.ХарактеристикаНоменклатуры КАК Характеристика,
|	ЗаказПокупателяТовары.Цена,
|	ЗаказПокупателяТовары.СерияНоменклатуры КАК Серия,
|	ЗаказПокупателяТовары.Номенклатура КАК Номенклатура,
|	NULL КАК Размещение
|ИЗ
|	Документ.ЗаказПокупателя.Товары КАК ЗаказПокупателяТовары
|ГДЕ ЗаказПокупателяТовары.Ссылка = &amp;Заказ ";
Запрос.УстановитьПараметр("Заказ", Источник.Ссылка);
//|
//|ОБЪЕДИНИТЬ ВСЕ
//|
//|ВЫБРАТЬ
//|	NULL,
//|	ЗаказПокупателяВозвратнаяТара.Количество,
//|	ЗаказПокупателяВозвратнаяТара.Количество,
//|	NULL,
//|	NULL,
//|	ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20),
//|	ЗаказПокупателяВозвратнаяТара.Сумма,
//|	0.20 * ЗаказПокупателяВозвратнаяТара.Сумма,
//|	NULL,
//|	ЗаказПокупателяВозвратнаяТара.Цена,
//|	NULL,
//|	ЗаказПокупателяВозвратнаяТара.Номенклатура,
//|	ЗаказПокупателяВозвратнаяТара.Размещение
//|ИЗ
//|	Документ.ЗаказПокупателя.ВозвратнаяТара КАК ЗаказПокупателяВозвратнаяТара
//|
//|ОБЪЕДИНИТЬ ВСЕ
//|
//|ВЫБРАТЬ
//|	NULL,
//|	ЗаказПокупателяУслуги.Количество,
//|	ЗаказПокупателяУслуги.Количество,
//|	NULL,
//|	NULL,
//|	ЗаказПокупателяУслуги.СтавкаНДС,
//|	ЗаказПокупателяУслуги.Сумма,
//|	ЗаказПокупателяУслуги.СуммаНДС,
//|	NULL,
//|	ЗаказПокупателяУслуги.Цена,
//|	NULL,
//|	ЗаказПокупателяУслуги.Номенклатура,
//|	NULL
//|ИЗ
//|	Документ.ЗаказПокупателя.Услуги КАК ЗаказПокупателяУслуги";

Выборка = Запрос.Выполнить().Выбрать();
Пока Выборка.Следующий() Цикл
	ЗаполнитьЗначенияСвойств(КоллекцияОбъектов.Добавить(), Выборка);
КонецЦикла;</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>47</Код>
							<Наименование> --&gt; Количество</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>48</Код>
							<Наименование> --&gt; Номенклатура</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>49</Код>
							<Наименование> --&gt; СтавкаНДС</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>Справочник_СтавкиНДС</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>50</Код>
							<Наименование>--&gt; Сумма</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
							<ПередВыгрузкой>Если Источник.СуммаВключаетНДС Тогда
	Значение = ОбъектКоллекции.Сумма - ОбъектКоллекции.СуммаНДС;
Иначе
	Значение = ОбъектКоллекции.Сумма;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>51</Код>
							<Наименование> --&gt; СуммаНДС</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип=""/>
						</Свойство>
						<Свойство>
							<Код>52</Код>
							<Наименование> --&gt; Цена</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Цена" Вид="Реквизит" Тип=""/>
						</Свойство>
						<Свойство>
							<Код>53</Код>
							<Наименование> --&gt; КоличествоУпаковок</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КоличествоУпаковок" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>56</Код>
							<Наименование>--&gt; Характеристика</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Характеристика" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
							<КодПравилаКонвертации>ХарактеристикиНоменклатуры</КодПравилаКонвертации>
							<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если Параметры.ИспользоватьХарактеристикиНоменклатуры
	И ОбъектКоллекции.Номенклатура.ВестиУчетПоХарактеристикам
	И НЕ ЗначениеЗаполнено(ОбъектКоллекции.Характеристика) Тогда
	ИсходящиеДанные.Вставить("Владелец", ОбъектКоллекции.Номенклатура);
	Значение = Новый Структура("Ссылка");
	ИмяПКО = "ПустаяХарактеристикаНоменклатуры";	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>57</Код>
							<Наименование>--&gt; ВариантОбеспечения</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВариантОбеспечения" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыОбеспечения"/>
							<ПередВыгрузкой>Значение = "Отгрузить";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>58</Код>
							<Наименование>--&gt; ДатаОтгрузки</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДатаОтгрузки" Вид="Реквизит" Тип="Дата"/>
							<ПередВыгрузкой>Значение = Источник.ДатаОтгрузки;
Если Не ЗначениеЗаполнено(Значение) Тогда
	Значение = Источник.Дата;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>59</Код>
							<Наименование>--&gt; Серия</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Серия" Вид="Реквизит" Тип="СправочникСсылка.СерииНоменклатуры"/>
							<КодПравилаКонвертации>СерииНоменклатуры</КодПравилаКонвертации>
							<ПередВыгрузкой>ИмяТЧ = "Товары";
Выполнить(Алгоритмы.СерияНоменклатурыВТЧ);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>60</Код>
							<Наименование>--&gt; Склад</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады</КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.СкладГруппа;
Если Значение = Неопределено Тогда
	Значение = Справочники.Склады.ПустаяСсылка();
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство Отключить="true">
							<Код>61</Код>
							<Наименование>--&gt; СтатусУказанияСерий</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтатусУказанияСерий" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>// Значение = Параметры.РежимВыгрузкиСерий;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>62</Код>
							<Наименование>--&gt; СуммаСНДС</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаСНДС" Вид="Реквизит" Тип=""/>
							<ПередВыгрузкой>Если Источник.СуммаВключаетНДС Тогда
	Значение = ОбъектКоллекции.Сумма;
Иначе
	Значение = ОбъектКоллекции.Сумма + ОбъектКоллекции.СуммаНДС;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
					</Группа>
					<Группа>
						<Код>64</Код>
						<Наименование>--&gt; ЭтапыГрафикаОплаты</Наименование>
						<Порядок>1400</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтапыГрафикаОплаты" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Добавить();</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>65</Код>
							<Наименование> --&gt; ВариантОплаты</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВариантОплаты" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыКонтроляОплатыКлиентом"/>
							<ПередВыгрузкой>Значение = "ПредоплатаДоОтгрузки";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>66</Код>
							<Наименование>--&gt; ДатаПлатежа</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДатаПлатежа" Вид="Реквизит" Тип="Дата"/>
							<ПередВыгрузкой>Значение = Источник.ДатаОтгрузки;
Если Не ЗначениеЗаполнено(Значение) Тогда
	Значение = Источник.Дата;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>67</Код>
							<Наименование>--&gt; СуммаПлатежа</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип=""/>
							<ПередВыгрузкой>Если Источник.СуммаВключаетНДС И Источник.УчитыватьНДС Тогда
	Значение = Источник.Товары.Итог("Сумма");
Иначе
	Значение = Источник.Товары.Итог("СуммаНДС") + Источник.Товары.Итог("Сумма");
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>68</Код>
							<Наименование>--&gt; ПроцентПлатежа</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПроцентПлатежа" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 100;</ПередВыгрузкой>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ЗаказПоставщику</Код>
				<Наименование>ЗаказПоставщику</Наименование>
				<Порядок>100</Порядок>
				<ПослеЗагрузки>Если Не ЗначениеЗаполнено(Объект.НалогообложениеНДС) Тогда
	ПараметрыЗаполнения = Документы.ЗаказПоставщику.ПараметрыЗаполненияНалогообложенияНДСЗакупки(Объект);
	УчетНДСУП.ЗаполнитьНалогообложениеНДСЗакупки(Объект.НалогообложениеНДС, ПараметрыЗаполнения);
КонецЕсли;
Выполнить(Алгоритмы.УстановитьМенеджераВДокумент);

Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.ЗаказПоставщику</Источник>
				<Приемник>ДокументСсылка.ЗаказПоставщику</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>6</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>7</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>--&gt; ХозяйственнаяОперация</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
						<ПередВыгрузкой>Значение = "ЗакупкаУПоставщика";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>--&gt; Приоритет</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Приоритет" Вид="Реквизит" Тип="СправочникСсылка.Приоритеты"/>
						<КодПравилаКонвертации>ПриоритетыПоНаименованию</КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = "Средний";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>--&gt; Статус</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Статус" Вид="Реквизит" Тип="ПеречислениеСсылка.СтатусыЗаказовПоставщикам"/>
						<ПередВыгрузкой>Значение = "НеСогласован";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Контрагент --&gt; Партнер</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
						<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>--&gt; Валюта</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = Источник.ДоговорКонтрагента.ВалютаВзаиморасчетов;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>ДоговорКонтрагента --&gt; Соглашение</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<Приемник Имя="Соглашение" Вид="Реквизит" Тип="СправочникСсылка.СоглашенияСПоставщиками"/>
						<КодПравилаКонвертации>ДоговорСПоставщикомСоглашениеСПоставщиком</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>Склад --&gt; Склад</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						<КодПравилаКонвертации>Склады</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>СуммаВключаетНДС --&gt; ЦенаВключаетНДС</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Ответственный --&gt; Менеджер</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Менеджер" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование>Комментарий --&gt; ДополнительнаяИнформация</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ДополнительнаяИнформация" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>25</Код>
						<Наименование>ДатаПоступления --&gt; ДатаПоступления</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="ДатаПоступления" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаПоступления" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>26</Код>
						<Наименование>Подразделение --&gt; Подразделение</Наименование>
						<Порядок>850</Порядок>
						<Источник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.Подразделения"/>
						<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктураПредприятия"/>
						<КодПравилаКонвертации>Подразделения_СтруктураПредприятия</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>27</Код>
						<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
						<Порядок>900</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип=""/>
					</Свойство>
					<Свойство>
						<Код>33</Код>
						<Наименование>Ответственный --&gt; Автор</Наименование>
						<Порядок>950</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>34</Код>
						<Наименование>ДоговорКонтрагента --&gt; Договор</Наименование>
						<Порядок>1000</Порядок>
						<Источник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<Приемник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
						<КодПравилаКонвертации>ДоговорыКонтрагентов</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>35</Код>
						<Наименование>--&gt; НалогообложениеНДС</Наименование>
						<Порядок>1050</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="НалогообложениеНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНалогообложенияНДС"/>
						<ПередВыгрузкой>Значение = "ПродажаОблагаетсяНДС";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>36</Код>
						<Наименование>--&gt; Согласован</Наименование>
						<Порядок>1100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Согласован" Вид="Реквизит" Тип="Булево"/>
						<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>39</Код>
						<Наименование>--&gt; ЗакупкаПодДеятельность</Наименование>
						<Порядок>1150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЗакупкаПодДеятельность" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНалогообложенияНДС"/>
						<ПередВыгрузкой>Значение = "ПродажаОблагаетсяНДС";</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>18</Код>
						<Наименование>--&gt; Товары</Наименование>
						<Порядок>1250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений;

КоллекцияОбъектов.Колонки.Добавить("Количество");
КоллекцияОбъектов.Колонки.Добавить("Номенклатура");
КоллекцияОбъектов.Колонки.Добавить("СтавкаНДС");
КоллекцияОбъектов.Колонки.Добавить("Сумма");
КоллекцияОбъектов.Колонки.Добавить("СуммаНДС");
КоллекцияОбъектов.Колонки.Добавить("Цена");
КоллекцияОбъектов.Колонки.Добавить("КоличествоУпаковок");
КоллекцияОбъектов.Колонки.Добавить("Характеристика");
// КоллекцияОбъектов.Колонки.Добавить("ВариантОбеспечения");
// КоллекцияОбъектов.Колонки.Добавить("ДатаОтгрузки");
КоллекцияОбъектов.Колонки.Добавить("Серия");
// КоллекцияОбъектов.Колонки.Добавить("Склад");
// КоллекцияОбъектов.Колонки.Добавить("СтатусУказанияСерий");

Запрос = Новый Запрос;
Запрос.Текст = "
|ВЫБРАТЬ
|	ЗаказТовары.ЕдиницаИзмерения,
|	ЗаказТовары.Количество,
|	ЗаказТовары.Количество КАК КоличествоУпаковок,
|	ЗаказТовары.КоличествоМест,
|	ЗаказТовары.Коэффициент,
|	ЗаказТовары.СтавкаНДС,
|	ЗаказТовары.Сумма,
|	ЗаказТовары.СуммаНДС,
|	ЗаказТовары.ХарактеристикаНоменклатуры КАК Характеристика,
|	ЗаказТовары.Цена,
|	ЗаказТовары.Номенклатура КАК Номенклатура
|ИЗ
|	Документ.ЗаказПоставщику.Товары КАК ЗаказТовары
|ГДЕ
|	ЗаказТовары.Ссылка = &amp;Заказ";
Запрос.УстановитьПараметр("Заказ", Источник.Ссылка);
//|
//|ОБЪЕДИНИТЬ ВСЕ
//|
//|ВЫБРАТЬ
//|	NULL,
//|	ЗаказПокупателяВозвратнаяТара.Количество,
//|	ЗаказПокупателяВозвратнаяТара.Количество,
//|	NULL,
//|	NULL,
//|	ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.НДС20),
//|	ЗаказПокупателяВозвратнаяТара.Сумма,
//|	0.20 * ЗаказПокупателяВозвратнаяТара.Сумма,
//|	NULL,
//|	ЗаказПокупателяВозвратнаяТара.Цена,
//|	NULL,
//|	ЗаказПокупателяВозвратнаяТара.Номенклатура,
//|	ЗаказПокупателяВозвратнаяТара.Размещение
//|ИЗ
//|	Документ.ЗаказПокупателя.ВозвратнаяТара КАК ЗаказПокупателяВозвратнаяТара
//|
//|ОБЪЕДИНИТЬ ВСЕ
//|
//|ВЫБРАТЬ
//|	NULL,
//|	ЗаказПокупателяУслуги.Количество,
//|	ЗаказПокупателяУслуги.Количество,
//|	NULL,
//|	NULL,
//|	ЗаказПокупателяУслуги.СтавкаНДС,
//|	ЗаказПокупателяУслуги.Сумма,
//|	ЗаказПокупателяУслуги.СуммаНДС,
//|	NULL,
//|	ЗаказПокупателяУслуги.Цена,
//|	NULL,
//|	ЗаказПокупателяУслуги.Номенклатура,
//|	NULL
//|ИЗ
//|	Документ.ЗаказПокупателя.Услуги КАК ЗаказПокупателяУслуги";

Выборка = Запрос.Выполнить().Выбрать();
Пока Выборка.Следующий() Цикл
	ЗаполнитьЗначенияСвойств(КоллекцияОбъектов.Добавить(), Выборка);
КонецЦикла;</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>19</Код>
							<Наименование> --&gt; Количество</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование> --&gt; Номенклатура</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование> --&gt; СтавкаНДС</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>Справочник_СтавкиНДС</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>--&gt; Сумма</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
							<ПередВыгрузкой>Если Источник.СуммаВключаетНДС Тогда
	Значение = ОбъектКоллекции.Сумма - ОбъектКоллекции.СуммаНДС;
Иначе
	Значение = ОбъектКоллекции.Сумма;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование> --&gt; СуммаНДС</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип=""/>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование> --&gt; Цена</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Цена" Вид="Реквизит" Тип=""/>
						</Свойство>
						<Свойство>
							<Код>28</Код>
							<Наименование>--&gt; КоличествоУпаковок</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КоличествоУпаковок" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = ОбъектКоллекции.Количество;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>29</Код>
							<Наименование>--&gt; Подразделение</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Подразделение" Вид="Реквизит" Тип="СправочникСсылка.СтруктураПредприятия"/>
							<КодПравилаКонвертации>Подразделения_СтруктураПредприятия</КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Подразделение;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>30</Код>
							<Наименование>--&gt; Склад</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады</КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Склад;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>31</Код>
							<Наименование>--&gt; СуммаСНДС</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаСНДС" Вид="Реквизит" Тип=""/>
							<ПередВыгрузкой>Если Источник.СуммаВключаетНДС Тогда
	Значение = ОбъектКоллекции.Сумма;
Иначе
	Значение = ОбъектКоллекции.Сумма + ОбъектКоллекции.СуммаНДС;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>32</Код>
							<Наименование>--&gt; Характеристика</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Характеристика" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
							<КодПравилаКонвертации>ХарактеристикиНоменклатуры</КодПравилаКонвертации>
							<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если Параметры.ИспользоватьХарактеристикиНоменклатуры
	И ОбъектКоллекции.Номенклатура.ВестиУчетПоХарактеристикам
	И НЕ ЗначениеЗаполнено(ОбъектКоллекции.Характеристика) Тогда
	ИсходящиеДанные.Вставить("Владелец", ОбъектКоллекции.Номенклатура);
	Значение = Новый Структура("Ссылка");
	ИмяПКО = "ПустаяХарактеристикаНоменклатуры";	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>37</Код>
							<Наименование>--&gt; ВидЦеныПоставщика</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидЦеныПоставщика" Вид="Реквизит" Тип="СправочникСсылка.ВидыЦенПоставщиков"/>
							<КодПравилаКонвертации>УсловияЦенПоставщиков</КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.ТипЦен;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>38</Код>
							<Наименование>--&gt; ДатаПоступления</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДатаПоступления" Вид="Реквизит" Тип="Дата"/>
							<ПередВыгрузкой>Значение = Источник.Дата;</ПередВыгрузкой>
						</Свойство>
					</Группа>
					<Группа>
						<Код>40</Код>
						<Наименование>--&gt; ЭтапыГрафикаОплаты</Наименование>
						<Порядок>1300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтапыГрафикаОплаты" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Добавить();</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>41</Код>
							<Наименование> --&gt; ВариантОплаты</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВариантОплаты" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыКонтроляОплатыПоставщику"/>
							<ПередВыгрузкой>Значение = "ПредоплатаДоПоступления";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>42</Код>
							<Наименование>--&gt; ДатаПлатежа</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДатаПлатежа" Вид="Реквизит" Тип="Дата"/>
							<ПередВыгрузкой>Значение = Источник.ДатаОплаты;
Если Не ЗначениеЗаполнено(Значение) Тогда
	Значение = Источник.Дата;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>43</Код>
							<Наименование>--&gt; ПроцентПлатежа</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПроцентПлатежа" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 100;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>44</Код>
							<Наименование>--&gt; СуммаПлатежа</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип=""/>
							<ПередВыгрузкой>Если Источник.СуммаВключаетНДС И Источник.УчитыватьНДС Тогда
	Значение = Источник.Товары.Итог("Сумма");
Иначе
	Значение = Источник.Товары.Итог("СуммаНДС") + Источник.Товары.Итог("Сумма");
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Группа Отключить="false">
				<Код>ВводОстатков</Код>
				<Наименование>ВводОстатков</Наименование>
				<Порядок>100</Порядок>
				<Правило>
					<Код>ПервичныйДокумент</Код>
					<Наименование>ПервичныйДокумент</Наименование>
					<Порядок>50</Порядок>
					<ПередВыгрузкой>ЗапоминатьВыгруженные = Истина;
КлючВыгружаемыхДанных = ЗначениеВСтрокуВнутр(Источник);</ПередВыгрузкой>
					<ПослеЗагрузки>Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
					<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
					<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
					<Приемник>ДокументСсылка.ПервичныйДокумент</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>12</Код>
							<Наименование>--&gt; ТипПервичногоДокумента</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипПервичногоДокумента" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыПервичныхДокументов"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>7</Код>
							<Наименование>--&gt; Организация</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>--&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Контрагент" Вид="Реквизит"/>
							<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>--&gt; Договор</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Договор" Вид="Реквизит"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование>--&gt; Валюта</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>--&gt; ДатаВходящегоДокумента</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДатаВходящегоДокумента" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>6</Код>
							<Наименование>--&gt; НомерВходящегоДокумента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>--&gt; Партнер</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
							<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Контрагент;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>--&gt; ПорядокРасчетов</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПорядокРасчетов" Вид="Реквизит" Тип="ПеречислениеСсылка.ПорядокРасчетов"/>
							<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.ПорядокРасчетов) Тогда
	Значение = Источник.ПорядокРасчетов;
ИначеЕсли ЗначениеЗаполнено(Источник.Договор) Тогда
	Значение = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Источник.Договор, "ВедениеВзаиморасчетов");
	ИмяПКО = "ВедениеВзаиморасчетовПоДоговорам_ПорядокРасчетов";
Иначе
	Значение = "ПоНакладным";
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>--&gt; СуммаДокумента</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; СуммаРегл</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>13</Код>
							<Наименование>--&gt; Дата</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<ПередВыгрузкой>Если НЕ ЗначениеЗаполнено(Источник.Дата) Тогда
	Если ЗначениеЗаполнено(Источник.ДатаВходящегоДокумента) Тогда
		Значение = Источник.ДатаВходящегоДокумента;
	Иначе
		Значение = Параметры.ДатаОстатков;
	КонецЕсли;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>14</Код>
							<Наименование>--&gt; Номер</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<ПередВыгрузкой>Если НЕ ЗначениеЗаполнено(Источник.Номер) Тогда
	Если ЗначениеЗаполнено(Источник.НомерВходящегоДокумента) Тогда
		Значение = Источник.НомерВходящегоДокумента;
	Иначе
		Отказ = Истина;
	КонецЕсли;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>--&gt; Комментарий</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Группа Отключить="false">
					<Код>ВзаиморасчетыСКлиентами</Код>
					<Наименование>ВзаиморасчетыСКлиентами</Наименование>
					<Порядок>150</Порядок>
					<Правило>
						<Код>ВводОстатковДолгиКлиентовПоДоговорам</Код>
						<Наименование>ВводОстатковДолгиКлиентовПоДоговорам</Наименование>
						<Порядок>50</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Объект.ОтражатьВОперативномУчете = Истина;
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковВзаиморасчетов</Приемник>
						<Свойства>
							<Свойство>
								<Код>20</Код>
								<Наименование> --&gt; Валюта</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
								<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковЗадолженностиКлиентов";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>13</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Долги клиентов по договорам";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование> --&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>5</Код>
								<Наименование> --&gt; РасчетыСПартнерами</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПартнерами" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>8</Код>
									<Наименование> --&gt; Партнер</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
									<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование> --&gt; Контрагент</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Контрагент" Вид="Реквизит"/>
									<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование> --&gt; ДатаРасчетногоДокумента</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаРасчетногоДокумента" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>9</Код>
									<Наименование> --&gt; НомерРасчетногоДокумента</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерРасчетногоДокумента" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>11</Код>
									<Наименование> --&gt; Сумма</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>10</Код>
									<Наименование> --&gt; ВалютаВзаиморасчетов</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование> --&gt; ДатаПлатежа</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаПлатежа" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование>--&gt; ОбъектРасчетов</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ОбъектРасчетов" Вид="Реквизит" Тип=""/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Порядок>500</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>17</Код>
									<Наименование>--&gt; СуммаУпр</Наименование>
									<Порядок>500</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаУпр" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>18</Код>
									<Наименование>--&gt; ДокументРасчетов</Наименование>
									<Порядок>550</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДокументРасчетов" Вид="Реквизит" Тип="ДокументСсылка.ПервичныйДокумент"/>
									<КодПравилаКонвертации>ПервичныйДокумент</КодПравилаКонвертации>
									<ПередВыгрузкой>ПервичныйДокумент = Неопределено;
Выполнить(Алгоритмы.ШаблонПервичногоДокумента);
ПервичныйДокумент.ТипПервичногоДокумента = "РеализацияКлиенту";

Выполнить(Алгоритмы.ЗаполнитьСтруктуруДанныхПервичногоДокумента);

Значение = ПервичныйДокумент;</ПередВыгрузкой>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковДолгиКлиентовПоЗаказам</Код>
						<Наименование>ВводОстатковДолгиКлиентовПоЗаказам</Наименование>
						<Порядок>100</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Для Каждого Строка Из Объект.РасчетыСПартнерами Цикл
	Если НЕ ЗначениеЗаполнено(Строка.НомерРасчетногоДокумента) Тогда
		Строка.НомерРасчетногоДокумента = Строка.ДокументРасчетов.Номер;
	КонецЕсли;
	РеквизитыОР = Новый Структура("Объект, Контрагент, Партнер, ТолькоОстатки, ПометкаУдаления", Строка.ОбъектРасчетов, Строка.Контрагент, Строка.Партнер, Истина, Ложь);
	РеквизитыОР.Вставить("Договор", Строка.ОбъектРасчетов);
	РеквизитыОР.Вставить("ВалютаВзаиморасчетов", Строка.ВалютаВзаиморасчетов);
	РеквизитыОР.Вставить("Сумма", Строка.Сумма);
	РеквизитыОР.Вставить("Организация", Объект.Организация);
	РеквизитыОР.Вставить("ТипРасчетов", Перечисления.ТипыРасчетовСПартнерами.РасчетыСКлиентом);

	Строка.ОбъектРасчетовОтправитель = ОбъектыРасчетовСервер.ПроверитьСоздатьОбъектРасчетов(РеквизитыОР);
КонецЦикла;
Объект.ОтражатьВОперативномУчете = Истина;
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковВзаиморасчетов</Приемник>
						<Свойства>
							<Свойство>
								<Код>23</Код>
								<Наименование> --&gt; Валюта</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковЗадолженностиКлиентов";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>13</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Долги клиентов по заказам";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование> --&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>5</Код>
								<Наименование> --&gt; РасчетыСПартнерами</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПартнерами" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>10</Код>
									<Наименование> --&gt; Партнер</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
									<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>8</Код>
									<Наименование> --&gt; Контрагент</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Контрагент" Вид="Реквизит"/>
									<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование> --&gt; Сумма</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование> --&gt; ВалютаВзаиморасчетов</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование> --&gt; ДатаПлатежа</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаПлатежа" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>20</Код>
									<Наименование>--&gt; СуммаУпр</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаУпр" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>17</Код>
									<Наименование>--&gt; ОбъектРасчетов</Наименование>
									<Порядок>500</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ОбъектРасчетов" Вид="Реквизит" Тип=""/>
									<КодПравилаКонвертации>ЗаказКлиента</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>18</Код>
									<Наименование>--&gt; ДатаРасчетногоДокумента</Наименование>
									<Порядок>550</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаРасчетногоДокумента" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>19</Код>
									<Наименование>--&gt; НомерРасчетногоДокумента</Наименование>
									<Порядок>600</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерРасчетногоДокумента" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>21</Код>
									<Наименование>--&gt; ДокументРасчетов</Наименование>
									<Порядок>650</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДокументРасчетов" Вид="Реквизит" Тип="ДокументСсылка.ПервичныйДокумент"/>
									<КодПравилаКонвертации>ПервичныйДокумент</КодПравилаКонвертации>
									<ПередВыгрузкой>ПервичныйДокумент = Неопределено;
Выполнить(Алгоритмы.ШаблонПервичногоДокумента);
ПервичныйДокумент.ТипПервичногоДокумента = "РеализацияКлиенту";

Выполнить(Алгоритмы.ЗаполнитьСтруктуруДанныхПервичногоДокумента);

Значение = ПервичныйДокумент;</ПередВыгрузкой>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковДолгиКлиентовПоРеализациям</Код>
						<Наименование>ВводОстатковДолгиКлиентовПоРеализациям</Наименование>
						<Порядок>150</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Объект.ОтражатьВОперативномУчете = Истина;
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковВзаиморасчетов</Приемник>
						<Свойства>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковЗадолженностиКлиентов";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>12</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Долги клиентов по реализациям";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование> --&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>5</Код>
								<Наименование> --&gt; РасчетыСПартнерами</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПартнерами" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>10</Код>
									<Наименование> --&gt; Партнер</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
									<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>8</Код>
									<Наименование> --&gt; Контрагент</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Контрагент" Вид="Реквизит"/>
									<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>11</Код>
									<Наименование>--&gt; Сумма</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование>--&gt; ВалютаВзаиморасчетов</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>14</Код>
									<Наименование>--&gt; ДатаПлатежа</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаПлатежа" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование>--&gt; СуммаУпр</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаУпр" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>18</Код>
									<Наименование>--&gt; ОбъектРасчетов</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ОбъектРасчетов" Вид="Реквизит" Тип=""/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>17</Код>
									<Наименование>--&gt; ДокументРасчетов</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДокументРасчетов" Вид="Реквизит" Тип="ДокументСсылка.ПервичныйДокумент"/>
									<ПередВыгрузкой>ПервичныйДокумент = Неопределено;
Выполнить(Алгоритмы.ШаблонПервичногоДокумента);
ПервичныйДокумент.ТипПервичногоДокумента = "РеализацияКлиенту";

Выполнить(Алгоритмы.ЗаполнитьСтруктуруДанныхПервичногоДокумента);

Значение = ПервичныйДокумент;</ПередВыгрузкой>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковДолгиКомиссионеровПоДоговорам</Код>
						<Наименование>ВводОстатковДолгиКомиссионеровПоДоговорам</Наименование>
						<Порядок>200</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Объект.ОтражатьВОперативномУчете = Истина;
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковВзаиморасчетов</Приемник>
						<Свойства>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковЗадолженностиКлиентов";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>13</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Долги комиссионеров за проданные товары по договорам";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование> --&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>4</Код>
								<Наименование> --&gt; РасчетыСПартнерами</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПартнерами" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>5</Код>
									<Наименование> --&gt; Партнер</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
									<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>8</Код>
									<Наименование> --&gt; Контрагент</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Контрагент" Вид="Реквизит"/>
									<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>11</Код>
									<Наименование> --&gt; ДатаРасчетногоДокумента</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаРасчетногоДокумента" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование> --&gt; НомерРасчетногоДокумента</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерРасчетногоДокумента" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>10</Код>
									<Наименование> --&gt; Сумма</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>9</Код>
									<Наименование> --&gt; ВалютаВзаиморасчетов</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование> --&gt; ДатаПлатежа</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаПлатежа" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование>--&gt; ОбъектРасчетов</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ОбъектРасчетов" Вид="Реквизит" Тип=""/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>17</Код>
									<Наименование>--&gt; СуммаУпр</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаУпр" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>18</Код>
									<Наименование>--&gt; ДокументРасчетов</Наименование>
									<Порядок>500</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДокументРасчетов" Вид="Реквизит" Тип="ДокументСсылка.ПервичныйДокумент"/>
									<КодПравилаКонвертации>ПервичныйДокумент</КодПравилаКонвертации>
									<ПередВыгрузкой>ПервичныйДокумент = Неопределено;
Выполнить(Алгоритмы.ШаблонПервичногоДокумента);
ПервичныйДокумент.ТипПервичногоДокумента = "РеализацияКлиенту";

Выполнить(Алгоритмы.ЗаполнитьСтруктуруДанныхПервичногоДокумента);

Значение = ПервичныйДокумент;</ПередВыгрузкой>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковДолгиКомиссионеровЗаПроданныеТовары</Код>
						<Наименование>ВводОстатковДолгиКомиссионеровЗаПроданныеТовары</Наименование>
						<Порядок>250</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Объект.ОтражатьВОперативномУчете = Истина;
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковВзаиморасчетов</Приемник>
						<Свойства>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковЗадолженностиКлиентов";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>12</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Долги комиссионеров за проданные товары";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование> --&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>4</Код>
								<Наименование> --&gt; РасчетыСПартнерами</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПартнерами" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>9</Код>
									<Наименование> --&gt; Партнер</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
									<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование> --&gt; Контрагент</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Контрагент" Вид="Реквизит"/>
									<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>10</Код>
									<Наименование>--&gt; Сумма</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>5</Код>
									<Наименование>--&gt; ВалютаВзаиморасчетов</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>14</Код>
									<Наименование>--&gt; ДатаПлатежа</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаПлатежа" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование>--&gt; СуммаУпр</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаУпр" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>17</Код>
									<Наименование>--&gt; ДатаРасчетногоДокумента</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаРасчетногоДокумента" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>19</Код>
									<Наименование>--&gt; НомерРасчетногоДокумента</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерРасчетногоДокумента" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>20</Код>
									<Наименование>--&gt; ОбъектРасчетов</Наименование>
									<Порядок>500</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ОбъектРасчетов" Вид="Реквизит" Тип=""/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>18</Код>
									<Наименование>--&gt; ДокументРасчетов</Наименование>
									<Порядок>550</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДокументРасчетов" Вид="Реквизит" Тип="ДокументСсылка.ПервичныйДокумент"/>
									<КодПравилаКонвертации>ПервичныйДокумент</КодПравилаКонвертации>
									<ПередВыгрузкой>ПервичныйДокумент = Неопределено;
Выполнить(Алгоритмы.ШаблонПервичногоДокумента);
ПервичныйДокумент.ТипПервичногоДокумента = "РеализацияКлиенту";

Выполнить(Алгоритмы.ЗаполнитьСтруктуруДанныхПервичногоДокумента);

Значение = ПервичныйДокумент;</ПередВыгрузкой>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковАвансыПоДоговорамПолученныеОтКлиентов</Код>
						<Наименование>ВводОстатковАвансыПоДоговорамПолученныеОтКлиентов</Наименование>
						<Порядок>300</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Объект.ОтражатьВОперативномУчете = Истина;
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковВзаиморасчетов</Приемник>
						<Свойства>
							<Свойство>
								<Код>19</Код>
								<Наименование> --&gt; Валюта</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
								<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковАвансовКлиентов";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>13</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Авансы по договорам, полученные от клиентов";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование> --&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>4</Код>
								<Наименование>--&gt; РасчетыСПартнерами</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПартнерами" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>10</Код>
									<Наименование> --&gt; Партнер</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
									<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>11</Код>
									<Наименование> --&gt; Контрагент</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Контрагент" Вид="Реквизит"/>
									<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>9</Код>
									<Наименование> --&gt; ДатаРасчетногоДокумента</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаРасчетногоДокумента" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>8</Код>
									<Наименование> --&gt; НомерРасчетногоДокумента</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерРасчетногоДокумента" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование> --&gt; Сумма</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>5</Код>
									<Наименование> --&gt; ВалютаВзаиморасчетов</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование>--&gt; ОбъектРасчетов</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ОбъектРасчетов" Вид="Реквизит" Тип=""/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование> --&gt; СуммаРегл</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование>--&gt; СуммаУпр</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаУпр" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>17</Код>
									<Наименование>--&gt; ДокументРасчетов</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДокументРасчетов" Вид="Реквизит" Тип="ДокументСсылка.ПервичныйДокумент"/>
									<КодПравилаКонвертации>ПервичныйДокумент</КодПравилаКонвертации>
									<ПередВыгрузкой>ПервичныйДокумент = Неопределено;
Выполнить(Алгоритмы.ШаблонПервичногоДокумента);
ПервичныйДокумент.ТипПервичногоДокумента = "ОплатаОтКлиента";

Выполнить(Алгоритмы.ЗаполнитьСтруктуруДанныхПервичногоДокумента);

Значение = ПервичныйДокумент;</ПередВыгрузкой>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковАвансыПоЗаказамПолученныеОтКлиентов</Код>
						<Наименование>ВводОстатковАвансыПоЗаказамПолученныеОтКлиентов</Наименование>
						<Порядок>350</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Для Каждого Строка Из Объект.РасчетыСПартнерами Цикл
	Если НЕ ЗначениеЗаполнено(Строка.НомерРасчетногоДокумента) Тогда
		Строка.НомерРасчетногоДокумента = Строка.ДокументРасчетов.Номер;
	КонецЕсли;
	РеквизитыОР = Новый Структура("Объект, Контрагент, Партнер, ТолькоОстатки, ПометкаУдаления", Строка.ОбъектРасчетов, Строка.Контрагент, Строка.Партнер, Истина, Ложь);
	РеквизитыОР.Вставить("Договор", Строка.ОбъектРасчетов);
	РеквизитыОР.Вставить("ВалютаВзаиморасчетов", Строка.ВалютаВзаиморасчетов);
	РеквизитыОР.Вставить("Сумма", Строка.Сумма);
	РеквизитыОР.Вставить("Организация", Объект.Организация);
	РеквизитыОР.Вставить("ТипРасчетов", Перечисления.ТипыРасчетовСПартнерами.РасчетыСКлиентом);

	Строка.ОбъектРасчетовОтправитель = ОбъектыРасчетовСервер.ПроверитьСоздатьОбъектРасчетов(РеквизитыОР);
КонецЦикла;
Объект.ОтражатьВОперативномУчете = Истина;
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковВзаиморасчетов</Приемник>
						<Свойства>
							<Свойство>
								<Код>19</Код>
								<Наименование> --&gt; Валюта</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
								<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковАвансовКлиентов";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>12</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Авансы по заказам, полученные от клиентов";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование> --&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>4</Код>
								<Наименование>--&gt; РасчетыСПартнерами</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПартнерами" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>9</Код>
									<Наименование> --&gt; Партнер</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
									<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование> --&gt; Контрагент</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Контрагент" Вид="Реквизит"/>
									<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование> --&gt; ДатаРасчетногоДокумента</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаРасчетногоДокумента" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>8</Код>
									<Наименование> --&gt; НомерРасчетногоДокумента</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерРасчетногоДокумента" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>10</Код>
									<Наименование> --&gt; Сумма</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>5</Код>
									<Наименование> --&gt; ВалютаВзаиморасчетов</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>14</Код>
									<Наименование>--&gt; ОбъектРасчетов</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ОбъектРасчетов" Вид="Реквизит" Тип=""/>
									<КодПравилаКонвертации>ЗаказКлиента</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование> --&gt; СуммаРегл</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование>--&gt; СуммаУпр</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаУпр" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>17</Код>
									<Наименование>--&gt; ДокументРасчетов</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДокументРасчетов" Вид="Реквизит" Тип="ДокументСсылка.ПервичныйДокумент"/>
									<КодПравилаКонвертации>ПервичныйДокумент</КодПравилаКонвертации>
									<ПередВыгрузкой>ПервичныйДокумент = Неопределено;
Выполнить(Алгоритмы.ШаблонПервичногоДокумента);
ПервичныйДокумент.ТипПервичногоДокумента = "ОплатаОтКлиента";

Выполнить(Алгоритмы.ЗаполнитьСтруктуруДанныхПервичногоДокумента);

Значение = ПервичныйДокумент;</ПередВыгрузкой>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковПрочиеАвансыПолученныеОтКлиентов</Код>
						<Наименование>ВводОстатковПрочиеАвансыПолученныеОтКлиентов</Наименование>
						<Порядок>400</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Объект.ОтражатьВОперативномУчете = Истина;
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковВзаиморасчетов</Приемник>
						<Свойства>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковАвансовКлиентов";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>10</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Прочие авансы, полученные от клиентов";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование> --&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>5</Код>
								<Наименование>--&gt; РасчетыСПартнерами</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПартнерами" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>8</Код>
									<Наименование> --&gt; Партнер</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
									<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование> --&gt; Контрагент</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Контрагент" Вид="Реквизит"/>
									<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>9</Код>
									<Наименование> --&gt; Сумма</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование> --&gt; ВалютаВзаиморасчетов</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>13</Код>
									<Наименование>--&gt; СуммаУпр</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаУпр" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование>--&gt; ОбъектРасчетов</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ОбъектРасчетов" Вид="Реквизит" Тип=""/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>14</Код>
									<Наименование>--&gt; ДокументРасчетов</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДокументРасчетов" Вид="Реквизит" Тип="ДокументСсылка.ПервичныйДокумент"/>
									<КодПравилаКонвертации>ПервичныйДокумент</КодПравилаКонвертации>
									<ПередВыгрузкой>ПервичныйДокумент = Неопределено;
Выполнить(Алгоритмы.ШаблонПервичногоДокумента);
ПервичныйДокумент.ТипПервичногоДокумента = "ОплатаОтКлиента";

Выполнить(Алгоритмы.ЗаполнитьСтруктуруДанныхПервичногоДокумента);

Значение = ПервичныйДокумент;</ПередВыгрузкой>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковПрочаяДебиторскаяЗадолженность</Код>
						<Наименование>ВводОстатковПрочаяДебиторскаяЗадолженность</Наименование>
						<Порядок>450</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Объект.ОтражатьВОперативномУчете = Истина;
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковВзаиморасчетов</Приемник>
						<Свойства>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковЗадолженностиКлиентов";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>10</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Прочая задолженность";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование> --&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>4</Код>
								<Наименование>--&gt; РасчетыСПартнерами</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПартнерами" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>8</Код>
									<Наименование> --&gt; Партнер</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
									<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>5</Код>
									<Наименование> --&gt; Контрагент</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Контрагент" Вид="Реквизит"/>
									<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование>--&gt; Сумма</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование>--&gt; ВалютаВзаиморасчетов</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование>--&gt; ДатаПлатежа</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаПлатежа" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>13</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>14</Код>
									<Наименование>--&gt; СуммаУпр</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаУпр" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование> --&gt; ОбъектРасчетов</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ОбъектРасчетов" Вид="Реквизит" Тип=""/>
									<ПередВыгрузкой>ПервичныйДокумент = Неопределено;
Выполнить(Алгоритмы.ШаблонПервичногоДокумента);
ПервичныйДокумент.ТипПервичногоДокумента = "РеализацияКлиенту";

Выполнить(Алгоритмы.ЗаполнитьСтруктуруДанныхПервичногоДокумента);

Значение = ПервичныйДокумент;
ИмяПКО = "ПервичныйДокумент";</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование>--&gt; ДокументРасчетов</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДокументРасчетов" Вид="Реквизит" Тип="ДокументСсылка.ПервичныйДокумент"/>
									<КодПравилаКонвертации>ПервичныйДокумент</КодПравилаКонвертации>
									<ПередВыгрузкой>ПервичныйДокумент = Неопределено;
Выполнить(Алгоритмы.ШаблонПервичногоДокумента);
ПервичныйДокумент.ТипПервичногоДокумента = "РеализацияКлиенту";

Выполнить(Алгоритмы.ЗаполнитьСтруктуруДанныхПервичногоДокумента);

Значение = ПервичныйДокумент;</ПередВыгрузкой>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
				<Группа Отключить="false">
					<Код>ВзаиморасчетыСПодотчетниками</Код>
					<Наименование>ВзаиморасчетыСПодотчетниками</Наименование>
					<Порядок>200</Порядок>
					<Правило>
						<Код>ВводОстатковДолгПодотчетников</Код>
						<Наименование>ВводОстатковДолгПодотчетников</Наименование>
						<Порядок>50</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковСПодотчетниками</Приемник>
						<Свойства>
							<Свойство>
								<Код>10</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование>--&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковЗадолженностиПодотчетников";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>11</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Долги подотчетников по наличным средствам";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование> --&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>4</Код>
								<Наименование> --&gt; РасчетыСПодотчетниками</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПодотчетниками" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>8</Код>
									<Наименование> --&gt; ПодотчетноеЛицо</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ПодотчетноеЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
									<КодПравилаКонвертации>ФизическиеЛица</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>9</Код>
									<Наименование> --&gt; Сумма</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>5</Код>
									<Наименование> --&gt; Валюта</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>13</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>14</Код>
									<Наименование>--&gt; СуммаУпр</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаУпр" Вид="Реквизит" Тип=""/>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковПерерасходПодотчетныхСредств</Код>
						<Наименование>ВводОстатковПерерасходПодотчетныхСредств</Наименование>
						<Порядок>150</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковСПодотчетниками</Приемник>
						<Свойства>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковПерерасходовПодотчетныхСредств";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>11</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Перерасход подотчетных средств";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование> --&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>5</Код>
								<Наименование> --&gt; РасчетыСПодотчетниками</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПодотчетниками" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>9</Код>
									<Наименование> --&gt; ПодотчетноеЛицо</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ПодотчетноеЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
									<КодПравилаКонвертации>ФизическиеЛица</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>10</Код>
									<Наименование> --&gt; Сумма</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование> --&gt; Валюта</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>13</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>14</Код>
									<Наименование>--&gt; СуммаУпр</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаУпр" Вид="Реквизит" Тип=""/>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
				<Группа Отключить="false">
					<Код>ВзаиморасчетыСПоставщиками</Код>
					<Наименование>ВзаиморасчетыСПоставщиками</Наименование>
					<Порядок>250</Порядок>
					<Правило>
						<Код>ВводОстатковДолгиПоставщикамПоДоговорам</Код>
						<Наименование>ВводОстатковДолгиПоставщикамПоДоговорам</Наименование>
						<Порядок>50</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковВзаиморасчетов</Приемник>
						<Свойства>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковЗадолженностиПоставщикам";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>13</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Долги поставщикам по договорам";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование> --&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>5</Код>
								<Наименование>--&gt; РасчетыСПартнерами</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПартнерами" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>11</Код>
									<Наименование> --&gt; Партнер</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
									<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование> --&gt; Контрагент</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Контрагент" Вид="Реквизит"/>
									<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>10</Код>
									<Наименование> --&gt; ДатаРасчетногоДокумента</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаРасчетногоДокумента" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>9</Код>
									<Наименование> --&gt; НомерРасчетногоДокумента</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерРасчетногоДокумента" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование> --&gt; Сумма</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>8</Код>
									<Наименование> --&gt; ВалютаВзаиморасчетов</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование> --&gt; ДатаПлатежа</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаПлатежа" Вид="Реквизит" Тип="Дата"/>
									<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование>--&gt; ОбъектРасчетов</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ОбъектРасчетов" Вид="Реквизит" Тип=""/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>17</Код>
									<Наименование>--&gt; СуммаУпр</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаУпр" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>18</Код>
									<Наименование>--&gt; ДокументРасчетов</Наименование>
									<Порядок>500</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДокументРасчетов" Вид="Реквизит" Тип="ДокументСсылка.ПервичныйДокумент"/>
									<КодПравилаКонвертации>ПервичныйДокумент</КодПравилаКонвертации>
									<ПередВыгрузкой>ПервичныйДокумент = Неопределено;
Выполнить(Алгоритмы.ШаблонПервичногоДокумента);
ПервичныйДокумент.ТипПервичногоДокумента = "ПриобретениеУПоставщика";

Выполнить(Алгоритмы.ЗаполнитьСтруктуруДанныхПервичногоДокумента);

Значение = ПервичныйДокумент;</ПередВыгрузкой>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковДолгиПоставщикамПоЗаказам</Код>
						<Наименование>ВводОстатковДолгиПоставщикамПоЗаказам</Наименование>
						<Порядок>100</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Для Каждого Строка Из Объект.РасчетыСПартнерами Цикл
	Если НЕ ЗначениеЗаполнено(Строка.НомерРасчетногоДокумента) Тогда
		Строка.НомерРасчетногоДокумента = Строка.ДокументРасчетов.Номер;
	КонецЕсли;
	РеквизитыОР = Новый Структура("Объект, Контрагент, Партнер, ТолькоОстатки, ПометкаУдаления", Строка.ОбъектРасчетов, Строка.Контрагент, Строка.Партнер, Истина, Ложь);
	РеквизитыОР.Вставить("Договор", Строка.ОбъектРасчетов);
	РеквизитыОР.Вставить("ВалютаВзаиморасчетов", Строка.ВалютаВзаиморасчетов);
	РеквизитыОР.Вставить("Сумма", Строка.Сумма);
	РеквизитыОР.Вставить("ТипРасчетов", Перечисления.ТипыРасчетовСПартнерами.РасчетыСПоставщиком);
	РеквизитыОР.Вставить("Организация", Объект.Организация);

	Строка.ОбъектРасчетовОтправитель = ОбъектыРасчетовСервер.ПроверитьСоздатьОбъектРасчетов(РеквизитыОР);

КонецЦикла;
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковВзаиморасчетов</Приемник>
						<Свойства>
							<Свойство>
								<Код>2</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>11</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковЗадолженностиПоставщикам";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>12</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Долги поставщикам по заказам";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование> --&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>4</Код>
								<Наименование>--&gt; РасчетыСПартнерами</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПартнерами" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>9</Код>
									<Наименование> --&gt; Партнер</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
									<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование> --&gt; Контрагент</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Контрагент" Вид="Реквизит"/>
									<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>10</Код>
									<Наименование> --&gt; Сумма</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>5</Код>
									<Наименование> --&gt; ВалютаВзаиморасчетов</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>14</Код>
									<Наименование> --&gt; ДатаПлатежа</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаПлатежа" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>19</Код>
									<Наименование>--&gt; СуммаУпр</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаУпр" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование>--&gt; ОбъектРасчетов</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ОбъектРасчетов" Вид="Реквизит" Тип=""/>
									<КодПравилаКонвертации>ЗаказПоставщику</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>17</Код>
									<Наименование>--&gt; ДатаРасчетногоДокумента</Наименование>
									<Порядок>500</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаРасчетногоДокумента" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>18</Код>
									<Наименование>--&gt; НомерРасчетногоДокумента</Наименование>
									<Порядок>550</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерРасчетногоДокумента" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>20</Код>
									<Наименование>--&gt; ДокументРасчетов</Наименование>
									<Порядок>600</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДокументРасчетов" Вид="Реквизит" Тип="ДокументСсылка.ПервичныйДокумент"/>
									<КодПравилаКонвертации>ПервичныйДокумент</КодПравилаКонвертации>
									<ПередВыгрузкой>ПервичныйДокумент = Неопределено;
Выполнить(Алгоритмы.ШаблонПервичногоДокумента);
ПервичныйДокумент.ТипПервичногоДокумента = "ПриобретениеУПоставщика";

Выполнить(Алгоритмы.ЗаполнитьСтруктуруДанныхПервичногоДокумента);

Значение = ПервичныйДокумент;</ПередВыгрузкой>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковДолгиПоставщикамПоПоступлениям</Код>
						<Наименование>ВводОстатковДолгиПоставщикамПоПоступлениям</Наименование>
						<Порядок>150</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковВзаиморасчетов</Приемник>
						<Свойства>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковЗадолженностиПоставщикам";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>12</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Долги поставщикам по поступлениям";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование> --&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>5</Код>
								<Наименование>--&gt; РасчетыСПартнерами</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПартнерами" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>10</Код>
									<Наименование> --&gt; Партнер</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
									<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>8</Код>
									<Наименование> --&gt; Контрагент</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Контрагент" Вид="Реквизит"/>
									<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>11</Код>
									<Наименование>--&gt; Сумма</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование>--&gt; ВалютаВзаиморасчетов</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>14</Код>
									<Наименование>--&gt; ДатаПлатежа</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаПлатежа" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование>--&gt; СуммаУпр</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаУпр" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>18</Код>
									<Наименование>--&gt; ОбъектРасчетов</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ОбъектРасчетов" Вид="Реквизит" Тип=""/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>17</Код>
									<Наименование>--&gt; ДокументРасчетов</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДокументРасчетов" Вид="Реквизит" Тип="ДокументСсылка.ПервичныйДокумент"/>
									<КодПравилаКонвертации>ПервичныйДокумент</КодПравилаКонвертации>
									<ПередВыгрузкой>ПервичныйДокумент = Неопределено;
Выполнить(Алгоритмы.ШаблонПервичногоДокумента);
ПервичныйДокумент.ТипПервичногоДокумента = "ПриобретениеУПоставщика";

Выполнить(Алгоритмы.ЗаполнитьСтруктуруДанныхПервичногоДокумента);

Значение = ПервичныйДокумент;</ПередВыгрузкой>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковДолгиКомитентамПоДоговорам</Код>
						<Наименование>ВводОстатковДолгиКомитентамПоДоговорам</Наименование>
						<Порядок>200</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковВзаиморасчетов</Приемник>
						<Свойства>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковЗадолженностиПоставщикам";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>13</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Долги комитентам за проданные товары по договорам";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование> --&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>5</Код>
								<Наименование>--&gt; РасчетыСПартнерами</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПартнерами" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>7</Код>
									<Наименование> --&gt; Партнер</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
									<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование> --&gt; Контрагент</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Контрагент" Вид="Реквизит"/>
									<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование> --&gt; ДатаРасчетногоДокумента</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаРасчетногоДокумента" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>8</Код>
									<Наименование> --&gt; НомерРасчетногоДокумента</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерРасчетногоДокумента" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>11</Код>
									<Наименование> --&gt; Сумма</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>10</Код>
									<Наименование> --&gt; ВалютаВзаиморасчетов</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>9</Код>
									<Наименование> --&gt; ДатаПлатежа</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаПлатежа" Вид="Реквизит" Тип="Дата"/>
									<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование>--&gt; ОбъектРасчетов</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ОбъектРасчетов" Вид="Реквизит" Тип=""/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>17</Код>
									<Наименование>--&gt; СуммаУпр</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаУпр" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>18</Код>
									<Наименование>--&gt; ДокументРасчетов</Наименование>
									<Порядок>500</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДокументРасчетов" Вид="Реквизит" Тип="ДокументСсылка.ПервичныйДокумент"/>
									<КодПравилаКонвертации>ПервичныйДокумент</КодПравилаКонвертации>
									<ПередВыгрузкой>ПервичныйДокумент = Неопределено;
Выполнить(Алгоритмы.ШаблонПервичногоДокумента);
ПервичныйДокумент.ТипПервичногоДокумента = "ПриобретениеУПоставщика";

Выполнить(Алгоритмы.ЗаполнитьСтруктуруДанныхПервичногоДокумента);

Значение = ПервичныйДокумент;</ПередВыгрузкой>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковДолгиКомитентамЗаПроданныеТовары</Код>
						<Наименование>ВводОстатковДолгиКомитентамЗаПроданныеТовары</Наименование>
						<Порядок>250</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковВзаиморасчетов</Приемник>
						<Свойства>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковЗадолженностиПоставщикам";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>12</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Долги комитентам за проданные товары";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование> --&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>5</Код>
								<Наименование>--&gt; РасчетыСПартнерами</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПартнерами" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>10</Код>
									<Наименование> --&gt; Партнер</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
									<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>8</Код>
									<Наименование> --&gt; Контрагент</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Контрагент" Вид="Реквизит"/>
									<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>11</Код>
									<Наименование>--&gt; Сумма</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование>--&gt; ВалютаВзаиморасчетов</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>14</Код>
									<Наименование>--&gt; ДатаПлатежа</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаПлатежа" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование>--&gt; СуммаУпр</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаУпр" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>18</Код>
									<Наименование>--&gt; ОбъектРасчетов</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ОбъектРасчетов" Вид="Реквизит" Тип=""/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>17</Код>
									<Наименование>--&gt; ДокументРасчетов</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДокументРасчетов" Вид="Реквизит" Тип="ДокументСсылка.ПервичныйДокумент"/>
									<КодПравилаКонвертации>ПервичныйДокумент</КодПравилаКонвертации>
									<ПередВыгрузкой>ПервичныйДокумент = Неопределено;
Выполнить(Алгоритмы.ШаблонПервичногоДокумента);
ПервичныйДокумент.ТипПервичногоДокумента = "ПриобретениеУПоставщика";

Выполнить(Алгоритмы.ЗаполнитьСтруктуруДанныхПервичногоДокумента);

Значение = ПервичныйДокумент;</ПередВыгрузкой>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковАвансыПоДоговорамУплаченныеПоставщикам</Код>
						<Наименование>ВводОстатковАвансыПоДоговорамУплаченныеПоставщикам</Наименование>
						<Порядок>300</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковВзаиморасчетов</Приемник>
						<Свойства>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковАвансовПоставщикам";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>13</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Авансы по договорам, уплаченные поставщикам";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование> --&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>5</Код>
								<Наименование>--&gt; РасчетыСПартнерами</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПартнерами" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>7</Код>
									<Наименование> --&gt; Партнер</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
									<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование> --&gt; Контрагент</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Контрагент" Вид="Реквизит"/>
									<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование> --&gt; ДатаРасчетногоДокумента</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаРасчетногоДокумента" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>11</Код>
									<Наименование> --&gt; НомерРасчетногоДокумента</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерРасчетногоДокумента" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>10</Код>
									<Наименование> --&gt; Сумма</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>9</Код>
									<Наименование> --&gt; ВалютаВзаиморасчетов</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>8</Код>
									<Наименование>--&gt; ОбъектРасчетов</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ОбъектРасчетов" Вид="Реквизит" Тип=""/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование> --&gt; СуммаРегл</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование>--&gt; СуммаУпр</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаУпр" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>17</Код>
									<Наименование>--&gt; ДокументРасчетов</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДокументРасчетов" Вид="Реквизит" Тип="ДокументСсылка.ПервичныйДокумент"/>
									<КодПравилаКонвертации>ПервичныйДокумент</КодПравилаКонвертации>
									<ПередВыгрузкой>ПервичныйДокумент = Неопределено;
Выполнить(Алгоритмы.ШаблонПервичногоДокумента);
ПервичныйДокумент.ТипПервичногоДокумента = "ОплатаПоставщику";

Выполнить(Алгоритмы.ЗаполнитьСтруктуруДанныхПервичногоДокумента);

Значение = ПервичныйДокумент;</ПередВыгрузкой>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковАвансыПоЗаказамУплаченныеПоставщикам</Код>
						<Наименование>ВводОстатковАвансыПоЗаказамУплаченныеПоставщикам</Наименование>
						<Порядок>350</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Для Каждого Строка Из Объект.РасчетыСПартнерами Цикл
	Если НЕ ЗначениеЗаполнено(Строка.НомерРасчетногоДокумента) Тогда
		Строка.НомерРасчетногоДокумента = Строка.ДокументРасчетов.Номер;
	КонецЕсли;
	РеквизитыОР = Новый Структура("Объект, Контрагент, Партнер, ТолькоОстатки, ПометкаУдаления", Строка.ОбъектРасчетов, Строка.Контрагент, Строка.Партнер, Истина, Ложь);
	РеквизитыОР.Вставить("Договор", Строка.ОбъектРасчетов);
	РеквизитыОР.Вставить("ВалютаВзаиморасчетов", Строка.ВалютаВзаиморасчетов);
	РеквизитыОР.Вставить("Сумма", Строка.Сумма);
	РеквизитыОР.Вставить("ТипРасчетов", Перечисления.ТипыРасчетовСПартнерами.РасчетыСПоставщиком);
	РеквизитыОР.Вставить("Организация", Объект.Организация);

	Строка.ОбъектРасчетовОтправитель = ОбъектыРасчетовСервер.ПроверитьСоздатьОбъектРасчетов(РеквизитыОР);

КонецЦикла;
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковВзаиморасчетов</Приемник>
						<Свойства>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковАвансовПоставщикам";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>12</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Авансы по заказам, уплаченные поставщикам";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование> --&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>5</Код>
								<Наименование>--&gt; РасчетыСПартнерами</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПартнерами" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>10</Код>
									<Наименование> --&gt; Партнер</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
									<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>8</Код>
									<Наименование> --&gt; Контрагент</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Контрагент" Вид="Реквизит"/>
									<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование> --&gt; ДатаРасчетногоДокумента</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаРасчетногоДокумента" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>9</Код>
									<Наименование> --&gt; НомерРасчетногоДокумента</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерРасчетногоДокумента" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>11</Код>
									<Наименование> --&gt; Сумма</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование> --&gt; ВалютаВзаиморасчетов</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>14</Код>
									<Наименование>--&gt; ОбъектРасчетов</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ОбъектРасчетов" Вид="Реквизит" Тип=""/>
									<КодПравилаКонвертации>ЗаказПоставщику</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование> --&gt; СуммаРегл</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование>--&gt; СуммаУпр</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаУпр" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>17</Код>
									<Наименование>--&gt; ДокументРасчетов</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДокументРасчетов" Вид="Реквизит" Тип="ДокументСсылка.ПервичныйДокумент"/>
									<КодПравилаКонвертации>ПервичныйДокумент</КодПравилаКонвертации>
									<ПередВыгрузкой>ПервичныйДокумент = Неопределено;
Выполнить(Алгоритмы.ШаблонПервичногоДокумента);
ПервичныйДокумент.ТипПервичногоДокумента = "ОплатаПоставщику";

Выполнить(Алгоритмы.ЗаполнитьСтруктуруДанныхПервичногоДокумента);

Значение = ПервичныйДокумент;</ПередВыгрузкой>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковПрочиеАвансыУплаченныеПоставщикам</Код>
						<Наименование>ВводОстатковПрочиеАвансыУплаченныеПоставщикам</Наименование>
						<Порядок>400</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковВзаиморасчетов</Приемник>
						<Свойства>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковАвансовПоставщикам";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>10</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Прочие авансы, уплаченные поставщикам";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование> --&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>5</Код>
								<Наименование>--&gt; РасчетыСПартнерами</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПартнерами" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>8</Код>
									<Наименование> --&gt; Партнер</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
									<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование> --&gt; Контрагент</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Контрагент" Вид="Реквизит"/>
									<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>9</Код>
									<Наименование> --&gt; Сумма</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование> --&gt; ВалютаВзаиморасчетов</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>13</Код>
									<Наименование>--&gt; СуммаУпр</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаУпр" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование>--&gt; ОбъектРасчетов</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ОбъектРасчетов" Вид="Реквизит" Тип=""/>
									<КодПравилаКонвертации>ДоговорыКонтрагентов</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>14</Код>
									<Наименование>--&gt; ДокументРасчетов</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДокументРасчетов" Вид="Реквизит" Тип="ДокументСсылка.ПервичныйДокумент"/>
									<КодПравилаКонвертации>ПервичныйДокумент</КодПравилаКонвертации>
									<ПередВыгрузкой>ПервичныйДокумент = Неопределено;
Выполнить(Алгоритмы.ШаблонПервичногоДокумента);
ПервичныйДокумент.ТипПервичногоДокумента = "ОплатаПоставщику";

Выполнить(Алгоритмы.ЗаполнитьСтруктуруДанныхПервичногоДокумента);

Значение = ПервичныйДокумент;</ПередВыгрузкой>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковПрочаяКредиторскаяЗадолженность</Код>
						<Наименование>ВводОстатковПрочаяКредиторскаяЗадолженность</Наименование>
						<Порядок>450</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковВзаиморасчетов</Приемник>
						<Свойства>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковЗадолженностиПоставщикам";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>10</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Прочая задолженность";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование> --&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>5</Код>
								<Наименование>--&gt; РасчетыСПартнерами</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РасчетыСПартнерами" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>9</Код>
									<Наименование> --&gt; Партнер</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
									<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>8</Код>
									<Наименование> --&gt; Контрагент</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Контрагент" Вид="Реквизит"/>
									<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование> --&gt; Сумма</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование> --&gt; ВалютаВзаиморасчетов</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
									<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование> --&gt; ДатаПлатежа</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДатаПлатежа" Вид="Реквизит" Тип="Дата"/>
								</Свойство>
								<Свойство>
									<Код>13</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>14</Код>
									<Наименование>--&gt; СуммаУпр</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаУпр" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование>--&gt; ОбъектРасчетов</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ОбъектРасчетов" Вид="Реквизит" Тип=""/>
									<ПередВыгрузкой>ПервичныйДокумент = Неопределено;
Выполнить(Алгоритмы.ШаблонПервичногоДокумента);
ПервичныйДокумент.ТипПервичногоДокумента = "ПриобретениеУПоставщика";

Выполнить(Алгоритмы.ЗаполнитьСтруктуруДанныхПервичногоДокумента);

Значение = ПервичныйДокумент;
ИмяПКО = "ПервичныйДокумент";</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование>--&gt; ДокументРасчетов</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДокументРасчетов" Вид="Реквизит" Тип="ДокументСсылка.ПервичныйДокумент"/>
									<КодПравилаКонвертации>ПервичныйДокумент</КодПравилаКонвертации>
									<ПередВыгрузкой>ПервичныйДокумент = Неопределено;
Выполнить(Алгоритмы.ШаблонПервичногоДокумента);
ПервичныйДокумент.ТипПервичногоДокумента = "ПриобретениеУПоставщика";

Выполнить(Алгоритмы.ЗаполнитьСтруктуруДанныхПервичногоДокумента);

Значение = ПервичныйДокумент;</ПередВыгрузкой>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
				<Группа Отключить="false">
					<Код>ОстаткиДенежныхСредств</Код>
					<Наименование>ОстаткиДенежныхСредств</Наименование>
					<Порядок>300</Порядок>
					<Правило>
						<Код>ВводОстатковДенежныеСредстваВКассах</Код>
						<Наименование>ВводОстатковДенежныеСредстваВКассах</Наименование>
						<Порядок>50</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Объект.Валюта = Константы.ВалютаРегламентированногоУчета.Получить();
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковДенежныхСредств</Приемник>
						<Свойства>
							<Свойство>
								<Код>4</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>3</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковВКассах";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Денежные средства в кассах";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование> --&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>6</Код>
								<Наименование> --&gt; Кассы</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Кассы" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>7</Код>
									<Наименование> --&gt; Касса</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Касса" Вид="Реквизит" Тип="СправочникСсылка.Кассы"/>
									<КодПравилаКонвертации>Кассы</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>8</Код>
									<Наименование> --&gt; Сумма</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>11</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование>--&gt; СуммаУпр</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаУпр" Вид="Реквизит" Тип=""/>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковДенежныхСредствНаБанковскихСчетах</Код>
						<Наименование>ВводОстатковДенежныхСредствНаБанковскихСчетах</Наименование>
						<Порядок>100</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Объект.Валюта = Константы.ВалютаРегламентированногоУчета.Получить();
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковДенежныхСредств</Приемник>
						<Свойства>
							<Свойство>
								<Код>4</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>3</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковНаБанковскихСчетах";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Денежные средства на банковских счетах";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование> --&gt; Проведен</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>5</Код>
								<Наименование> --&gt; БанковскиеСчета</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="БанковскиеСчета" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>6</Код>
									<Наименование> --&gt; БанковскийСчет</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="БанковскийСчет" Вид="Реквизит" Тип="СправочникСсылка.БанковскиеСчетаОрганизаций"/>
									<КодПравилаКонвертации>БанковскиеСчетаОрганизаций</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование> --&gt; Сумма</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>10</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>11</Код>
									<Наименование>--&gt; СуммаУпр</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаУпр" Вид="Реквизит" Тип=""/>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
				<Группа Отключить="false">
					<Код>ОстаткиТоваров</Код>
					<Наименование>ОстаткиТоваров</Наименование>
					<Порядок>350</Порядок>
					<Правило>
						<Код>ВводОстатковСобственныеТоварыНаСкладах</Код>
						<Наименование>ВводОстатковСобственныеТоварыНаСкладах</Наименование>
						<Порядок>50</Порядок>
						<ПослеЗагрузки>Если ПараметрыОбъекта &lt;&gt; Неопределено Тогда
	Если ПараметрыОбъекта["ПредъявленСчетФактура"] Тогда
		Элемент = Новый Структура("Объект,НомерСчетаФактуры,ДатаСчетаФактуры",
			Объект,ПараметрыОбъекта["НомерСчетаФактуры"],ПараметрыОбъекта["ДатаСчетаФактуры"]);
		Параметры.ВводОстатковСчетаФактуры.Добавить(Элемент);
	КонецЕсли;
КонецЕсли;

Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
ПараметрыЗаполнения = Документы.ЗаявкаНаВозвратТоваровОтКлиента.ПараметрыЗаполненияНалогообложенияНДСПродажи(Объект);
УчетНДСУП.ЗаполнитьНалогообложениеНДСПродажи(Объект.НалогообложениеНДС, ПараметрыЗаполнения);
ПараметрыЗаполнения = Документы.ВводОстатковТоваров.ИнициализироватьПараметрыВидовДеятельностиНДС(Объект);
УчетНДСУП.ЗаполнитьВидДеятельностиНДС(Объект.ВидДеятельностиНДС, ПараметрыЗаполнения);

Объект.ОтражатьСебестоимость = Истина;
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковТоваров</Приемник>
						<Свойства>
							<Свойство>
								<Код>16</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>44</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>45</Код>
								<Наименование> --&gt; Партия</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Партия" Вид="Реквизит" Тип="ДокументСсылка.ПервичныйДокумент"/>
								<КодПравилаКонвертации>ПервичныйДокумент</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>5</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковСобственныхТоваров";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>4</Код>
								<Наименование> --&gt; Склад</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
								<КодПравилаКонвертации>Склады</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>35</Код>
								<Наименование>--&gt; Партнер</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
								<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>33</Код>
								<Наименование>--&gt; Договор</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
								<КодПравилаКонвертации>ДоговорыКонтрагентов</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>39</Код>
								<Наименование>--&gt; Валюта</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
								<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>37</Код>
								<Наименование>--&gt; Контрагент</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>--&gt; Ответственный</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>--&gt; Комментарий</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>--&gt; Проведен</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>7</Код>
								<Наименование>--&gt; Товары</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>10</Код>
									<Наименование> --&gt; Номенклатура</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
									<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
									<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если ЗначениеЗаполнено(ОбъектКоллекции.Качество) И ОбъектКоллекции.Качество &lt;&gt; Справочники.Качество.Новый Тогда
	ИсходящиеДанные.Вставить("Качество", ОбъектКоллекции.Качество);
	ИмяПКО = "НекачественнаяНоменклатура";
КонецЕсли;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>14</Код>
									<Наименование>--&gt; Характеристика</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Характеристика" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
									<КодПравилаКонвертации>ХарактеристикиНоменклатуры</КодПравилаКонвертации>
									<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если Параметры.ИспользоватьХарактеристикиНоменклатуры
	И ОбъектКоллекции.Номенклатура.ВестиУчетПоХарактеристикам
	И НЕ ЗначениеЗаполнено(ОбъектКоллекции.Характеристика) Тогда
	ИсходящиеДанные.Вставить("Владелец", ОбъектКоллекции.Номенклатура);
	Значение = Новый Структура("Ссылка");
	ИмяПКО = "ПустаяХарактеристикаНоменклатуры";	
КонецЕсли;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>38</Код>
									<Наименование>--&gt; Серия</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Серия" Вид="Реквизит" Тип="СправочникСсылка.СерииНоменклатуры"/>
									<КодПравилаКонвертации>СерииНоменклатуры</КодПравилаКонвертации>
									<ПередВыгрузкой>ИмяТЧ = "Товары";
Выполнить(Алгоритмы.СерияНоменклатурыВТЧ);</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>8</Код>
									<Наименование>--&gt; Количество</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>26</Код>
									<Наименование>--&gt; КоличествоУпаковок</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КоличествоУпаковок" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование>--&gt; Цена</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Цена" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование>--&gt; Сумма</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>11</Код>
									<Наименование>--&gt; НомерГТД</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерГТД" Вид="Реквизит" Тип="СправочникСсылка.НомераГТД"/>
									<КодПравилаКонвертации>НомераГТД</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>27</Код>
									<Наименование>--&gt; НДСРегл</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НДСРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>28</Код>
									<Наименование>--&gt; СтавкаНДС</Наименование>
									<Порядок>500</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
									<КодПравилаКонвертации>Справочник_СтавкиНДС</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>29</Код>
									<Наименование>--&gt; СуммаБезНДС</Наименование>
									<Порядок>550</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаБезНДС" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>30</Код>
									<Наименование>--&gt; СуммаНДС</Наименование>
									<Порядок>600</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>31</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Порядок>650</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>40</Код>
									<Наименование>--&gt; СуммаСНДС</Наименование>
									<Порядок>700</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаСНДС" Вид="Реквизит" Тип=""/>
									<ПередВыгрузкой>Значение = 0;

Если ЗначениеЗаполнено(ОбъектКоллекции.Сумма) Тогда
	Значение = ОбъектКоллекции.Сумма;
КонецЕсли;

Если ЗначениеЗаполнено(ОбъектКоллекции.СуммаНДС) Тогда
	Значение = Значение + ОбъектКоллекции.СуммаНДС;
КонецЕсли;</ПередВыгрузкой>
								</Свойство>
							</Группа>
							<Группа>
								<Код>19</Код>
								<Наименование>--&gt; Серии</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Серии" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>22</Код>
									<Наименование> --&gt; Номенклатура</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
									<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
									<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если ЗначениеЗаполнено(ОбъектКоллекции.Качество) И ОбъектКоллекции.Качество &lt;&gt; Справочники.Качество.Новый Тогда
	ИсходящиеДанные.Вставить("Качество", ОбъектКоллекции.Качество);
	ИмяПКО = "НекачественнаяНоменклатура";
КонецЕсли;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>25</Код>
									<Наименование>--&gt; Характеристика</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Характеристика" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
									<КодПравилаКонвертации>ХарактеристикиНоменклатуры</КодПравилаКонвертации>
									<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если Параметры.ИспользоватьХарактеристикиНоменклатуры
	И ОбъектКоллекции.Номенклатура.ВестиУчетПоХарактеристикам
	И НЕ ЗначениеЗаполнено(ОбъектКоллекции.Характеристика) Тогда
	ИсходящиеДанные.Вставить("Владелец", ОбъектКоллекции.Номенклатура);
	Значение = Новый Структура("Ссылка");
	ИмяПКО = "ПустаяХарактеристикаНоменклатуры";	
КонецЕсли;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>23</Код>
									<Наименование>--&gt; Серия</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Серия" Вид="Реквизит" Тип="СправочникСсылка.СерииНоменклатуры"/>
									<КодПравилаКонвертации>СерииНоменклатуры</КодПравилаКонвертации>
									<ПередВыгрузкой>ИмяТЧ = "Серии";
Выполнить(Алгоритмы.СерияНоменклатурыВТЧ);</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>20</Код>
									<Наименование>--&gt; Количество</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>21</Код>
									<Наименование>--&gt; КоличествоУпаковок</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КоличествоУпаковок" Вид="Реквизит" Тип="Число"/>
								</Свойство>
							</Группа>
							<Свойство>
								<Код>41</Код>
								<Наименование>--&gt; ПредъявленСчетФактура</Наименование>
								<Порядок>900</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>ПредъявленСчетФактура</ИмяПараметраДляПередачи>
							</Свойство>
							<Свойство>
								<Код>42</Код>
								<Наименование>--&gt; НомерСчетаФактуры</Наименование>
								<Порядок>950</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>НомерСчетаФактуры</ИмяПараметраДляПередачи>
							</Свойство>
							<Свойство>
								<Код>43</Код>
								<Наименование>--&gt; ДатаСчетаФактуры</Наименование>
								<Порядок>1000</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="" Вид=""/>
								<ИмяПараметраДляПередачи>ДатаСчетаФактуры</ИмяПараметраДляПередачи>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковТоварыПринятыеНаКомиссию</Код>
						<Наименование>ВводОстатковТоварыПринятыеНаКомиссию</Наименование>
						<Порядок>100</Порядок>
						<ПослеЗагрузки>ПараметрыЗаполнения = Документы.ЗаявкаНаВозвратТоваровОтКлиента.ПараметрыЗаполненияНалогообложенияНДСПродажи(Объект);
УчетНДСУП.ЗаполнитьНалогообложениеНДСПродажи(Объект.НалогообложениеНДС, ПараметрыЗаполнения);

Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Объект.ОтражатьСебестоимость = Истина;
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковТоваров</Приемник>
						<Свойства>
							<Свойство>
								<Код>5</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>30</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>3</Код>
								<Наименование> --&gt; Склад</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
								<КодПравилаКонвертации>Склады</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>4</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковТоваровПолученныхНаКомиссию";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Товары, принятые на комиссию";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>--&gt; Валюта</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
								<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
								<ПередВыгрузкой>Значение = Константы.ВалютаУправленческогоУчета.Получить();</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>14</Код>
								<Наименование> --&gt; Партнер</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
								<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>15</Код>
								<Наименование> --&gt; СоглашениеСКомитентом</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СоглашениеСКомитентом" Вид="Реквизит" Тип="СправочникСсылка.СоглашенияСПоставщиками"/>
								<КодПравилаКонвертации>ДоговорСПоставщикомСоглашениеСКомитентом</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование>--&gt; Контрагент</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>28</Код>
								<Наименование>--&gt; Договор</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Договор" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
								<КодПравилаКонвертации>ДоговорыКонтрагентов</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>--&gt; Проведен</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>6</Код>
								<Наименование>--&gt; Товары</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>8</Код>
									<Наименование> --&gt; Номенклатура</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
									<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
									<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если ЗначениеЗаполнено(ОбъектКоллекции.Качество) И ОбъектКоллекции.Качество &lt;&gt; Справочники.Качество.Новый Тогда
	ИсходящиеДанные.Вставить("Качество", ОбъектКоллекции.Качество);
	ИмяПКО = "НекачественнаяНоменклатура";
КонецЕсли;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>11</Код>
									<Наименование> --&gt; Характеристика</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Характеристика" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
									<КодПравилаКонвертации>ХарактеристикиНоменклатуры</КодПравилаКонвертации>
									<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если Параметры.ИспользоватьХарактеристикиНоменклатуры
	И ОбъектКоллекции.Номенклатура.ВестиУчетПоХарактеристикам
	И НЕ ЗначениеЗаполнено(ОбъектКоллекции.Характеристика) Тогда
	ИсходящиеДанные.Вставить("Владелец", ОбъектКоллекции.Номенклатура);
	Значение = Новый Структура("Ссылка");
	ИмяПКО = "ПустаяХарактеристикаНоменклатуры";	
КонецЕсли;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>29</Код>
									<Наименование>--&gt; Серия</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Серия" Вид="Реквизит" Тип="СправочникСсылка.СерииНоменклатуры"/>
									<КодПравилаКонвертации>СерииНоменклатуры</КодПравилаКонвертации>
									<ПередВыгрузкой>ИмяТЧ = "Товары";
Выполнить(Алгоритмы.СерияНоменклатурыВТЧ);</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование>--&gt; Количество</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>26</Код>
									<Наименование>--&gt; КоличествоУпаковок</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КоличествоУпаковок" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>9</Код>
									<Наименование>--&gt; НомерГТД</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерГТД" Вид="Реквизит" Тип="СправочникСсылка.НомераГТД"/>
									<КодПравилаКонвертации>НомераГТД</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>25</Код>
									<Наименование> --&gt; СтавкаНДС</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
									<КодПравилаКонвертации>Справочник_СтавкиНДС</КодПравилаКонвертации>
								</Свойство>
							</Группа>
							<Группа>
								<Код>18</Код>
								<Наименование>--&gt; Серии</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Серии" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>21</Код>
									<Наименование> --&gt; Номенклатура</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
									<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
									<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если ЗначениеЗаполнено(ОбъектКоллекции.Качество) И ОбъектКоллекции.Качество &lt;&gt; Справочники.Качество.Новый Тогда
	ИсходящиеДанные.Вставить("Качество", ОбъектКоллекции.Качество);
	ИмяПКО = "НекачественнаяНоменклатура";
КонецЕсли;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>24</Код>
									<Наименование> --&gt; Характеристика</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Характеристика" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
									<КодПравилаКонвертации>ХарактеристикиНоменклатуры</КодПравилаКонвертации>
									<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если Параметры.ИспользоватьХарактеристикиНоменклатуры
	И ОбъектКоллекции.Номенклатура.ВестиУчетПоХарактеристикам
	И НЕ ЗначениеЗаполнено(ОбъектКоллекции.Характеристика) Тогда
	ИсходящиеДанные.Вставить("Владелец", ОбъектКоллекции.Номенклатура);
	Значение = Новый Структура("Ссылка");
	ИмяПКО = "ПустаяХарактеристикаНоменклатуры";	
КонецЕсли;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>22</Код>
									<Наименование>--&gt; Серия</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Серия" Вид="Реквизит" Тип="СправочникСсылка.СерииНоменклатуры"/>
									<КодПравилаКонвертации>СерииНоменклатуры</КодПравилаКонвертации>
									<ПередВыгрузкой>ИмяТЧ = "Серии";
Выполнить(Алгоритмы.СерияНоменклатурыВТЧ);</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>19</Код>
									<Наименование>--&gt; Количество</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>20</Код>
									<Наименование>--&gt; КоличествоУпаковок</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КоличествоУпаковок" Вид="Реквизит" Тип="Число"/>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковТоварыПереданныеНаКомиссию</Код>
						<Наименование>ВводОстатковТоварыПереданныеНаКомиссию</Наименование>
						<Порядок>150</Порядок>
						<ПослеЗагрузки>ПараметрыЗаполнения = Документы.ЗаявкаНаВозвратТоваровОтКлиента.ПараметрыЗаполненияНалогообложенияНДСПродажи(Объект);
УчетНДСУП.ЗаполнитьНалогообложениеНДСПродажи(Объект.НалогообложениеНДС, ПараметрыЗаполнения);
Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Объект.ОтражатьСебестоимость = Истина;
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковТоваров</Приемник>
						<Свойства>
							<Свойство>
								<Код>6</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>26</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>4</Код>
								<Наименование> --&gt; СоглашениеСКомиссионером</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СоглашениеСКомиссионером" Вид="Реквизит" Тип="СправочникСсылка.СоглашенияСКлиентами"/>
								<КодПравилаКонвертации>ДоговорСПокупателемСоглашениеСКомиссионером</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>3</Код>
								<Наименование> --&gt; Партнер</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
								<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>5</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковТоваровПереданныхНаКомиссию";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>1</Код>
								<Наименование> --&gt; Валюта</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
								<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>17</Код>
								<Наименование> --&gt; Комментарий</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Товары, переданные на комиссию";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование> --&gt; Проведен</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>8</Код>
								<Наименование>--&gt; Товары</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>11</Код>
									<Наименование> --&gt; Номенклатура</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
									<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование> --&gt; Характеристика</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Характеристика" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
									<КодПравилаКонвертации>ХарактеристикиНоменклатуры</КодПравилаКонвертации>
									<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если Параметры.ИспользоватьХарактеристикиНоменклатуры
	И ОбъектКоллекции.Номенклатура.ВестиУчетПоХарактеристикам
	И НЕ ЗначениеЗаполнено(ОбъектКоллекции.Характеристика) Тогда
	ИсходящиеДанные.Вставить("Владелец", ОбъектКоллекции.Номенклатура);
	Значение = Новый Структура("Ссылка");
	ИмяПКО = "ПустаяХарактеристикаНоменклатуры";	
КонецЕсли;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>9</Код>
									<Наименование>--&gt; Количество</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>19</Код>
									<Наименование>--&gt; КоличествоУпаковок</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КоличествоУпаковок" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>13</Код>
									<Наименование>--&gt; Сумма</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование>--&gt; Цена</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Цена" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование>--&gt; НомерГТД</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерГТД" Вид="Реквизит" Тип="СправочникСсылка.НомераГТД"/>
									<КодПравилаКонвертации>НомераГТД</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>20</Код>
									<Наименование>--&gt; НДСРегл</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НДСРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>21</Код>
									<Наименование> --&gt; СтавкаНДС</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
									<КодПравилаКонвертации>Справочник_СтавкиНДС</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>22</Код>
									<Наименование>--&gt; СуммаБезНДС</Наименование>
									<Порядок>500</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаБезНДС" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>23</Код>
									<Наименование>--&gt; СуммаНДС</Наименование>
									<Порядок>550</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>24</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Порядок>600</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>25</Код>
									<Наименование>--&gt; СуммаСНДС</Наименование>
									<Порядок>650</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаСНДС" Вид="Реквизит" Тип=""/>
									<ПередВыгрузкой>Значение = ОбъектКоллекции.Сумма + ОбъектКоллекции.СуммаНДС;</ПередВыгрузкой>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковВозвратнаяТараПереданная</Код>
						<Наименование>ВводОстатковВозвратнаяТараПереданная</Наименование>
						<Порядок>200</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Объект.НалогообложениеНДС = УчетНДСУП.ПараметрыУчетаПоОрганизации(Объект.Организация, ТекущаяДата(), Неопределено).ОсновноеНалогообложениеНДСПродажи;
Объект.Валюта = Константы.ВалютаУправленческогоУчета.Получить();
Объект.ОтражатьСебестоимость = Истина;
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковТоваров</Приемник>
						<Свойства>
							<Свойство>
								<Код>8</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>11</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>12</Код>
								<Наименование> --&gt; Партнер</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
								<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>13</Код>
								<Наименование>--&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковВозвратнойТарыПереданнойКлиентам";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>14</Код>
								<Наименование>--&gt; Комментарий</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Возвратная тара, переданная клиенту";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>--&gt; Валюта</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>--&gt; Проведен</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>1</Код>
								<Наименование>--&gt; Товары</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>2</Код>
									<Наименование> --&gt; Количество</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование>--&gt; КоличествоУпаковок</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КоличествоУпаковок" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>3</Код>
									<Наименование>--&gt; Номенклатура</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
									<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>4</Код>
									<Наименование>--&gt; Характеристика</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Характеристика" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
									<КодПравилаКонвертации>ПустаяХарактеристикаНоменклатуры</КодПравилаКонвертации>
									<ПередВыгрузкой>Если Параметры.ИспользоватьХарактеристикиНоменклатуры
	И ОбъектКоллекции.Номенклатура.ВестиУчетПоХарактеристикам Тогда
	ИсходящиеДанные = Новый Структура;
	ИсходящиеДанные.Вставить("Владелец", ОбъектКоллекции.Номенклатура);
	Значение = Новый Структура("Ссылка");
	ИмяПКО = "ПустаяХарактеристикаНоменклатуры";
Иначе
	Пусто = Истина;
КонецЕсли;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>5</Код>
									<Наименование>--&gt; Сумма</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование>--&gt; Цена</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Цена" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование>--&gt; СтавкаНДС</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
									<КодПравилаКонвертации>Справочник_СтавкиНДС</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>17</Код>
									<Наименование>--&gt; СуммаБезНДС</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаБезНДС" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>19</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Порядок>500</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>20</Код>
									<Наименование>--&gt; СуммаСНДС</Наименование>
									<Порядок>550</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаСНДС" Вид="Реквизит" Тип=""/>
									<ПередВыгрузкой>Значение = 2 * ОбъектКоллекции.Сумма - ОбъектКоллекции.СуммаБезНДС;</ПередВыгрузкой>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ВводОстатковВозвратнаяТараПринятая</Код>
						<Наименование>ВводОстатковВозвратнаяТараПринятая</Наименование>
						<Порядок>200</Порядок>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
ПараметрыЗаполнения = Документы.ЗаявкаНаВозвратТоваровОтКлиента.ПараметрыЗаполненияНалогообложенияНДСПродажи(Объект);
УчетНДСУП.ЗаполнитьНалогообложениеНДСПродажи(Объект.НалогообложениеНДС, ПараметрыЗаполнения);

Объект.ВидДеятельностиНДС = Перечисления.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС;
Объект.Валюта = Константы.ВалютаУправленческогоУчета.Получить();
Объект.ОтражатьСебестоимость = Истина;
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>ДокументСсылка.ВводОстатковТоваров</Приемник>
						<Свойства>
							<Свойство>
								<Код>8</Код>
								<Наименование> --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
								<ПередВыгрузкой>Значение = КонецДня(Параметры.ДатаОстатков);</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование> --&gt; ОтражатьВОперативномУчете</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ОтражатьВОперативномУчете" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование> --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>11</Код>
								<Наименование> --&gt; Организация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>12</Код>
								<Наименование> --&gt; Партнер</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
								<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>15</Код>
								<Наименование> --&gt; Склад</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>13</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ВводОстатковВозвратнойТарыПринятойОтПоставщиков";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>14</Код>
								<Наименование>--&gt; Комментарий</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Возвратная тара, полученная от поставщика";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>--&gt; Контрагент</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>--&gt; Валюта</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>--&gt; Проведен</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>1</Код>
								<Наименование>--&gt; Товары</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
								<Свойство>
									<Код>2</Код>
									<Наименование> --&gt; Количество</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>7</Код>
									<Наименование>--&gt; КоличествоУпаковок</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="КоличествоУпаковок" Вид="Реквизит" Тип="Число"/>
								</Свойство>
								<Свойство>
									<Код>3</Код>
									<Наименование>--&gt; Номенклатура</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
									<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>4</Код>
									<Наименование>--&gt; Характеристика</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Характеристика" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
									<КодПравилаКонвертации>ХарактеристикиНоменклатуры</КодПравилаКонвертации>
									<ПередВыгрузкой>Если Параметры.ИспользоватьХарактеристикиНоменклатуры
	И ОбъектКоллекции.Номенклатура.ВестиУчетПоХарактеристикам Тогда
	ИсходящиеДанные = Новый Структура;
	ИсходящиеДанные.Вставить("Владелец", ОбъектКоллекции.Номенклатура);
	Значение = Новый Структура("Ссылка");
	ИмяПКО = "ПустаяХарактеристикаНоменклатуры";
Иначе
	Пусто = Истина;
КонецЕсли;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>5</Код>
									<Наименование>--&gt; Сумма</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Сумма" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>6</Код>
									<Наименование>--&gt; Цена</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Цена" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>17</Код>
									<Наименование> --&gt; СтавкаНДС</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
									<КодПравилаКонвертации>Справочник_СтавкиНДС</КодПравилаКонвертации>
								</Свойство>
								<Свойство>
									<Код>18</Код>
									<Наименование>--&gt; СуммаБезНДС</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаБезНДС" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>19</Код>
									<Наименование>--&gt; СуммаРегл</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаРегл" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>21</Код>
									<Наименование>--&gt; СуммаСНДС</Наименование>
									<Порядок>500</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="СуммаСНДС" Вид="Реквизит" Тип=""/>
									<ПередВыгрузкой>Значение = 2 * ОбъектКоллекции.Сумма - ОбъектКоллекции.СуммаБезНДС;</ПередВыгрузкой>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
			</Группа>
			<Группа Отключить="false">
				<Код>ЦеныНоменклатуры</Код>
				<Наименование>ЦеныНоменклатуры</Наименование>
				<Порядок>400</Порядок>
				<Правило>
					<Код>УстановкаЦенНоменклатуры</Код>
					<Наименование>УстановкаЦенНоменклатуры</Наименование>
					<Порядок>50</Порядок>
					<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);

Если Объект.Проведен Тогда
	Параметры.ДокументыДляПроведения.Добавить(Объект);
	Объект.Проведен = Ложь;
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
					<Источник>ДокументСсылка.УстановкаЦенНоменклатуры</Источник>
					<Приемник>ДокументСсылка.УстановкаЦенНоменклатуры</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Дата --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Номер --&gt; Номер</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Ответственный --&gt; Ответственный</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Проведен --&gt; Проведен</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование> --&gt; Статус</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Статус" Вид="Реквизит" Тип="ПеречислениеСсылка.СтатусыУстановокЦенНоменклатуры"/>
							<ПередВыгрузкой>Значение = "Согласован";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование> --&gt; Согласован</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Согласован" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>7</Код>
							<Наименование>--&gt; Товары</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	Док.ТипЦен КАК ВидЦены,
	|	Док.Номенклатура КАК Номенклатура,
	|	Док.ХарактеристикаНоменклатуры КАК Характеристика,
	|	МАКСИМУМ(ВЫРАЗИТЬ(Док.Цена * ВЫБОР
	|				КОГДА Док.ТипЦен.ВалютаЦены &lt;&gt; Док.Валюта
	|					ТОГДА ВЫБОР
	|							КОГДА ЕСТЬNULL(КурсыСрезПоследнихВалютаЦены.Кратность, 0) &gt; 0
	|									И ЕСТЬNULL(КурсыСрезПоследнихВалютаЦены.Курс, 0) &gt; 0
	|									И ЕСТЬNULL(КурсыСрезПоследнихВалютаДокумента.Кратность, 0) &gt; 0
	|									И ЕСТЬNULL(КурсыСрезПоследнихВалютаДокумента.Курс, 0) &gt; 0
	|								ТОГДА КурсыСрезПоследнихВалютаЦены.Курс * КурсыСрезПоследнихВалютаДокумента.Кратность / (КурсыСрезПоследнихВалютаДокумента.Курс * КурсыСрезПоследнихВалютаЦены.Кратность)
	|							ИНАЧЕ 0
	|						КОНЕЦ
	|				ИНАЧЕ 1
	|			КОНЕЦ КАК ЧИСЛО(10, 2))) КАК Цена,
	|	МАКСИМУМ(ЕСТЬNULL(Док.ЕдиницаИзмерения, 0)) КАК Упаковка
	|ИЗ
	|	Документ.УстановкаЦенНоменклатуры.Товары КАК Док
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаДокумента, ) КАК КурсыСрезПоследнихВалютаЦены
	|		ПО (КурсыСрезПоследнихВалютаЦены.Валюта = Док.Валюта)
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаДокумента, ) КАК КурсыСрезПоследнихВалютаДокумента
	|		ПО (КурсыСрезПоследнихВалютаДокумента.Валюта = Док.ТипЦен.ВалютаЦены)
	|ГДЕ
	|	Док.Ссылка = &amp;Док
	|	И (Док.Номенклатура.ВидНоменклатуры.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)
	|			ИЛИ Док.Номенклатура.ВидНоменклатуры.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Услуга))
	|
	|СГРУППИРОВАТЬ ПО
	|	Док.ТипЦен,
	|	Док.Номенклатура,
	|	Док.ХарактеристикаНоменклатуры
	|
	|УПОРЯДОЧИТЬ ПО
	|	Номенклатура,
	|	Характеристика,
	|	ВидЦены");


Запрос.УстановитьПараметр("Док",  Источник);
Запрос.УстановитьПараметр("ДатаДокумента", Источник.Дата);

КоллекцияОбъектов = Запрос.Выполнить().Выгрузить();</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>8</Код>
								<Наименование>--&gt; Номенклатура</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>--&gt; Характеристика</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Характеристика" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
								<КодПравилаКонвертации>ХарактеристикиНоменклатуры</КодПравилаКонвертации>
								<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если Параметры.ИспользоватьХарактеристикиНоменклатуры
	И ОбъектКоллекции.Номенклатура.ВестиУчетПоХарактеристикам
	И НЕ ЗначениеЗаполнено(ОбъектКоллекции.Характеристика) Тогда
	ИсходящиеДанные.Вставить("Владелец", ОбъектКоллекции.Номенклатура);
	Значение = Новый Структура("Ссылка");
	ИмяПКО = "ПустаяХарактеристикаНоменклатуры";
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>--&gt; Упаковка</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Упаковка" Вид="Реквизит" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
								<КодПравилаКонвертации>ЕдиницыИзмерения_Упаковки</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>--&gt; ВидЦены</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидЦены" Вид="Реквизит" Тип="СправочникСсылка.ВидыЦен"/>
								<КодПравилаКонвертации>ТипыЦенНоменклатуры_ВидыЦен</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>--&gt; Цена</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип=""/>
							</Свойство>
						</Группа>
						<Группа>
							<Код>13</Код>
							<Наименование>ТипыЦен --&gt; ВидыЦен</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ТипыЦен" Вид="ТабличнаяЧасть"/>
							<Приемник Имя="ВидыЦен" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>14</Код>
								<Наименование>ТипЦен --&gt; ВидЦены</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="ТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
								<Приемник Имя="ВидЦены" Вид="Реквизит" Тип="СправочникСсылка.ВидыЦен"/>
								<КодПравилаКонвертации>ТипыЦенНоменклатуры_ВидыЦен</КодПравилаКонвертации>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>РегистрацияПоследнихЦенНоменклатуры</Код>
					<Наименование>РегистрацияПоследнихЦенНоменклатуры</Наименование>
					<Порядок>100</Порядок>
					<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);
Параметры.ДокументыДляПроведения.Добавить(Объект);</ПослеЗагрузки>
					<ПоследовательностьПолейПоиска>Запрос = Новый Запрос("ВЫБРАТЬ
|	УстановкаЦенНоменклатурыВидыЦен.Ссылка,
|	МИНИМУМ(ВЫБОР
|			КОГДА УстановкаЦенНоменклатурыВидыЦен.ВидЦены &lt;&gt; &amp;ВидЦены
|				ТОГДА ЛОЖЬ
|			ИНАЧЕ ИСТИНА
|		КОНЕЦ) КАК Статус
|ПОМЕСТИТЬ АнализДокументов
|ИЗ
|	Документ.УстановкаЦенНоменклатуры.ВидыЦен КАК УстановкаЦенНоменклатурыВидыЦен
|ГДЕ
|	НАЧАЛОПЕРИОДА(УстановкаЦенНоменклатурыВидыЦен.Ссылка.Дата, ДЕНЬ) = НАЧАЛОПЕРИОДА(&amp;Дата, ДЕНЬ)
|	И УстановкаЦенНоменклатурыВидыЦен.Ссылка.Комментарий ПОДОБНО &amp;Комментарий
|
|СГРУППИРОВАТЬ ПО
|	УстановкаЦенНоменклатурыВидыЦен.Ссылка
|;
|
|////////////////////////////////////////////////////////////////////////////////
|ВЫБРАТЬ
|	АнализДокументов.Ссылка
|ИЗ
|	АнализДокументов КАК АнализДокументов
|ГДЕ
|	АнализДокументов.Статус = ИСТИНА");

Запрос.УстановитьПараметр("Дата", СвойстваПоиска.Получить("Дата"));
Запрос.УстановитьПараметр("Комментарий", СвойстваПоиска.Получить("Комментарий"));
Запрос.УстановитьПараметр("ВидЦены", ПараметрыОбъекта.Получить("ВидЦены"));

Выборка = Запрос.Выполнить().Выбрать();

Если Выборка.Следующий() Тогда
	СсылкаНаОбъект = Выборка.Ссылка;
КонецЕсли;

ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
					<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
					<Приемник>ДокументСсылка.УстановкаЦенНоменклатуры</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование> --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<ПередВыгрузкой>Значение = НачалоДня(Источник.Дата);</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование> --&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "УТ103 -&gt; УТ11: Последние цены номенклатуры";</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>15</Код>
							<Наименование>--&gt; ВидЦены</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<КодПравилаКонвертации>ТипыЦенНоменклатуры_ВидыЦен</КодПравилаКонвертации>
							<ИмяПараметраДляПередачи>ВидЦены</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = Источник.ВидЦены;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование> --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование> --&gt; Проведен</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование> --&gt; Согласован</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Согласован" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование> --&gt; Статус</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Статус" Вид="Реквизит" Тип="ПеречислениеСсылка.СтатусыУстановокЦенНоменклатуры"/>
							<ПередВыгрузкой>Значение = "Согласован";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>7</Код>
							<Наименование> --&gt; Товары</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>12</Код>
								<Наименование>--&gt; Номенклатура</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>--&gt; Характеристика</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Характеристика" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
								<КодПравилаКонвертации>ХарактеристикиНоменклатуры</КодПравилаКонвертации>
								<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если Параметры.ИспользоватьХарактеристикиНоменклатуры
	И ОбъектКоллекции.Номенклатура.ВестиУчетПоХарактеристикам
	И НЕ ЗначениеЗаполнено(ОбъектКоллекции.Характеристика) Тогда
	ИсходящиеДанные.Вставить("Владелец", ОбъектКоллекции.Номенклатура);
	Значение = Новый Структура("Ссылка");
	ИмяПКО = "ПустаяХарактеристикаНоменклатуры";
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование> --&gt; Упаковка</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Упаковка" Вид="Реквизит" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
								<КодПравилаКонвертации>ЕдиницыИзмерения_Упаковки</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование> --&gt; ВидЦены</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидЦены" Вид="Реквизит" Тип="СправочникСсылка.ВидыЦен"/>
								<КодПравилаКонвертации>ТипыЦенНоменклатуры_ВидыЦен</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование> --&gt; Цена</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип=""/>
							</Свойство>
						</Группа>
						<Группа>
							<Код>13</Код>
							<Наименование> --&gt; ВидыЦен</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидыЦен" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Колонки.Добавить("ВидЦены");
НоваяСтрока = КоллекцияОбъектов.Добавить();
НоваяСтрока.ВидЦены = Источник.ВидЦены;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>14</Код>
								<Наименование> --&gt; ВидЦены</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидЦены" Вид="Реквизит" Тип="СправочникСсылка.ВидыЦен"/>
								<КодПравилаКонвертации>ТипыЦенНоменклатуры_ВидыЦен</КодПравилаКонвертации>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>РегистрацияЦенПоставщика</Код>
					<Наименование>РегистрацияЦенПоставщика</Наименование>
					<Порядок>150</Порядок>
					<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);

Если Объект.Проведен Тогда
	Параметры.ДокументыДляПроведения.Добавить(Объект);
	Объект.Проведен = Ложь;
КонецЕсли;</ПослеЗагрузки>
					<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
					<Приемник>ДокументСсылка.РегистрацияЦенНоменклатурыПоставщика</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>9</Код>
							<Наименование> --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<ПередВыгрузкой>Значение = НачалоДня(Источник.Дата);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование> --&gt; Проведен</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование> --&gt; ПометкаУдаления</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование> --&gt; Ответственный</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование> --&gt; Комментарий</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>12</Код>
							<Наименование> --&gt; Партнер</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
							<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>1</Код>
							<Наименование> --&gt; Товары</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>2</Код>
								<Наименование> --&gt; Номенклатура</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>--&gt; Характеристика</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Характеристика" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
								<КодПравилаКонвертации>ХарактеристикиНоменклатуры</КодПравилаКонвертации>
								<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если Параметры.ИспользоватьХарактеристикиНоменклатуры
	И ОбъектКоллекции.Номенклатура.ВестиУчетПоХарактеристикам
	И НЕ ЗначениеЗаполнено(ОбъектКоллекции.Характеристика) Тогда
	ИсходящиеДанные.Вставить("Владелец", ОбъектКоллекции.Номенклатура);
	Значение = Новый Структура("Ссылка");
	ИмяПКО = "ПустаяХарактеристикаНоменклатуры";	
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование> --&gt; Упаковка</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Упаковка" Вид="Реквизит" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
								<КодПравилаКонвертации>ЕдиницыИзмерения_Упаковки</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; Цена</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип=""/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>--&gt; ВидЦеныПоставщика</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидЦеныПоставщика" Вид="Реквизит" Тип="СправочникСсылка.ВидыЦенПоставщиков"/>
								<КодПравилаКонвертации>УсловияЦенПоставщиков</КодПравилаКонвертации>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>РегистрацияЦенКомитента</Код>
					<Наименование>РегистрацияЦенКомитента</Наименование>
					<Порядок>200</Порядок>
					<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);

Если Объект.Проведен Тогда
	Параметры.ДокументыДляПроведения.Добавить(Объект);
	Объект.Проведен = Ложь;
КонецЕсли;</ПослеЗагрузки>
					<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
					<Приемник>ДокументСсылка.РегистрацияЦенНоменклатурыПоставщика</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование> --&gt; Дата</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
							<ПередВыгрузкой>Значение = НачалоДня(Источник.Дата);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование> --&gt; Проведен</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование> --&gt; ПометкаУдаления</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование> --&gt; Ответственный</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование> --&gt; Комментарий</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>11</Код>
							<Наименование> --&gt; Партнер</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
							<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>6</Код>
							<Наименование> --&gt; Товары</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>7</Код>
								<Наименование> --&gt; Номенклатура</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование> --&gt; Характеристика</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Характеристика" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
								<КодПравилаКонвертации>ХарактеристикиНоменклатуры</КодПравилаКонвертации>
								<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если Параметры.ИспользоватьХарактеристикиНоменклатуры
	И ОбъектКоллекции.Номенклатура.ВестиУчетПоХарактеристикам
	И НЕ ЗначениеЗаполнено(ОбъектКоллекции.Характеристика) Тогда
	ИсходящиеДанные.Вставить("Владелец", ОбъектКоллекции.Номенклатура);
	Значение = Новый Структура("Ссылка");
	ИмяПКО = "ПустаяХарактеристикаНоменклатуры";	
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование> --&gt; Упаковка</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Упаковка" Вид="Реквизит" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
								<КодПравилаКонвертации>ЕдиницыИзмерения_Упаковки</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование> --&gt; Цена</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Цена" Вид="Реквизит" Тип=""/>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
		</Группа>
		<Группа Отключить="false">
			<Код>Перечисления</Код>
			<Наименование>Перечисления</Наименование>
			<Порядок>450</Порядок>
			<Правило>
				<Код>ЮрФизЛицо</Код>
				<Наименование>ЮрФизЛицо</Наименование>
				<Порядок>50</Порядок>
				<Источник>ПеречислениеСсылка.ЮрФизЛицо</Источник>
				<Приемник>ПеречислениеСсылка.ЮрФизЛицо</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ФизЛицо --&gt; ФизЛицо</Наименование>
						<Порядок>50</Порядок>
						<Источник>ФизЛицо</Источник>
						<Приемник>ФизЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ЮрЛицо --&gt; ЮрЛицо</Наименование>
						<Порядок>100</Порядок>
						<Источник>ЮрЛицо</Источник>
						<Приемник>ЮрЛицо</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ЮрФизЛицо_КомпанияЧастноеЛицо</Код>
				<Наименование>ЮрФизЛицо_КомпанияЧастноеЛицо</Наименование>
				<Порядок>100</Порядок>
				<Источник>ПеречислениеСсылка.ЮрФизЛицо</Источник>
				<Приемник>ПеречислениеСсылка.КомпанияЧастноеЛицо</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ФизЛицо --&gt; ЧастноеЛицо</Наименование>
						<Порядок>50</Порядок>
						<Источник>ФизЛицо</Источник>
						<Приемник>ЧастноеЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ЮрЛицо --&gt; Компания</Наименование>
						<Порядок>100</Порядок>
						<Источник>ЮрЛицо</Источник>
						<Приемник>Компания</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ЮрФизЛицо_ЮридическоеФизическоеЛицо</Код>
				<Наименование>ЮрФизЛицо_ЮридическоеФизическоеЛицо</Наименование>
				<Порядок>150</Порядок>
				<Источник>ПеречислениеСсылка.ЮрФизЛицо</Источник>
				<Приемник>ПеречислениеСсылка.ЮридическоеФизическоеЛицо</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ФизЛицо --&gt; ФизическоеЛицо</Наименование>
						<Порядок>50</Порядок>
						<Источник>ФизЛицо</Источник>
						<Приемник>ФизическоеЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ЮрЛицо --&gt; ЮридическоеЛицо</Наименование>
						<Порядок>100</Порядок>
						<Источник>ЮрЛицо</Источник>
						<Приемник>ЮридическоеЛицо</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ТипыНоменклатуры</Код>
				<Наименование>ТипыНоменклатуры</Наименование>
				<Порядок>200</Порядок>
				<Источник>ПеречислениеСсылка.ТипыНоменклатуры</Источник>
				<Приемник>ПеречислениеСсылка.ТипыНоменклатуры</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Товар --&gt; Товар</Наименование>
						<Порядок>50</Порядок>
						<Источник>Товар</Источник>
						<Приемник>Товар</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Услуга --&gt; Услуга</Наименование>
						<Порядок>100</Порядок>
						<Источник>Услуга</Источник>
						<Приемник>Услуга</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Комплект --&gt; Набор</Наименование>
						<Порядок>150</Порядок>
						<Источник>Комплект</Источник>
						<Приемник>Набор</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Набор --&gt; Набор</Наименование>
						<Порядок>200</Порядок>
						<Источник>Набор</Источник>
						<Приемник>Набор</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>СтавкиНДС</Код>
				<Наименование>СтавкиНДС</Наименование>
				<Порядок>250</Порядок>
				<Источник>ПеречислениеСсылка.СтавкиНДС</Источник>
				<Приемник>ПеречислениеСсылка.СтавкиНДС</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>БезНДС --&gt; БезНДС</Наименование>
						<Порядок>50</Порядок>
						<Источник>БезНДС</Источник>
						<Приемник>БезНДС</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>НДС0 --&gt; НДС20</Наименование>
						<Порядок>100</Порядок>
						<Источник>НДС0</Источник>
						<Приемник>НДС20</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>НДС10 --&gt; НДС10</Наименование>
						<Порядок>150</Порядок>
						<Источник>НДС10</Источник>
						<Приемник>НДС10</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>НДС18 --&gt; НДС18</Наименование>
						<Порядок>200</Порядок>
						<Источник>НДС18</Источник>
						<Приемник>НДС18</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>НДС10_110 --&gt; НДС10_110</Наименование>
						<Порядок>250</Порядок>
						<Источник>НДС10_110</Источник>
						<Приемник>НДС10_110</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>НДС18_118 --&gt; НДС18_118</Наименование>
						<Порядок>300</Порядок>
						<Источник>НДС18_118</Источник>
						<Приемник>НДС18_118</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>НДС20 --&gt; НДС20</Наименование>
						<Порядок>350</Порядок>
						<Источник>НДС20</Источник>
						<Приемник>НДС20</Приемник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>НДС20_120 --&gt; НДС20_120</Наименование>
						<Порядок>400</Порядок>
						<Источник>НДС20_120</Источник>
						<Приемник>НДС20_120</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ABCКлассификация</Код>
				<Наименование>ABCКлассификация</Наименование>
				<Порядок>300</Порядок>
				<Источник>ПеречислениеСсылка.ABCКлассификация</Источник>
				<Приемник>ПеречислениеСсылка.ABCКлассификация</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>AКласс --&gt; AКласс</Наименование>
						<Порядок>50</Порядок>
						<Источник>AКласс</Источник>
						<Приемник>AКласс</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>BКласс --&gt; BКласс</Наименование>
						<Порядок>100</Порядок>
						<Источник>BКласс</Источник>
						<Приемник>BКласс</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>CКласс --&gt; CКласс</Наименование>
						<Порядок>150</Порядок>
						<Источник>CКласс</Источник>
						<Приемник>CКласс</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>XYZКлассификация</Код>
				<Наименование>XYZКлассификация</Наименование>
				<Порядок>350</Порядок>
				<Источник>ПеречислениеСсылка.XYZКлассификация</Источник>
				<Приемник>ПеречислениеСсылка.XYZКлассификация</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>XКласс --&gt; XКласс</Наименование>
						<Порядок>50</Порядок>
						<Источник>XКласс</Источник>
						<Приемник>XКласс</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>YКласс --&gt; YКласс</Наименование>
						<Порядок>100</Порядок>
						<Источник>YКласс</Источник>
						<Приемник>YКласс</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ZКласс --&gt; ZКласс</Наименование>
						<Порядок>150</Порядок>
						<Источник>ZКласс</Источник>
						<Приемник>ZКласс</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ДниНедели</Код>
				<Наименование>ДниНедели</Наименование>
				<Порядок>400</Порядок>
				<Источник>ПеречислениеСсылка.ДниНедели</Источник>
				<Приемник>ПеречислениеСсылка.ДниНедели</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Воскресенье --&gt; Воскресенье</Наименование>
						<Порядок>50</Порядок>
						<Источник>Воскресенье</Источник>
						<Приемник>Воскресенье</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Вторник --&gt; Вторник</Наименование>
						<Порядок>100</Порядок>
						<Источник>Вторник</Источник>
						<Приемник>Вторник</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Понедельник --&gt; Понедельник</Наименование>
						<Порядок>150</Порядок>
						<Источник>Понедельник</Источник>
						<Приемник>Понедельник</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Пятница --&gt; Пятница</Наименование>
						<Порядок>200</Порядок>
						<Источник>Пятница</Источник>
						<Приемник>Пятница</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Среда --&gt; Среда</Наименование>
						<Порядок>250</Порядок>
						<Источник>Среда</Источник>
						<Приемник>Среда</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>Суббота --&gt; Суббота</Наименование>
						<Порядок>300</Порядок>
						<Источник>Суббота</Источник>
						<Приемник>Суббота</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>Четверг --&gt; Четверг</Наименование>
						<Порядок>350</Порядок>
						<Источник>Четверг</Источник>
						<Приемник>Четверг</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>Периодичность</Код>
				<Наименование>Периодичность</Наименование>
				<Порядок>450</Порядок>
				<Источник>ПеречислениеСсылка.Периодичность</Источник>
				<Приемник>ПеречислениеСсылка.Периодичность</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Год --&gt; Год</Наименование>
						<Порядок>50</Порядок>
						<Источник>Год</Источник>
						<Приемник>Год</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Декада --&gt; Декада</Наименование>
						<Порядок>100</Порядок>
						<Источник>Декада</Источник>
						<Приемник>Декада</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>День --&gt; День</Наименование>
						<Порядок>150</Порядок>
						<Источник>День</Источник>
						<Приемник>День</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Квартал --&gt; Квартал</Наименование>
						<Порядок>200</Порядок>
						<Источник>Квартал</Источник>
						<Приемник>Квартал</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Месяц --&gt; Месяц</Наименование>
						<Порядок>250</Порядок>
						<Источник>Месяц</Источник>
						<Приемник>Месяц</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>Неделя --&gt; Неделя</Наименование>
						<Порядок>300</Порядок>
						<Источник>Неделя</Источник>
						<Приемник>Неделя</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>Полугодие --&gt; Полугодие</Наименование>
						<Порядок>350</Порядок>
						<Источник>Полугодие</Источник>
						<Приемник>Полугодие</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ТипыКонтактнойИнформации</Код>
				<Наименование>ТипыКонтактнойИнформации</Наименование>
				<Порядок>500</Порядок>
				<Источник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Источник>
				<Приемник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Адрес --&gt; Адрес</Наименование>
						<Порядок>50</Порядок>
						<Источник>Адрес</Источник>
						<Приемник>Адрес</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>АдресЭлектроннойПочты --&gt; АдресЭлектроннойПочты</Наименование>
						<Порядок>100</Порядок>
						<Источник>АдресЭлектроннойПочты</Источник>
						<Приемник>АдресЭлектроннойПочты</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ВебСтраница --&gt; ВебСтраница</Наименование>
						<Порядок>150</Порядок>
						<Источник>ВебСтраница</Источник>
						<Приемник>ВебСтраница</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Другое --&gt; Другое</Наименование>
						<Порядок>200</Порядок>
						<Источник>Другое</Источник>
						<Приемник>Другое</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Телефон --&gt; Телефон</Наименование>
						<Порядок>250</Порядок>
						<Источник>Телефон</Источник>
						<Приемник>Телефон</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ТипыСкладов</Код>
				<Наименование>ТипыСкладов</Наименование>
				<Порядок>550</Порядок>
				<Источник>ПеречислениеСсылка.ВидыСкладов</Источник>
				<Приемник>ПеречислениеСсылка.ТипыСкладов</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Оптовый --&gt; ОптовыйСклад</Наименование>
						<Порядок>50</Порядок>
						<Источник>Оптовый</Источник>
						<Приемник>ОптовыйСклад</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Розничный --&gt; РозничныйМагазин</Наименование>
						<Порядок>100</Порядок>
						<Источник>Розничный</Источник>
						<Приемник>РозничныйМагазин</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>НТТ --&gt; РозничныйМагазин</Наименование>
						<Порядок>150</Порядок>
						<Источник>НТТ</Источник>
						<Приемник>РозничныйМагазин</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>СпособыРасчетаКомиссионногоВознаграждения</Код>
				<Наименование>СпособыРасчетаКомиссионногоВознаграждения</Наименование>
				<Порядок>600</Порядок>
				<Источник>ПеречислениеСсылка.СпособыРасчетаКомиссионногоВознаграждения</Источник>
				<Приемник>ПеречислениеСсылка.СпособыРасчетаКомиссионногоВознаграждения</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>НеРассчитывается --&gt; НеРассчитывается</Наименование>
						<Порядок>50</Порядок>
						<Источник>НеРассчитывается</Источник>
						<Приемник>НеРассчитывается</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ПроцентОтСуммыПродажи --&gt; ПроцентОтСуммыПродажи</Наименование>
						<Порядок>100</Порядок>
						<Источник>ПроцентОтСуммыПродажи</Источник>
						<Приемник>ПроцентОтСуммыПродажи</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ПроцентОтПрибыли --&gt; ПроцентОтРазностиСуммыПродажиИСуммыКомитента</Наименование>
						<Порядок>150</Порядок>
						<Источник>ПроцентОтПрибыли</Источник>
						<Приемник>ПроцентОтРазностиСуммыПродажиИСуммыКомитента</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ДополнительнаяКолонкаПечатныхФормДокументов</Код>
				<Наименование>ДополнительнаяКолонкаПечатныхФормДокументов</Наименование>
				<Порядок>650</Порядок>
				<Источник>ПеречислениеСсылка.ДополнительнаяКолонкаПечатныхФормДокументов</Источник>
				<Приемник>ПеречислениеСсылка.ДополнительнаяКолонкаПечатныхФормДокументов</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Артикул --&gt; Артикул</Наименование>
						<Порядок>50</Порядок>
						<Источник>Артикул</Источник>
						<Приемник>Артикул</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник>Код</Источник>
						<Приемник>Код</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>НеВыводить --&gt; НеВыводить</Наименование>
						<Порядок>150</Порядок>
						<Источник>НеВыводить</Источник>
						<Приемник>НеВыводить</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыИнформационныхКарт_ТипыКарт</Код>
				<Наименование>ВидыИнформационныхКарт_ТипыКарт</Наименование>
				<Порядок>700</Порядок>
				<Источник>ПеречислениеСсылка.ВидыИнформационныхКарт</Источник>
				<Приемник>ПеречислениеСсылка.ТипыКарт</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Магнитная --&gt; Магнитная</Наименование>
						<Порядок>50</Порядок>
						<Источник>Магнитная</Источник>
						<Приемник>Магнитная</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Штриховая --&gt; Штриховая</Наименование>
						<Порядок>100</Порядок>
						<Источник>Штриховая</Источник>
						<Приемник>Штриховая</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыДоговоровКонтрагентов_ХозяйственныеОперации</Код>
				<Наименование>ВидыДоговоровКонтрагентов_ХозяйственныеОперации</Наименование>
				<Порядок>750</Порядок>
				<Источник>ПеречислениеСсылка.ВидыДоговоровКонтрагентов</Источник>
				<Приемник>ПеречислениеСсылка.ХозяйственныеОперации</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>СКомиссионером --&gt; ПередачаНаКомиссию</Наименование>
						<Порядок>50</Порядок>
						<Источник>СКомиссионером</Источник>
						<Приемник>ПередачаНаКомиссию</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>СКомитентом --&gt; ПриемНаКомиссию</Наименование>
						<Порядок>100</Порядок>
						<Источник>СКомитентом</Источник>
						<Приемник>ПриемНаКомиссию</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>СПокупателем --&gt; РеализацияКлиенту</Наименование>
						<Порядок>150</Порядок>
						<Источник>СПокупателем</Источник>
						<Приемник>РеализацияКлиенту</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>СПоставщиком --&gt; ЗакупкаУПоставщика</Наименование>
						<Порядок>200</Порядок>
						<Источник>СПоставщиком</Источник>
						<Приемник>ЗакупкаУПоставщика</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВедениеВзаиморасчетовПоДоговорам_ПорядокРасчетов</Код>
				<Наименование>ВедениеВзаиморасчетовПоДоговорам_ПорядокРасчетов</Наименование>
				<Порядок>800</Порядок>
				<Источник>ПеречислениеСсылка.ВедениеВзаиморасчетовПоДоговорам</Источник>
				<Приемник>ПеречислениеСсылка.ПорядокРасчетов</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ПоДоговоруВЦелом --&gt; ПоДоговорамКонтрагентов</Наименование>
						<Порядок>50</Порядок>
						<Источник>ПоДоговоруВЦелом</Источник>
						<Приемник>ПоДоговорамКонтрагентов</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ПоЗаказам --&gt; ПоЗаказамНакладным</Наименование>
						<Порядок>100</Порядок>
						<Источник>ПоЗаказам</Источник>
						<Приемник>ПоЗаказамНакладным</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ПоСчетам --&gt; ПоЗаказамНакладным</Наименование>
						<Порядок>150</Порядок>
						<Источник>ПоСчетам</Источник>
						<Приемник>ПоЗаказамНакладным</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ТипыДоговоров</Код>
				<Наименование>ТипыДоговоров</Наименование>
				<Порядок>850</Порядок>
				<Источник>ПеречислениеСсылка.ВидыДоговоровКонтрагентов</Источник>
				<Приемник>ПеречислениеСсылка.ТипыДоговоров</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>СКомиссионером --&gt; СКомиссионером</Наименование>
						<Порядок>50</Порядок>
						<Источник>СКомиссионером</Источник>
						<Приемник>СКомиссионером</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>СКомитентом --&gt; СКомитентом</Наименование>
						<Порядок>100</Порядок>
						<Источник>СКомитентом</Источник>
						<Приемник>СКомитентом</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>СПокупателем --&gt; СПокупателем</Наименование>
						<Порядок>150</Порядок>
						<Источник>СПокупателем</Источник>
						<Приемник>СПокупателем</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>СПоставщиком --&gt; СПоставщиком</Наименование>
						<Порядок>200</Порядок>
						<Источник>СПоставщиком</Источник>
						<Приемник>СПоставщиком</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>Перечисление_ОтветственныеЛицаОрганизаций</Код>
				<Наименование>Перечисление_ОтветственныеЛицаОрганизаций</Наименование>
				<Порядок>900</Порядок>
				<Источник>ПеречислениеСсылка.ОтветственныеЛицаОрганизации</Источник>
				<Приемник>ПеречислениеСсылка.ОтветственныеЛицаОрганизаций</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ГлавныйБухгалтер --&gt; ГлавныйБухгалтер</Наименование>
						<Порядок>50</Порядок>
						<Источник>ГлавныйБухгалтер</Источник>
						<Приемник>ГлавныйБухгалтер</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Кассир --&gt; Кассир</Наименование>
						<Порядок>100</Порядок>
						<Источник>Кассир</Источник>
						<Приемник>Кассир</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Руководитель --&gt; Руководитель</Наименование>
						<Порядок>150</Порядок>
						<Источник>Руководитель</Источник>
						<Приемник>Руководитель</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>МетодыОценкиСтоимостиТоваров</Код>
				<Наименование>МетодыОценкиСтоимостиТоваров</Наименование>
				<Порядок>950</Порядок>
				<Источник>ПеречислениеСсылка.СпособыОценки</Источник>
				<Приемник>ПеречислениеСсылка.МетодыОценкиСтоимостиТоваров</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ПоСредней --&gt; СредняяЗаМесяц</Наименование>
						<Порядок>50</Порядок>
						<Источник>ПоСредней</Источник>
						<Приемник>СредняяЗаМесяц</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ФИФО --&gt; ФИФОВзвешеннаяОценка</Наименование>
						<Порядок>100</Порядок>
						<Источник>ФИФО</Источник>
						<Приемник>ФИФОВзвешеннаяОценка</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>Условия_УсловияПредоставленияСкидокНаценок</Код>
				<Наименование>Условия_УсловияПредоставленияСкидокНаценок</Наименование>
				<Порядок>1000</Порядок>
				<Источник>ПеречислениеСсылка.УсловияСкидкиНаценки</Источник>
				<Приемник>ПеречислениеСсылка.УсловияПредоставленияСкидокНаценок</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ПоВидуОплаты --&gt; ЗаФормуОплаты</Наименование>
						<Порядок>50</Порядок>
						<Источник>ПоВидуОплаты</Источник>
						<Приемник>ЗаФормуОплаты</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ПоСуммеДокумента --&gt; ЗаРазовыйОбъемПродаж</Наименование>
						<Порядок>100</Порядок>
						<Источник>ПоСуммеДокумента</Источник>
						<Приемник>ЗаРазовыйОбъемПродаж</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ФормыОплаты</Код>
				<Наименование>ФормыОплаты</Наименование>
				<Порядок>1050</Порядок>
				<Источник>ПеречислениеСсылка.ТипыОплатЧекаККМ</Источник>
				<Приемник>ПеречислениеСсылка.ФормыОплаты</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>БанковскийКредит --&gt; Безналичная</Наименование>
						<Порядок>50</Порядок>
						<Источник>БанковскийКредит</Источник>
						<Приемник>Безналичная</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Наличные --&gt; Наличная</Наименование>
						<Порядок>100</Порядок>
						<Источник>Наличные</Источник>
						<Приемник>Наличная</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ПлатежнаяКарта --&gt; ПлатежнаяКарта</Наименование>
						<Порядок>150</Порядок>
						<Источник>ПлатежнаяКарта</Источник>
						<Приемник>ПлатежнаяКарта</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыАгентскихДоговоров</Код>
				<Наименование>ВидыАгентскихДоговоров</Наименование>
				<Порядок>1100</Порядок>
				<Источник>ПеречислениеСсылка.ВидыАгентскихДоговоров</Источник>
				<Приемник>ПеречислениеСсылка.ВидыАгентскихДоговоров</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Аренда --&gt; Аренда</Наименование>
						<Порядок>50</Порядок>
						<Источник>Аренда</Источник>
						<Приемник>Аренда</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Нерезидент --&gt; Нерезидент</Наименование>
						<Порядок>100</Порядок>
						<Источник>Нерезидент</Источник>
						<Приемник>Нерезидент</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>РеализацияИмущества --&gt; РеализацияИмущества</Наименование>
						<Порядок>150</Порядок>
						<Источник>РеализацияИмущества</Источник>
						<Приемник>РеализацияИмущества</Приемник>
					</Значение>
				</Значения>
			</Правило>
		</Группа>
		<Группа Отключить="false">
			<Код>Планы видов характеристик</Код>
			<Наименование>Планы видов характеристик</Наименование>
			<Порядок>500</Порядок>
			<Правило>
				<Код>СвойстваОбъектов_ДополнительныеРеквизитыИСведения</Код>
				<Наименование>СвойстваОбъектов_ДополнительныеРеквизитыИСведения</Наименование>
				<Порядок>100</Порядок>
				<ПослеЗагрузки>Если ПараметрыОбъекта &lt;&gt; Неопределено Тогда
	
	МассивНаименованийТиповВСтрокеВнутр = ПараметрыОбъекта.Получить("Тип");
	Если МассивНаименованийТиповВСтрокеВнутр &lt;&gt; Неопределено Тогда
		
		МассивНаименованийТипов = ЗначениеИзСтрокиВнутр(МассивНаименованийТиповВСтрокеВнутр);
		
		МассивТипов = Новый Массив;
		Для Каждого НаименованиеТипа Из МассивНаименованийТипов Цикл
			МассивТипов.Добавить(Тип(НаименованиеТипа));	
		КонецЦикла;
			
		Объект.ТипЗначения = Новый ОписаниеТипов(МассивТипов); 	
		
	КонецЕсли;
	
КонецЕсли;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ПланВидовХарактеристикСсылка.СвойстваОбъектов</Источник>
				<Приемник>ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения</Приемник>
				<Свойства>
					<Свойство>
						<Код>8</Код>
						<Наименование> --&gt; ЗаголовокФормыВыбораЗначения</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЗаголовокФормыВыбораЗначения" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.НазначениеСвойства) Тогда
	Значение = Источник.Наименование + " (" + Источник.НазначениеСвойства.Наименование + ")";
Иначе
	Значение = Источник.Наименование;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование> --&gt; ЗаголовокФормыЗначения</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЗаголовокФормыЗначения" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.НазначениеСвойства) Тогда
	Значение = Источник.Наименование + " (" + Источник.НазначениеСвойства.Наименование + ")";
Иначе
	Значение = Источник.Наименование;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование> --&gt; Комментарий</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>Значение = НСтр("ru='Загружено при переносе данных'");</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>НазначениеСвойства --&gt; НаборСвойств</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="НазначениеСвойства" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.НазначенияСвойствКатегорийОбъектов"/>
						<Приемник Имя="НаборСвойств" Вид="Реквизит" Тип="СправочникСсылка.НаборыДополнительныхРеквизитовИСведений"/>
						<КодПравилаКонвертации>НаборыДополнительныхРеквизитовИСведений</КодПравилаКонвертации>
						<ПередВыгрузкой>Запрос = Новый Запрос;
Запрос.Текст = "ВЫБРАТЬ
|   Объект
|ИЗ РегистрСведений.НазначенияСвойствОбъектов
|ГДЕ Свойство = &amp;Свойство";
Запрос.УстановитьПараметр("Свойство", Источник.Ссылка);
РезультатЗапроса = Запрос.Выполнить();
Если НЕ РезультатЗапроса.Пустой() Тогда
    Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.НазначениеСвойства) Тогда
	Значение = Источник.Наименование + " (" + Источник.НазначениеСвойства.Наименование + ")";
Иначе
	Значение = Источник.Наименование;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Наименование --&gt; Заголовок</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Заголовок" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>--&gt; Тип</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>Тип</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>
МассивНаименованийТипов = Новый Массив;

// То что закомментировано - не имеет соответствия.

СоответствиеТипов = Новый Соответствие;
СоответствиеТипов.Вставить(Тип("Число"),  "Число");
СоответствиеТипов.Вставить(Тип("Строка"), "Строка");
СоответствиеТипов.Вставить(Тип("Булево"), "Булево");
СоответствиеТипов.Вставить(Тип("Дата"),   "Дата");
СоответствиеТипов.Вставить(Тип("СправочникСсылка.ЗначенияСвойствОбъектов"),      "СправочникСсылка.ЗначенияСвойствОбъектов");
СоответствиеТипов.Вставить(Тип("СправочникСсылка.ФизическиеЛица"),               "СправочникСсылка.ФизическиеЛица");
СоответствиеТипов.Вставить(Тип("СправочникСсылка.Склады"),                       "СправочникСсылка.Склады");
СоответствиеТипов.Вставить(Тип("СправочникСсылка.Пользователи"),                 "СправочникСсылка.Пользователи");
СоответствиеТипов.Вставить(Тип("СправочникСсылка.Подразделения"),                "СправочникСсылка.СтруктураПредприятия");
СоответствиеТипов.Вставить(Тип("СправочникСсылка.Организации"),                  "СправочникСсылка.Организации");
//СоответствиеТипов.Вставить(Тип("СправочникСсылка.НоменклатурныеГруппы"),       "СправочникСсылка.ЗначенияСвойствОбъектов");
СоответствиеТипов.Вставить(Тип("СправочникСсылка.Номенклатура"),                 "СправочникСсылка.Номенклатура");
СоответствиеТипов.Вставить(Тип("СправочникСсылка.Контрагенты"),                  "СправочникСсылка.Партнеры");
//СоответствиеТипов.Вставить(Тип("СправочникСсылка.КонтактныеЛицаКонтрагентов"),   "СправочникСсылка.КонтактныеЛицаПартнеров");
//СоответствиеТипов.Вставить(Тип("СправочникСсылка.КонтактныеЛица"),               "СправочникСсылка.ЗначенияСвойствОбъектов");
СоответствиеТипов.Вставить(Тип("СправочникСсылка.КлассификаторСтранМира"),         "СправочникСсылка.СтраныМира");
//СоответствиеТипов.Вставить(Тип("СправочникСсылка.КлассификаторЕдиницИзмерения"), "СправочникСсылка.ЕдиницыИзмерения");
СоответствиеТипов.Вставить(Тип("СправочникСсылка.Валюты"),                         "СправочникСсылка.Валюты");

Для Каждого КлючИЗначение ИЗ СоответствиеТипов Цикл
	Если Источник.ТипЗначения.СодержитТип(КлючИЗначение.Ключ) Тогда
		МассивНаименованийТипов.Добавить(КлючИЗначение.Значение);	
	КонецЕсли;
КонецЦикла;

Значение = ЗначениеВСтрокуВнутр(МассивНаименованийТипов);</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СтатьиРасходов</Код>
				<Наименование>СтатьиРасходов</Наименование>
				<Порядок>150</Порядок>
				<ПриЗагрузке>Объект.ТипЗначения = Новый ОписаниеТипов("СправочникСсылка.НаправленияДеятельности");</ПриЗагрузке>
				<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьЗначениеРеквизитаУпорядочивания);</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.СтатьиЗатрат</Источник>
				<Приемник>ПланВидовХарактеристикСсылка.СтатьиРасходов</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтатьиЗатрат"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="ПланВидовХарактеристикСсылка.СтатьиРасходов"/>
						<КодПравилаКонвертации>СтатьиРасходов</КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>5</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>--&gt; ВариантРаспределенияРасходовРегл</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВариантРаспределенияРасходовРегл" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыРаспределенияРасходов"/>
						<ПередВыгрузкой>Значение = "НаНаправленияДеятельности";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>--&gt; ВариантРаспределенияРасходовУпр</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВариантРаспределенияРасходовУпр" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыРаспределенияРасходов"/>
						<ПередВыгрузкой>Значение = "НаНаправленияДеятельности";</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа Отключить="false">
			<Код>Регистры сведений</Код>
			<Наименование>Регистры сведений</Наименование>
			<Порядок>550</Порядок>
			<Правило>
				<Код>КурсыВалют</Код>
				<Наименование>КурсыВалют</Наименование>
				<Порядок>100</Порядок>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Источник>РегистрСведенийЗапись.КурсыВалют</Источник>
				<Приемник>РегистрСведенийЗапись.КурсыВалют</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Активность --&gt; Активность</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Активность" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Активность" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Валюта --&gt; Валюта</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Валюта" Вид="Измерение" Тип="СправочникСсылка.Валюты"/>
						<Приемник Имя="Валюта" Вид="Измерение" Тип="СправочникСсылка.Валюты"/>
						<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Кратность --&gt; Кратность</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Кратность" Вид="Ресурс" Тип="Число"/>
						<Приемник Имя="Кратность" Вид="Ресурс" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Курс --&gt; Курс</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Курс" Вид="Ресурс" Тип="Число"/>
						<Приемник Имя="Курс" Вид="Ресурс" Тип=""/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Период --&gt; Период</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Период" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ПаспортныеДанныеФизЛиц</Код>
				<Наименование>ПаспортныеДанныеФизЛиц</Наименование>
				<Порядок>150</Порядок>
				<ПослеЗагрузки>
// ...Из модуля объекта УТ 11
ТекстСерия				= НСтр("ru = ', серия: %1'");
ТекстНомер				= НСтр("ru = ', № %1'");
ТекстДатаВыдачи			= НСтр("ru = ', выдан: %1 года'");
ТекстСрокДействия		= НСтр("ru = ', действует до: %1 года'");
ТекстКодПодразделения	= НСтр("ru = ', № подр. %1'");

Если Объект.ВидДокумента.Пустая() Тогда
	Объект.Представление = "";
	
Иначе
	Объект.Представление = ""
		+ Объект.ВидДокумента
		+ ?(ЗначениеЗаполнено(Объект.Серия), СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(ТекстСерия, Объект.Серия), "")
		+ ?(ЗначениеЗаполнено(Объект.Номер), СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(ТекстНомер, Объект.Номер), "")
		+ ?(ЗначениеЗаполнено(Объект.ДатаВыдачи), СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(ТекстДатаВыдачи, Формат(Объект.ДатаВыдачи,"ДФ='дд ММММ гггг'")), "")
		+ ?(ЗначениеЗаполнено(Объект.СрокДействия), СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(ТекстСрокДействия, Формат(Объект.СрокДействия,"ДФ='дд ММММ гггг'")), "")
		+ ?(ЗначениеЗаполнено(Объект.КемВыдан), ", " + Объект.КемВыдан, "")
		+ ?(ЗначениеЗаполнено(Объект.КодПодразделения) И Объект.ВидДокумента = Справочники.ВидыДокументовФизическихЛиц.ПаспортРФ, СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(ТекстКодПодразделения, Объект.КодПодразделения), "");
	
КонецЕсли;</ПослеЗагрузки>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Источник>РегистрСведенийЗапись.ПаспортныеДанныеФизЛиц</Источник>
				<Приемник>РегистрСведенийЗапись.ДокументыФизическихЛиц</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Активность --&gt; Активность</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Активность" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Активность" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Период --&gt; Период</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Период" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ФизЛицо --&gt; Физлицо</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ФизЛицо" Вид="Измерение"/>
						<Приемник Имя="Физлицо" Вид="Измерение"/>
						<КодПравилаКонвертации>ФизическиеЛица</КодПравилаКонвертации>
					</Свойство>
					<Свойство Отключить="true">
						<Код>4</Код>
						<Наименование>ДатаРегистрацииПоМестуЖительства --&gt;</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ДатаРегистрацииПоМестуЖительства" Вид="Ресурс" Тип="Дата"/>
						<Приемник Имя="" Вид=""/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ДокументВид --&gt; ВидДокумента</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ДокументВид" Вид="Ресурс" Тип="СправочникСсылка.ДокументыУдостоверяющиеЛичность"/>
						<Приемник Имя="ВидДокумента" Вид="Измерение" Тип="СправочникСсылка.ВидыДокументовФизическихЛиц"/>
						<КодПравилаКонвертации>ДокументыУдостоверяющиеЛичность</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ДокументДатаВыдачи --&gt; ДатаВыдачи</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ДокументДатаВыдачи" Вид="Ресурс" Тип="Дата"/>
						<Приемник Имя="ДатаВыдачи" Вид="Ресурс" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>ДокументКемВыдан --&gt; КемВыдан</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ДокументКемВыдан" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="КемВыдан" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ДокументКодПодразделения --&gt; КодПодразделения</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ДокументКодПодразделения" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="КодПодразделения" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>ДокументНомер --&gt; Номер</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="ДокументНомер" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>ДокументСерия --&gt; Серия</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ДокументСерия" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="Серия" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>11</Код>
						<Наименование> --&gt; Представление</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Представление" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование> --&gt; ЯвляетсяДокументомУдостоверяющимЛичность</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЯвляетсяДокументомУдостоверяющимЛичность" Вид="Ресурс" Тип="Булево"/>
						<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ШтрихкодыНоменклатуры</Код>
				<Наименование>ШтрихкодыНоменклатуры</Наименование>
				<Порядок>200</Порядок>
				<ПередВыгрузкой>КлючВыгружаемыхДанных = Источник.Штрихкод;</ПередВыгрузкой>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Приемник>РегистрСведенийЗапись.ШтрихкодыНоменклатуры</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование> --&gt; Штрихкод</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Штрихкод" Вид="Измерение" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование> --&gt; Активность</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Активность" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование> --&gt; Номенклатура</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Номенклатура" Вид="Ресурс" Тип="СправочникСсылка.Номенклатура"/>
						<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование> --&gt; Упаковка</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Упаковка" Вид="Ресурс" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
						<КодПравилаКонвертации>ЕдиницыИзмерения_Упаковки</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование> --&gt; Характеристика</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Характеристика" Вид="Ресурс" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
						<КодПравилаКонвертации>ХарактеристикиНоменклатуры</КодПравилаКонвертации>
						<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если Параметры.ИспользоватьХарактеристикиНоменклатуры
	И Источник.Номенклатура.ВестиУчетПоХарактеристикам
	И НЕ ЗначениеЗаполнено(Источник.Характеристика) Тогда
	ИсходящиеДанные.Вставить("Владелец", Источник.Номенклатура);
	Значение = Новый Структура("Ссылка");
	ИмяПКО = "ПустаяХарактеристикаНоменклатуры";	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СоставГруппПользователей</Код>
				<Наименование>СоставГруппПользователей</Наименование>
				<Порядок>250</Порядок>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Приемник>РегистрСведенийЗапись.СоставыГруппПользователей</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование> --&gt; ГруппаПользователей</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ГруппаПользователей" Вид="Измерение"/>
						<КодПравилаКонвертации>ГруппыПользователей</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование> --&gt; Пользователь</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Пользователь" Вид="Измерение"/>
						<КодПравилаКонвертации>Пользователи</КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование> --&gt; Активность</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Активность" Вид="Свойство" Тип="Булево"/>
						<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ФИОФизическихЛиц</Код>
				<Наименование>ФИОФизическихЛиц</Наименование>
				<Порядок>300</Порядок>
				<ПередВыгрузкой>Если ТипЗнч(Источник.ФизЛицо) = Тип("СправочникСсылка.Организации") Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Источник>РегистрСведенийЗапись.ФИОФизЛиц</Источник>
				<Приемник>РегистрСведенийЗапись.ФИОФизическихЛиц</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Активность --&gt; Активность</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Активность" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Активность" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Имя --&gt; Имя</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Имя" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="Имя" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Отчество --&gt; Отчество</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Отчество" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="Отчество" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Период --&gt; Период</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Период" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Фамилия --&gt; Фамилия</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Фамилия" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="Фамилия" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ФизЛицо --&gt; ФизическоеЛицо</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ФизЛицо" Вид="Измерение"/>
						<Приемник Имя="ФизическоеЛицо" Вид="Измерение" Тип="СправочникСсылка.ФизическиеЛица"/>
						<КодПравилаКонвертации>ФизическиеЛица</КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа Отключить="false">
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>600</Порядок>
			<Группа Отключить="false">
				<Код>БазовыеКлассификаторы</Код>
				<Наименование>БазовыеКлассификаторы</Наименование>
				<Порядок>650</Порядок>
				<Правило>
					<Код>Валюты</Код>
					<Наименование>Валюты</Наименование>
					<Порядок>50</Порядок>
					<ПослеЗагрузки>Параметры.ЗагруженыВалюты = Истина;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.Валюты</Источник>
					<Приемник>СправочникСсылка.Валюты</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПараметрыПрописиНаРусском --&gt; ПараметрыПрописи</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПараметрыПрописиНаРусском" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ПараметрыПрописи" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование> --&gt; ЗагружаетсяИзИнтернета</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЗагружаетсяИзИнтернета" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>--&gt; СпособУстановкиКурса</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СпособУстановкиКурса" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыУстановкиКурсаВалюты"/>
							<ПередВыгрузкой>Значение = "ЗагрузкаИзИнтернета";</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>КлассификаторЕдиницИзмерения_ЕдиницыИзмерения</Код>
					<Наименование>КлассификаторЕдиницИзмерения_ЕдиницыИзмерения</Наименование>
					<Порядок>100</Порядок>
					<ПослеЗагрузки>Объект.Владелец = Справочники.НаборыУпаковок.БазовыеЕдиницыИзмерения;
Объект.ТипИзмеряемойВеличины = Перечисления.ТипыИзмеряемыхВеличин.ПустаяСсылка();
Справочники.УпаковкиЕдиницыИзмерения.ОтработатьЛогикуСвязиРеквизитов(Объект);
ДанныеКлассификатора = Параметры.Соответствие.Получить(СокрЛП(Объект.Код));
Если ДанныеКлассификатора &lt;&gt; Неопределено Тогда
	ЗаполнитьЗначенияСвойств(Объект, ДанныеКлассификатора); // Числитель, Знаменатель, ТипИзмеряемойВеличины
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.КлассификаторЕдиницИзмерения</Источник>
					<Приемник>СправочникСсылка.УпаковкиЕдиницыИзмерения</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>МеждународноеСокращение --&gt; МеждународноеСокращение</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="МеждународноеСокращение" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="МеждународноеСокращение" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>КлассификаторСтранМираСтраныМира</Код>
					<Наименование>КлассификаторСтранМираСтраныМира</Наименование>
					<Порядок>150</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.КлассификаторСтранМира</Источник>
					<Приемник>СправочникСсылка.СтраныМира</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>КодАльфа2 --&gt; КодАльфа2</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="КодАльфа2" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КодАльфа2" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения>
						<Значение>
							<Код>1</Код>
							<Наименование>Россия -&gt; Россия</Наименование>
							<Порядок>50</Порядок>
							<Источник>Россия</Источник>
							<Приемник>Россия</Приемник>
						</Значение>
					</Значения>
				</Правило>
				<Правило>
					<Код>Банки</Код>
					<Наименование>Банки</Наименование>
					<Порядок>200</Порядок>
					<Источник>СправочникСсылка.Банки</Источник>
					<Приемник>СправочникСсылка.КлассификаторБанков</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>Адрес --&gt; Адрес</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Адрес" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Город --&gt; Город</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>КоррСчет --&gt; КоррСчет</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КоррСчет" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Телефоны --&gt; Телефоны</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Телефоны" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Банки"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.КлассификаторБанков"/>
							<КодПравилаКонвертации>Банки</КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>9</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>БизнесРегионы</Код>
					<Наименование>БизнесРегионы</Наименование>
					<Порядок>250</Порядок>
					<ПослеЗагрузки>Параметры.ЗагруженыБизнесРегионы = Истина;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.Регионы</Источник>
					<Приемник>СправочникСсылка.БизнесРегионы</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Регионы"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.БизнесРегионы"/>
							<КодПравилаКонвертации>БизнесРегионы</КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>Справочник_СтавкиНДС</Код>
					<Наименование>Справочник_СтавкиНДС</Наименование>
					<Порядок>300</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Приемник>СправочникСсылка.СтавкиНДС</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование> --&gt; ПеречислениеСтавкаНДС</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПеречислениеСтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<ПередВыгрузкой>Если ТипЗнч(Источник) = Тип("Строка") Тогда
	Значение = Перечисления.СтавкиНДС[СокрЛП(Источник)];
Иначе
	Значение = Источник;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>ГруппаКонтрагенты</Код>
				<Наименование>ГруппаКонтрагенты</Наименование>
				<Порядок>700</Порядок>
				<Правило>
					<Код>БанковскиеСчетаПолучателей</Код>
					<Наименование>БанковскиеСчетаПолучателей</Наименование>
					<Порядок>150</Порядок>
					<ПередВыгрузкой>КлючВыгружаемыхДанных = Источник.Ссылка;</ПередВыгрузкой>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Приемник>СправочникСсылка.БанковскиеСчетаКонтрагентов</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование> --&gt; Банк</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Банк" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторБанков"/>
							<КодПравилаКонвертации>Банки</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование> --&gt; БанкДляРасчетов</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="БанкДляРасчетов" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторБанков"/>
							<КодПравилаКонвертации>Банки</КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>--&gt; Владелец</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Владелец" Вид="Свойство"/>
							<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование> --&gt; Наименование</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование> --&gt; НомерСчета</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НомерСчета" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование> --&gt; ПометкаУдаления</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование> --&gt; ТекстКорреспондента</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТекстКорреспондента" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование> --&gt; ТекстНазначения</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТекстНазначения" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование> --&gt; ВалютаДенежныхСредств</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>КонтактныеЛицаКонтрагентов_КонтактныеЛицаПартнеров</Код>
					<Наименование>КонтактныеЛицаКонтрагентов_КонтактныеЛицаПартнеров</Наименование>
					<Порядок>200</Порядок>
					<ПослеЗагрузки>Объект.Автор = ПараметрыСеанса.ТекущийПользователь;

Если Параметры.ЭтоБазоваяВерсия Тогда
	Объект.РолиКонтактногоЛица.Очистить();
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.КонтактныеЛицаКонтрагентов</Источник>
					<Приемник>СправочникСсылка.КонтактныеЛицаПартнеров</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Владелец --&gt; Владелец</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Партнеры"/>
							<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>Должность --&gt; ДолжностьПоВизитке</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Должность" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДолжностьПоВизитке" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Группа>
							<Код>5</Код>
							<Наименование>--&gt; РолиКонтактногоЛица</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="РолиКонтактногоЛица" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Запрос = Новый Запрос("
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	КонтактныеЛицаКонтрагентов.Должность КАК РольКонтактногоЛица
	|ИЗ
	|	Справочник.КонтактныеЛицаКонтрагентов КАК КонтактныеЛицаКонтрагентов
	|ГДЕ
	|	КонтактныеЛицаКонтрагентов.Должность &lt;&gt; """"
	|	И КонтактныеЛицаКонтрагентов.Ссылка = &amp;КонтактноеЛицо
	|");

Запрос.УстановитьПараметр("КонтактноеЛицо", Источник.Ссылка);

КоллекцияОбъектов = Запрос.Выполнить().Выгрузить();</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>6</Код>
								<Наименование>--&gt; РольКонтактногоЛица</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="РольКонтактногоЛица" Вид="Реквизит" Тип="СправочникСсылка.РолиКонтактныхЛицПартнеров"/>
								<КодПравилаКонвертации>РолиКонтактныхЛиц</КодПравилаКонвертации>
								<ПередВыгрузкой>ИсходящиеДанные = Новый Структура("Наименование", ОбъектКоллекции.РольКонтактногоЛица);</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Группа>
							<Код>7</Код>
							<Наименование>--&gt; ДополнительныеРеквизиты</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПереносСвойств);</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>20</Код>
								<Наименование> --&gt; Значение</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Значение" Вид="Реквизит" Тип=""/>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование> --&gt; Свойство</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							</Свойство>
						</Группа>
						<Группа>
							<Код>8</Код>
							<Наименование>--&gt; КонтактнаяИнформация</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПереносКИ);</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>9</Код>
								<Наименование> --&gt; АдресЭП</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>--&gt; Вид</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
								<КодПравилаКонвертации>ВидыКонтактнойИнформацииВсе</КодПравилаКонвертации>
								<ПередВыгрузкой>Если ТипЗнч(ОбъектКоллекции.Вид) = Тип("Строка") Тогда
	Значение = Новый Структура("Тип, Наименование, ВидОбъектаКонтактнойИнформации", 
						ОбъектКоллекции.Тип, ОбъектКоллекции.Вид, Перечисления.ВидыОбъектовКонтактнойИнформации.КонтактныеЛицаКонтрагентов);
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование> --&gt; Город</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование> --&gt; ДоменноеИмяСервера</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование> --&gt; ЗначенияПолей</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование> --&gt; НомерТелефона</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование> --&gt; НомерТелефонаБезКодов</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование> --&gt; Представление</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование> --&gt; Регион</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование> --&gt; Страна</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование> --&gt; Тип</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>РолиКонтактныхЛиц</Код>
					<Наименование>РолиКонтактныхЛиц</Наименование>
					<Порядок>250</Порядок>
					<ПередВыгрузкой>КлючВыгружаемыхДанных = ВходящиеДанные.Наименование;</ПередВыгрузкой>
					<ПослеЗагрузки>Если Параметры.ЭтоБазоваяВерсия Тогда
	Отказ = Истина;
Иначе
	Параметры.ЗагруженыРолиКонтактныхЛиц = Истина;
КонецЕсли;</ПослеЗагрузки>
					<Приемник>СправочникСсылка.РолиКонтактныхЛицПартнеров</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>--&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>НоменклатураПартнеров</Код>
					<Наименование>НоменклатураПартнеров</Наименование>
					<Порядок>300</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>РегистрСведенийЗапись.НоменклатураКонтрагентов</Источник>
					<Приемник>СправочникСсылка.НоменклатураКонтрагентов</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Контрагент --&gt; Владелец</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Контрагент" Вид="Измерение" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Партнеры"/>
							<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Номенклатура" Вид="Измерение" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Номенклатура" Вид="Реквизит" Тип=""/>
							<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>ХарактеристикаНоменклатуры --&gt; Характеристика</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ХарактеристикаНоменклатуры" Вид="Измерение" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
							<Приемник Имя="Характеристика" Вид="Реквизит" Тип=""/>
							<КодПравилаКонвертации>ХарактеристикиНоменклатуры</КодПравилаКонвертации>
							<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если Параметры.ИспользоватьХарактеристикиНоменклатуры
	И Источник.Номенклатура.ВестиУчетПоХарактеристикам
	И НЕ ЗначениеЗаполнено(Источник.ХарактеристикаНоменклатуры) Тогда
	ИсходящиеДанные.Вставить("Владелец", Источник.Номенклатура);
	Значение = Новый Структура("Ссылка");
	ИмяПКО = "ПустаяХарактеристикаНоменклатуры";	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>АртикулНоменклатурыКонтрагента --&gt; Артикул</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="АртикулНоменклатурыКонтрагента" Вид="Ресурс" Тип="Строка"/>
							<Приемник Имя="Артикул" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>КодНоменклатурыКонтрагента --&gt; Код</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="КодНоменклатурыКонтрагента" Вид="Ресурс" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>НаименованиеНоменклатурыКонтрагента --&gt; Наименование</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="НаименованиеНоменклатурыКонтрагента" Вид="Ресурс" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>6</Код>
							<Наименование> --&gt; ЭтоГруппа</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Группа Отключить="false">
					<Код>Договоры</Код>
					<Наименование>Договоры</Наименование>
					<Порядок>750</Порядок>
					<Правило>
						<Код>ДоговорыКонтрагентов</Код>
						<Наименование>ДоговорыКонтрагентов</Наименование>
						<Порядок>50</Порядок>
						<ПередВыгрузкой>Если Источник.ЭтоГруппа 
	ИЛИ Источник.ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.Прочее
	ИЛИ Источник.ВедениеВзаиморасчетов = Перечисления.ВедениеВзаиморасчетовПоДоговорам.УдалитьПоРасчетнымДокументам Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьМенеджераВДокумент);
Объект.ХозяйственнаяОперация = Справочники.ДоговорыКонтрагентов.ХозяйственнаяОперация(Объект.ТипДоговора,
	Объект.ВариантОформленияЗакупок);
		
Если Перечисления.ТипыДоговоров.ЭтоДоговорПродажи(Объект.ТипДоговора) Тогда
    
    ПараметрыЗаполнения = Справочники.ДоговорыКонтрагентов.ПараметрыЗаполненияНалогообложенияНДСПродажи(Объект);
    УчетНДСУП.ЗаполнитьНалогообложениеНДСПродажи(Объект.НалогообложениеНДС, ПараметрыЗаполнения);

ИначеЕсли  Перечисления.ТипыДоговоров.ЭтоДоговорЗакупки(Объект.ТипДоговора) Тогда
    
    ПараметрыЗаполнения = Справочники.ДоговорыКонтрагентов.ПараметрыЗаполненияНалогообложенияНДСЗакупки(Объект);
    УчетНДСУП.ЗаполнитьНалогообложениеНДСЗакупки(Объект.НалогообложениеНДС, ПараметрыЗаполнения);
    
    ПараметрыЗаполнения = Справочники.ДоговорыКонтрагентов.ПараметрыЗаполненияВидаДеятельностиНДС(Объект);
    УчетНДСУП.ЗаполнитьВидДеятельностиНДС(Объект.ЗакупкаПодДеятельность, ПараметрыЗаполнения);
    
КонецЕсли;
ЗаполнениеОбъектовПоСтатистике.ЗаполнитьРеквизитыОбъекта(Объект, "ПорядокРасчетов");

Если Объект.ПорядокРасчетов = Перечисления.ПорядокРасчетов.ПоДоговорамКонтрагентов и ЗначениеЗаполнено(Объект.Дата) и ЗначениеЗаполнено(Объект.Номер) Тогда
	Объект.ИдентификаторПлатежа = ОбщегоНазначенияУТ.ПолучитьУникальныйИдентификаторПлатежа(Объект);
Иначе
	Объект.ИдентификаторПлатежа = Неопределено;
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>СправочникСсылка.ДоговорыКонтрагентов</Источник>
						<Приемник>СправочникСсылка.ДоговорыКонтрагентов</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>6</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>11</Код>
								<Наименование>Владелец --&gt; Контрагент</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
								<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>5</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>18</Код>
								<Наименование>ВидДоговора --&gt; ТипДоговора</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="ВидДоговора" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыДоговоровКонтрагентов"/>
								<Приемник Имя="ТипДоговора" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыДоговоров"/>
								<КодПравилаКонвертации>ТипыДоговоров</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>ВалютаВзаиморасчетов --&gt; ВалютаВзаиморасчетов</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
								<Приемник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
								<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>Наименование --&gt; НаименованиеДляПечати</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="НаименованиеДляПечати" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>ВидДоговора --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="ВидДоговора" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыДоговоровКонтрагентов"/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<КодПравилаКонвертации>ВидыДоговоровКонтрагентов_ХозяйственныеОперации</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>Владелец --&gt; Партнер</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
								<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
								<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Дата" Вид="Реквизит" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Реквизит" Тип="Дата"/>
								<ПриВыгрузке>Если НЕ ЗначениеЗаполнено(Значение) Тогда
	Значение = Параметры.ДатаОстатков;
КонецЕсли;</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>--&gt; ДатаНачалаДействия</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДатаНачалаДействия" Вид="Реквизит" Тип="Дата"/>
								<ПередВыгрузкой>Дата = Дата('19800101');</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>СрокДействия --&gt; ДатаОкончанияДействия</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="СрокДействия" Вид="Реквизит" Тип="Дата"/>
								<Приемник Имя="ДатаОкончанияДействия" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
								<ПриВыгрузке>Если НЕ ЗначениеЗаполнено(Значение) Тогда
	Значение = Источник.Код;
КонецЕсли;</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>ВедениеВзаиморасчетов --&gt; ПорядокРасчетов</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="ВедениеВзаиморасчетов" Вид="Реквизит" Тип="ПеречислениеСсылка.ВедениеВзаиморасчетовПоДоговорам"/>
								<Приемник Имя="ПорядокРасчетов" Вид="Реквизит" Тип="ПеречислениеСсылка.ПорядокРасчетов"/>
								<КодПравилаКонвертации>ВедениеВзаиморасчетовПоДоговорам_ПорядокРасчетов</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>--&gt; Согласован</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Согласован" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>ДопустимаяСуммаЗадолженности --&gt; ДопустимаяСуммаЗадолженности</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="ДопустимаяСуммаЗадолженности" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="ДопустимаяСуммаЗадолженности" Вид="Реквизит" Тип=""/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>--&gt; Статус</Наименование>
								<Порядок>900</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Статус" Вид="Реквизит" Тип="ПеречислениеСсылка.СтатусыДоговоровКонтрагентов"/>
								<ПередВыгрузкой>Значение = "Действует";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>950</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>--&gt; Менеджер</Наименование>
								<Порядок>1000</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Менеджер" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи</КодПравилаКонвертации>
								<ПередВыгрузкой>Значение = Источник.Владелец.ОсновнойМенеджерПокупателя;
Если НЕ ЗначениеЗаполнено(Значение) Тогда
	Пусто = Истина;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>ВидАгентскогоДоговора --&gt; ВидАгентскогоДоговора</Наименование>
								<Порядок>1050</Порядок>
								<Источник Имя="ВидАгентскогоДоговора" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыАгентскихДоговоров"/>
								<Приемник Имя="ВидАгентскогоДоговора" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыАгентскихДоговоров"/>
								<КодПравилаКонвертации>ВидыАгентскихДоговоров</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование>УчетАгентскогоНДС --&gt; УчетАгентскогоНДС</Наименование>
								<Порядок>1100</Порядок>
								<Источник Имя="УчетАгентскогоНДС" Вид="Реквизит" Тип="Булево"/>
								<Приемник Имя="УчетАгентскогоНДС" Вид="Реквизит" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>--&gt; ВариантОформленияЗакупок</Наименование>
								<Порядок>1150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВариантОформленияЗакупок" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыОформленияЗакупок"/>
								<ПередВыгрузкой>Значение = "НеРазделять";</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ДоговорСПоставщикомСоглашениеСКомитентом</Код>
						<Наименование>ДоговорСПоставщикомСоглашениеСКомитентом</Наименование>
						<Порядок>100</Порядок>
						<ПередВыгрузкой>КлючВыгружаемыхДанных = Источник.Ссылка;</ПередВыгрузкой>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьМенеджераВДокумент);</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>СправочникСсылка.ДоговорыКонтрагентов</Источник>
						<Приемник>СправочникСсылка.СоглашенияСПоставщиками</Приемник>
						<Свойства>
							<Свойство>
								<Код>1</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Дата" Вид="Реквизит" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>3</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование> --&gt; Статус</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Статус" Вид="Реквизит" Тип="ПеречислениеСсылка.СтатусыСоглашенийСПоставщиками"/>
								<ПередВыгрузкой>Значение = "Действует";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование> --&gt; Согласован</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Согласован" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>СрокДействия --&gt; ДатаОкончанияДействия</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="СрокДействия" Вид="Реквизит" Тип="Дата"/>
								<Приемник Имя="ДатаОкончанияДействия" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>8</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ПриемНаКомиссию";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>9</Код>
								<Наименование>--&gt; ЦенаВключаетНДС</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Если ТипЗнч(Источник) = Тип("СправочникСсылка.ДоговорыКонтрагентов") И ЗначениеЗаполнено(Источник.ТипЦен) Тогда
	Значение = ОбщегоНазначения.ПолучитьЗначениеРеквизита(Источник.ТипЦен, "ЦенаВключаетНДС");
Иначе	
	Значение = Истина;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>13</Код>
								<Наименование>ВалютаВзаиморасчетов --&gt; Валюта</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
								<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
								<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>14</Код>
								<Наименование>Владелец --&gt; Партнер</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
								<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
								<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>ПроцентКомиссионногоВознаграждения --&gt; ПроцентВознаграждения</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="ПроцентКомиссионногоВознаграждения" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="ПроцентВознаграждения" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>СпособРасчетаКомиссионногоВознаграждения --&gt; СпособРасчетаВознаграждения</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="СпособРасчетаКомиссионногоВознаграждения" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыРасчетаКомиссионногоВознаграждения"/>
								<Приемник Имя="СпособРасчетаВознаграждения" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыРасчетаКомиссионногоВознаграждения"/>
								<ПриВыгрузке>Если Не ЗначениеЗаполнено(Значение) Тогда
	Значение = "НеРассчитывается";
КонецЕсли;</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование> --&gt; ИспользуютсяДоговорыКонтрагентов</Наименование>
								<Порядок>950</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ИспользуютсяДоговорыКонтрагентов" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование> --&gt; ВариантПриемкиТоваров</Наименование>
								<Порядок>1050</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВариантПриемкиТоваров" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыПриемкиТоваров"/>
								<ПередВыгрузкой>Значение = "РазделенаПоЗаказамИНакладным";</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>10</Код>
								<Наименование> --&gt; ДополнительныеРеквизиты</Наименование>
								<Порядок>1100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПереносСвойств);</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>11</Код>
									<Наименование> --&gt; Значение</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Значение" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование> --&gt; Свойство</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ДоговорСПоставщикомСоглашениеСПоставщиком</Код>
						<Наименование>ДоговорСПоставщикомСоглашениеСПоставщиком</Наименование>
						<Порядок>150</Порядок>
						<ПередВыгрузкой>КлючВыгружаемыхДанных = Источник.Ссылка;</ПередВыгрузкой>
						<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьМенеджераВДокумент);</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>СправочникСсылка.ДоговорыКонтрагентов</Источник>
						<Приемник>СправочникСсылка.СоглашенияСПоставщиками</Приемник>
						<Свойства>
							<Свойство>
								<Код>1</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Дата" Вид="Реквизит" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>5</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование> --&gt; Статус</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Статус" Вид="Реквизит" Тип="ПеречислениеСсылка.СтатусыСоглашенийСПоставщиками"/>
								<ПередВыгрузкой>Значение = "Действует";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование> --&gt; Согласован</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Согласован" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>СрокДействия --&gt; ДатаОкончанияДействия</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="СрокДействия" Вид="Реквизит" Тип="Дата"/>
								<Приемник Имя="ДатаОкончанияДействия" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>8</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ЗакупкаУПоставщика";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>9</Код>
								<Наименование>--&gt; ЦенаВключаетНДС</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Если ТипЗнч(Источник) = Тип("СправочникСсылка.ДоговорыКонтрагентов") И ЗначениеЗаполнено(Источник.ТипЦен) Тогда
	Значение = ОбщегоНазначения.ПолучитьЗначениеРеквизита(Источник.ТипЦен, "ЦенаВключаетНДС");
Иначе	
	Значение = Истина;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>10</Код>
								<Наименование>ВалютаВзаиморасчетов --&gt; Валюта</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
								<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
								<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>11</Код>
								<Наименование>Владелец --&gt; Партнер</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
								<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
								<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование> --&gt; ИспользуютсяДоговорыКонтрагентов</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ИспользуютсяДоговорыКонтрагентов" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование> --&gt; ВариантПриемкиТоваров</Наименование>
								<Порядок>950</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВариантПриемкиТоваров" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыПриемкиТоваров"/>
								<ПередВыгрузкой>Значение = "РазделенаПоЗаказамИНакладным";</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>12</Код>
								<Наименование> --&gt; ДополнительныеРеквизиты</Наименование>
								<Порядок>1000</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПереносСвойств);</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>13</Код>
									<Наименование> --&gt; Значение</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Значение" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>14</Код>
									<Наименование> --&gt; Свойство</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ДоговорСПокупателемСоглашениеСКомиссионером</Код>
						<Наименование>ДоговорСПокупателемСоглашениеСКомиссионером</Наименование>
						<Порядок>200</Порядок>
						<ПередВыгрузкой>Если ТипЗнч(Источник) = Тип("СправочникСсылка.ДоговорыКонтрагентов") Тогда
	КлючВыгружаемыхДанных = Источник.Ссылка;
Иначе
	КлючВыгружаемыхДанных = Источник.Наименование + Источник.Владелец;
КонецЕсли;</ПередВыгрузкой>
						<ПослеЗагрузки>Если Не ЗначениеЗаполнено(Объект.Валюта) Тогда
	Объект.Валюта = ДоходыИРасходыСервер.ПолучитьВалютуУправленческогоУчета(Объект.Валюта);
КонецЕсли;

Выполнить(Алгоритмы.УстановитьМенеджераВДокумент);

//Занесем данные об объекте в таблицу отложенной обработки 
НоваяСтрока = Параметры.ЗагруженныеОбъектыПереноса.Добавить();
НоваяСтрока.ИмяПКО = "ДоговорСПокупателемСоглашениеСКомиссионером";
НоваяСтрока.Объект = Объект;
НоваяСтрока.Параметры = ПараметрыОбъекта;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>СправочникСсылка.ДоговорыКонтрагентов</Источник>
						<Приемник>СправочникСсылка.СоглашенияСКлиентами</Приемник>
						<Свойства>
							<Свойство>
								<Код>1</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Дата" Вид="Реквизит" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>3</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>--&gt; Статус</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Статус" Вид="Реквизит" Тип="ПеречислениеСсылка.СтатусыСоглашенийСКлиентами"/>
								<ПередВыгрузкой>Значение = "Действует";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>--&gt; Согласован</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Согласован" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>СрокДействия --&gt; ДатаОкончанияДействия</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="СрокДействия" Вид="Реквизит" Тип="Дата"/>
								<Приемник Имя="ДатаОкончанияДействия" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; Типовое</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Типовое" Вид="Реквизит" Тип="Булево"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>15</Код>
								<Наименование> --&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "ПередачаНаКомиссию";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>16</Код>
								<Наименование>--&gt; ЦенаВключаетНДС</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Если ТипЗнч(Источник) = Тип("СправочникСсылка.ДоговорыКонтрагентов") И ЗначениеЗаполнено(Источник.ТипЦен) Тогда
	Значение = ОбщегоНазначения.ПолучитьЗначениеРеквизита(Источник.ТипЦен, "ЦенаВключаетНДС");
Иначе	
	Значение = Истина;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>12</Код>
								<Наименование>ВалютаВзаиморасчетов --&gt; Валюта</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
								<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
								<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>14</Код>
								<Наименование>Владелец --&gt; Партнер</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
								<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
								<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>ПроцентКомиссионногоВознаграждения --&gt; ПроцентВознаграждения</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="ПроцентКомиссионногоВознаграждения" Вид="Реквизит" Тип="Число"/>
								<Приемник Имя="ПроцентВознаграждения" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>СпособРасчетаКомиссионногоВознаграждения --&gt; СпособРасчетаВознаграждения</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="СпособРасчетаКомиссионногоВознаграждения" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыРасчетаКомиссионногоВознаграждения"/>
								<Приемник Имя="СпособРасчетаВознаграждения" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыРасчетаКомиссионногоВознаграждения"/>
								<ПриВыгрузке>Если Не ЗначениеЗаполнено(Значение) Тогда
	Значение = "НеРассчитывается";
КонецЕсли;</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>ТипЦен --&gt; ВидЦен</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="ТипЦен" Вид="Реквизит"/>
								<Приемник Имя="ВидЦен" Вид="Реквизит" Тип="СправочникСсылка.ВидыЦен"/>
								<КодПравилаКонвертации>ТипыЦенНоменклатуры_ВидыЦен</КодПравилаКонвертации>
								<ПередВыгрузкой>Если ТипЗнч(Источник.ТипЦен) &lt;&gt; Тип("СправочникСсылка.ТипыЦенНоменклатуры") Тогда
	ИмяПКО = "";
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>--&gt; Соглашение</Наименование>
								<Порядок>900</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Соглашение" Вид="Реквизит" Тип="СправочникСсылка.СоглашенияСКлиентами"/>
								<КодПравилаКонвертации>ДоговорСПокупателемСоглашениеСКомиссионером</КодПравилаКонвертации>
								<ПередВыгрузкой>//
Значение = Новый Структура;
Значение.Вставить("Дата");
Значение.Вставить("СрокДействия");
Значение.Вставить("Номер");
Значение.Вставить("Организация");
Значение.Вставить("ПометкаУдаления", Ложь);
Значение.Вставить("Владелец");
Значение.Вставить("Комментарий", "УТ103 -&gt; УТ11");
Значение.Вставить("Наименование", НСтр("ru='Типовое соглашение с комиссионерами'"));
Значение.Вставить("Статус", "Действует");
Значение.Вставить("Типовое", Истина);
Значение.Вставить("ТипЦен");
Значение.Вставить("ПроцентКомиссионногоВознаграждения");
Значение.Вставить("СпособРасчетаКомиссионногоВознаграждения");
Значение.Вставить("НалогообложениеНДС", "ПродажаОблагаетсяНДС");
Значение.Вставить("ВалютаВзаиморасчетов", Источник.ВалютаВзаиморасчетов);
Значение.Вставить("РасчетыВУсловныхЕдиницах", Источник.РасчетыВУсловныхЕдиницах);

Если ТипЗнч(Источник) = Тип("СправочникСсылка.ДоговорыКонтрагентов") Тогда
	Если ТипЗнч(Источник.ТипЦен) = Тип("СправочникСсылка.ТипыЦенНоменклатуры") Тогда
		Значение.Вставить("ЦенаВключаетНДС", Источник.ТипЦен.ЦенаВключаетНДС);	
	Иначе
		Значение.Вставить("ЦенаВключаетНДС", Ложь);	
	КонецЕсли;
Иначе	
	Значение.Вставить("ЦенаВключаетНДС", Истина);
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование> --&gt; ИспользуютсяДоговорыКонтрагентов</Наименование>
								<Порядок>950</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ИспользуютсяДоговорыКонтрагентов" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>9</Код>
								<Наименование> --&gt; ДополнительныеРеквизиты</Наименование>
								<Порядок>1050</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>Если ТипЗнч(Источник) &lt;&gt; Тип("СправочникСсылка.ДоговорыКонтрагентов") Тогда
	Если Источник.Типовое Тогда
		Отказ = Истина;	
	Иначе
		Выполнить(Алгоритмы.ПереносСвойств);
	КонецЕсли;
Иначе
	Выполнить(Алгоритмы.ПереносСвойств);
КонецЕсли;</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>10</Код>
									<Наименование> --&gt; Значение</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Значение" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>11</Код>
									<Наименование> --&gt; Свойство</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ДоговорСПокупателемСоглашениеСКлиентом</Код>
						<Наименование>ДоговорСПокупателемСоглашениеСКлиентом</Наименование>
						<Порядок>250</Порядок>
						<ПередВыгрузкой>Если ТипЗнч(Источник) = Тип("СправочникСсылка.ДоговорыКонтрагентов") Тогда
	КлючВыгружаемыхДанных = Источник.Ссылка;
Иначе
	КлючВыгружаемыхДанных = Источник.Наименование + Источник.Владелец;
КонецЕсли;</ПередВыгрузкой>
						<ПослеЗагрузки>Если Не ЗначениеЗаполнено(Объект.Валюта) Тогда
	Объект.Валюта = ДоходыИРасходыСервер.ПолучитьВалютуУправленческогоУчета(Объект.Валюта);
КонецЕсли;

Выполнить(Алгоритмы.УстановитьМенеджераВДокумент);

//Занесем данные об объекте в таблицу отложенной обработки 
НоваяСтрока = Параметры.ЗагруженныеОбъектыПереноса.Добавить();
НоваяСтрока.ИмяПКО = "ДоговорСПокупателемСоглашениеСКлиентом";
НоваяСтрока.Объект = Объект;
НоваяСтрока.Параметры = ПараметрыОбъекта;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>СправочникСсылка.ДоговорыКонтрагентов</Источник>
						<Приемник>СправочникСсылка.СоглашенияСКлиентами</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>3</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>8</Код>
								<Наименование>--&gt; ХозяйственнаяОперация</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
								<ПередВыгрузкой>Значение = "РеализацияКлиенту";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>9</Код>
								<Наименование>--&gt; ЦенаВключаетНДС</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Если ТипЗнч(Источник) = Тип("СправочникСсылка.ДоговорыКонтрагентов") И ЗначениеЗаполнено(Источник.ТипЦен) Тогда
	Значение = ОбщегоНазначения.ПолучитьЗначениеРеквизита(Источник.ТипЦен, "ЦенаВключаетНДС");
Иначе	
	Значение = Истина;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>10</Код>
								<Наименование>ВалютаВзаиморасчетов --&gt; Валюта</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="ВалютаВзаиморасчетов" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
								<Приемник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
								<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>11</Код>
								<Наименование>Владелец --&gt; Партнер</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
								<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
								<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>1</Код>
								<Наименование>Дата --&gt; Дата</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Дата" Вид="Реквизит" Тип="Дата"/>
								<Приемник Имя="Дата" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>Номер --&gt; Номер</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>Организация --&gt; Организация</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
								<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>--&gt; Статус</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Статус" Вид="Реквизит" Тип="ПеречислениеСсылка.СтатусыСоглашенийСКлиентами"/>
								<ПередВыгрузкой>Значение = "Действует";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>--&gt; Согласован</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Согласован" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>СрокДействия --&gt; ДатаОкончанияДействия</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="СрокДействия" Вид="Реквизит" Тип="Дата"/>
								<Приемник Имя="ДатаОкончанияДействия" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>--&gt; Типовое</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Типовое" Вид="Реквизит" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>ТипЦен --&gt; ВидЦен</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="ТипЦен" Вид="Реквизит"/>
								<Приемник Имя="ВидЦен" Вид="Реквизит" Тип="СправочникСсылка.ВидыЦен"/>
								<КодПравилаКонвертации>ТипыЦенНоменклатуры_ВидыЦен</КодПравилаКонвертации>
								<ПередВыгрузкой>Если ТипЗнч(Источник.ТипЦен) &lt;&gt; Тип("СправочникСсылка.ТипыЦенНоменклатуры") Тогда
	ИмяПКО = "";	
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>--&gt; Соглашение</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Соглашение" Вид="Реквизит" Тип="СправочникСсылка.СоглашенияСКлиентами"/>
								<КодПравилаКонвертации>ДоговорСПокупателемСоглашениеСКлиентом</КодПравилаКонвертации>
								<ПередВыгрузкой>Значение = Новый Структура;
Значение.Вставить("Дата");
Значение.Вставить("СрокДействия");
Значение.Вставить("Номер");
Значение.Вставить("Организация");
Значение.Вставить("ПометкаУдаления", Ложь);
Значение.Вставить("Владелец");
Значение.Вставить("Комментарий", "УТ103 -&gt; УТ11");
Значение.Вставить("Наименование", НСтр("ru='Типовое соглашение с клиентами'"));
Значение.Вставить("Статус", "Действует");
Значение.Вставить("Типовое", Истина);
Значение.Вставить("ТипЦен");
Значение.Вставить("НалогообложениеНДС", "ПродажаОблагаетсяНДС");
Значение.Вставить("ВалютаВзаиморасчетов", Источник.ВалютаВзаиморасчетов);
Значение.Вставить("РасчетыВУсловныхЕдиницах", Источник.РасчетыВУсловныхЕдиницах);

Если ТипЗнч(Источник) = Тип("СправочникСсылка.ДоговорыКонтрагентов") Тогда
	Если ТипЗнч(Источник.ТипЦен) = Тип("СправочникСсылка.ТипыЦенНоменклатуры") Тогда
		Значение.Вставить("ЦенаВключаетНДС", Источник.ТипЦен.ЦенаВключаетНДС);	
	Иначе
		Значение.Вставить("ЦенаВключаетНДС", Ложь);	
	КонецЕсли;
Иначе	
	Значение.Вставить("ЦенаВключаетНДС", Истина);
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование> --&gt; ИспользуютсяДоговорыКонтрагентов</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ИспользуютсяДоговорыКонтрагентов" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>17</Код>
								<Наименование> --&gt; ДополнительныеРеквизиты</Наименование>
								<Порядок>950</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>Если ТипЗнч(Источник) &lt;&gt; Тип("СправочникСсылка.ДоговорыКонтрагентов") Тогда
	Если Источник.Типовое Тогда
		Отказ = Истина;	
	Иначе
		Выполнить(Алгоритмы.ПереносСвойств);
	КонецЕсли;
Иначе
	Выполнить(Алгоритмы.ПереносСвойств);
КонецЕсли;</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>18</Код>
									<Наименование> --&gt; Значение</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Значение" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>19</Код>
									<Наименование> --&gt; Свойство</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
				<Группа Отключить="false">
					<Код>Контрагенты</Код>
					<Наименование>Контрагенты</Наименование>
					<Порядок>800</Порядок>
					<Правило>
						<Код>Контрагенты_Партнеры</Код>
						<Наименование>Контрагенты_Партнеры</Наименование>
						<Порядок>50</Порядок>
						<ПередВыгрузкой>Если Источник.ЭтоГруппа Тогда
	Отказ = Истина;
КонецЕсли;

КлючВыгружаемыхДанных = Источник.Ссылка;</ПередВыгрузкой>
						<ПослеЗагрузки>Параметры.МассивЗагруженныхПартнеров.Добавить(Объект);

//КоличествоСтрок = Объект.КонтактнаяИнформация.Количество();
//Для ОбратныйИндекс = 1 По КоличествоСтрок Цикл
//	
//	Строка = Объект.КонтактнаяИнформация.Получить(КоличествоСтрок - ОбратныйИндекс);
//	НаименованиеВида = ОбщегоНазначения.ПолучитьЗначениеРеквизита(Строка.Вид, "Наименование");
//	
//	Если Не Параметры.ЭтоБазоваяВерсия Или НаименованиеВида = НСтр("ru='Юридический адрес юр.лица'") Тогда
//		Если Строка.Вид &lt;&gt; Справочники.ВидыКонтактнойИнформации.АдресПартнера
//			И Строка.Вид &lt;&gt; Справочники.ВидыКонтактнойИнформации.ТелефонПартнера
//			И Строка.Вид &lt;&gt; Справочники.ВидыКонтактнойИнформации.EmailПартнера Тогда
//			
//			Объект.КонтактнаяИнформация.Удалить(Строка);
//			
//		КонецЕсли;
//	КонецЕсли;
//	
//КонецЦикла;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>СправочникСсылка.Контрагенты</Источник>
						<Приемник>СправочникСсылка.Партнеры</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Код --&gt; Код</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>Комментарий --&gt; Комментарий</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>Поставщик --&gt; Поставщик</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Поставщик" Вид="Реквизит" Тип="Булево"/>
								<Приемник Имя="Поставщик" Вид="Реквизит" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>ОсновнойМенеджерПокупателя --&gt; ОсновнойМенеджер</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="ОсновнойМенеджерПокупателя" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="ОсновнойМенеджер" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
								<КодПравилаКонвертации>Пользователи</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>ГоловнойКонтрагент --&gt; Родитель</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="ГоловнойКонтрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Партнеры"/>
								<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
								<ПриВыгрузке>Если Значение = Источник.Ссылка Тогда
	Отказ = Истина;	
КонецЕсли;</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>Покупатель --&gt; Клиент</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="Покупатель" Вид="Реквизит" Тип="Булево"/>
								<Приемник Имя="Клиент" Вид="Реквизит" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>29</Код>
								<Наименование> --&gt; ПрочиеОтношения</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПрочиеОтношения" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Если Не (Источник.Ссылка.Поставщик Или Источник.Ссылка.Покупатель) Тогда
	Значение = Истина;
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>ГруппаДоступаККонтрагенту --&gt; ГруппаДоступа</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="ГруппаДоступаККонтрагенту" Вид="Реквизит" Тип="СправочникСсылка.ГруппыДоступаККонтрагентам"/>
								<Приемник Имя="ГруппаДоступа" Вид="Реквизит" Тип="СправочникСсылка.ГруппыДоступаПартнеров"/>
								<КодПравилаКонвертации>ГруппыДоступаПартнеров</КодПравилаКонвертации>
								<ПередВыгрузкой>Если Не ЗначениеЗаполнено(Источник.ГруппаДоступаККонтрагенту) Тогда
	Значение = "1";
	ИмяПКО = "ГруппыДоступаПартнеровПоУмолчанию";
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>28</Код>
								<Наименование> --&gt; ДатаРегистрации</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДатаРегистрации" Вид="Реквизит" Тип="Дата"/>
								<ПередВыгрузкой>Значение = ТекущаяДата();</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>30</Код>
								<Наименование>ЮрФизЛицо --&gt; ЮрФизЛицо</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
								<Приемник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.КомпанияЧастноеЛицо"/>
								<КодПравилаКонвертации>ЮрФизЛицо_КомпанияЧастноеЛицо</КодПравилаКонвертации>
							</Свойство>
							<Группа>
								<Код>10</Код>
								<Наименование>--&gt; ДополнительныеРеквизиты</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПереносСвойств);</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>11</Код>
									<Наименование> --&gt; Значение</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Значение" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование> --&gt; Свойство</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
								</Свойство>
							</Группа>
							<Группа>
								<Код>16</Код>
								<Наименование>--&gt; КонтактнаяИнформация</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>// Для партнера выгружается только адрес, телефон и e-mail
Выполнить(Алгоритмы.ПереносКИ);

Если Параметры.НезависимоВестиПартнеровИКонтрагентов Тогда
	КоличествоСтрок = КоллекцияОбъектов.Количество();
	Для ОбратныйИндекс = 1 По КоличествоСтрок Цикл
		
		Строка = КоллекцияОбъектов.Получить(КоличествоСтрок - ОбратныйИндекс);
		
		Если Строка.Вид &lt;&gt; Справочники.ВидыКонтактнойИнформации.ФактАдресКонтрагента
			И Строка.Вид &lt;&gt; Справочники.ВидыКонтактнойИнформации.ТелефонКонтрагента
			И Строка.Вид &lt;&gt; Справочники.ВидыКонтактнойИнформации.АдресЭлектроннойПочтыКонтрагентаДляОбменаДокументами Тогда
			
			КоллекцияОбъектов.Удалить(Строка);
			
		КонецЕсли;
		
	КонецЦикла;
Иначе
	
	// И всегда удаляем юр.адрес контрагента, т.к. он из КИ контрагента на форму партнера будет выводиться
	КоличествоСтрок = КоллекцияОбъектов.Количество();
	Для ОбратныйИндекс = 1 По КоличествоСтрок Цикл
		Строка = КоллекцияОбъектов.Получить(КоличествоСтрок - ОбратныйИндекс);
		Если Строка.Вид = Справочники.ВидыКонтактнойИнформации.ЮрАдресКонтрагента Тогда
			КоллекцияОбъектов.Удалить(Строка);
		КонецЕсли;
	КонецЦикла;
	
КонецЕсли;</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>17</Код>
									<Наименование>--&gt; АдресЭП</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>18</Код>
									<Наименование>--&gt; Вид</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
									<КодПравилаКонвертации>ВидыКонтактнойИнформацииПартнеры</КодПравилаКонвертации>
									<ПередВыгрузкой>Если ТипЗнч(ОбъектКоллекции.Вид) = Тип("Строка") Тогда
	Значение = Новый Структура("Тип,Наименование", ОбъектКоллекции.Тип, ОбъектКоллекции.Вид);
КонецЕсли;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>19</Код>
									<Наименование> --&gt; Город</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>20</Код>
									<Наименование> --&gt; ДоменноеИмяСервера</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>21</Код>
									<Наименование> --&gt; ЗначенияПолей</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>22</Код>
									<Наименование> --&gt; НомерТелефона</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>23</Код>
									<Наименование> --&gt; НомерТелефонаБезКодов</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>24</Код>
									<Наименование> --&gt; Представление</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>25</Код>
									<Наименование> --&gt; Регион</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>26</Код>
									<Наименование> --&gt; Страна</Наименование>
									<Порядок>500</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>27</Код>
									<Наименование> --&gt; Тип</Наименование>
									<Порядок>550</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
								</Свойство>
							</Группа>
							<Свойство>
								<Код>31</Код>
								<Наименование>Регион --&gt; БизнесРегион</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="Регион" Вид="Реквизит" Тип="СправочникСсылка.Регионы"/>
								<Приемник Имя="БизнесРегион" Вид="Реквизит" Тип="СправочникСсылка.БизнесРегионы"/>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>Контрагенты_Контрагенты</Код>
						<Наименование>Контрагенты_Контрагенты</Наименование>
						<Порядок>100</Порядок>
						<ПередВыгрузкой>КлючВыгружаемыхДанных = Источник.Ссылка;;</ПередВыгрузкой>
						<ПослеЗагрузки>Если Не ЗначениеЗаполнено(Объект.Ссылка) Тогда
	Объект.Записать();
КонецЕсли;

Если Не ЗначениеЗаполнено(Объект.ГоловнойКонтрагент) Тогда
	Объект.ГоловнойКонтрагент = Объект.Ссылка;
ИначеЕсли Объект.ГоловнойКонтрагент &lt;&gt; Объект.Ссылка Тогда
	Объект.ОбособленноеПодразделение = Истина;
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>СправочникСсылка.Контрагенты</Источник>
						<Приемник>СправочникСсылка.Контрагенты</Приемник>
						<Свойства>
							<Свойство>
								<Код>1</Код>
								<Наименование>ИНН --&gt; ИНН</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="ИНН" Вид="Реквизит" Тип=""/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>КодПоОКПО --&gt; КодПоОКПО</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>КПП --&gt; КПП</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство Поиск="true">
								<Код>4</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>ЮрФизЛицо --&gt; ЮрФизЛицо</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
								<Приемник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
								<КодПравилаКонвертации>ЮрФизЛицо</КодПравилаКонвертации>
								<ПередВыгрузкой>Если Источник.НеЯвляетсяРезидентом
	И Источник.ЮрФизЛицо = Перечисления.ЮрФизЛицо.ЮрЛицо Тогда
	
	Значение = "ЮрЛицоНеРезидент"; 
	ИмяПКО = "";
	
ИначеЕсли Источник.ЮрФизЛицо = Перечисления.ЮрФизЛицо.ФизЛицо
	И Найти(Источник.ОКОПФ.Наименование, "ИП") &gt; 0  Тогда
	
	Значение = "ИндивидуальныйПредприниматель";
	ИмяПКО = "";
	
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>ЮрФизЛицо --&gt; ЮридическоеФизическоеЛицо</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
								<Приемник Имя="ЮридическоеФизическоеЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮридическоеФизическоеЛицо"/>
								<КодПравилаКонвертации>ЮрФизЛицо_ЮридическоеФизическоеЛицо</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>--&gt; Партнер</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
								<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
								<ПередВыгрузкой>Значение = Источник.Ссылка;</ПередВыгрузкой>
							</Свойство>
							<Группа>
								<Код>9</Код>
								<Наименование>--&gt; КонтактнаяИнформация</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПереносКИ);

Если Не Параметры.НезависимоВестиПартнеровИКонтрагентов Тогда
	КоличествоСтрок = КоллекцияОбъектов.Количество();
	Для ОбратныйИндекс = 1 По КоличествоСтрок Цикл
		
		Строка = КоллекцияОбъектов.Получить(КоличествоСтрок - ОбратныйИндекс);
		
		Если Строка.Вид &lt;&gt; Справочники.ВидыКонтактнойИнформации.ЮрАдресКонтрагента Тогда
			
			КоллекцияОбъектов.Удалить(Строка);
			
		КонецЕсли;
		
	КонецЦикла;
КонецЕсли;</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>10</Код>
									<Наименование>--&gt; АдресЭП</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>11</Код>
									<Наименование>--&gt; Вид</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
									<КодПравилаКонвертации>ВидыКонтактнойИнформацииВсе</КодПравилаКонвертации>
									<ПередВыгрузкой>ИсходящиеДанные = "СправочникКонтрагенты";

Если ТипЗнч(ОбъектКоллекции.Вид) = Тип("Строка") Тогда
	Значение = Новый Структура("Тип,Наименование,ВидОбъектаКонтактнойИнформации", 
						ОбъектКоллекции.Тип, ОбъектКоллекции.Вид, Перечисления.ВидыОбъектовКонтактнойИнформации.Контрагенты);
КонецЕсли;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование>--&gt; Город</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>13</Код>
									<Наименование>--&gt; ДоменноеИмяСервера</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>14</Код>
									<Наименование>--&gt; ЗначенияПолей</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование>--&gt; НомерТелефона</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование>--&gt; НомерТелефонаБезКодов</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>17</Код>
									<Наименование>--&gt; Представление</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>18</Код>
									<Наименование>--&gt; Регион</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>19</Код>
									<Наименование>--&gt; Страна</Наименование>
									<Порядок>500</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>20</Код>
									<Наименование>--&gt; Тип</Наименование>
									<Порядок>550</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
								</Свойство>
							</Группа>
							<Свойство>
								<Код>22</Код>
								<Наименование>ГоловнойКонтрагент --&gt; ГоловнойКонтрагент</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="ГоловнойКонтрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<Приемник Имя="ГоловнойКонтрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>ОбособленноеПодразделение --&gt; ОбособленноеПодразделение</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="ОбособленноеПодразделение" Вид="Реквизит" Тип="Булево"/>
								<Приемник Имя="ОбособленноеПодразделение" Вид="Реквизит" Тип="Булево"/>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ГруппыДоступаПартнеров</Код>
						<Наименование>ГруппыДоступаПартнеров</Наименование>
						<Порядок>150</Порядок>
						<ПослеЗагрузки>Если Метаданные.Имя = "УправлениеТорговлейБазовая" Тогда
	Отказ = Истина;
Иначе
	Параметры.ЗагруженыГруппыДоступаПартнеров = Истина;
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>СправочникСсылка.ГруппыДоступаККонтрагентам</Источник>
						<Приемник>СправочникСсылка.ГруппыДоступаПартнеров</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ГруппыДоступаПартнеровПоУмолчанию</Код>
						<Наименование>ГруппыДоступаПартнеровПоУмолчанию</Наименование>
						<Порядок>200</Порядок>
						<Приемник>СправочникСсылка.ГруппыДоступаПартнеров</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>--&gt; Наименование</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<ПередВыгрузкой>Значение = НСтр("ru='По умолчанию'");</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>--&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
			</Группа>
			<Группа Отключить="false">
				<Код>ГруппаНоменклатура</Код>
				<Наименование>ГруппаНоменклатура</Наименование>
				<Порядок>850</Порядок>
				<Правило>
					<Код>Номенклатура</Код>
					<Наименование>Номенклатура</Наименование>
					<Порядок>150</Порядок>
					<ПередВыгрузкой>Выполнить(Алгоритмы.ВходящиеДанныеНоменклатуры);</ПередВыгрузкой>
					<ПослеЗагрузки>Если Не Объект.ЭтоГруппа Тогда
	//Занесем данные об объекте в таблицу отложенной обработки 
	НоваяСтрока = Параметры.ЗагруженныеОбъектыПереноса.Добавить();
	НоваяСтрока.ИмяПКО = "Номенклатура";
	НоваяСтрока.Объект = Объект;
	НоваяСтрока.Параметры = ПараметрыОбъекта;
КонецЕсли;

Объект.КодДляПоиска = ПрефиксацияОбъектовКлиентСервер.НомерНаПечать(Объект.Код, Истина);</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<Источник>СправочникСсылка.Номенклатура</Источник>
					<Приемник>СправочникСсылка.Номенклатура</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Артикул --&gt; Артикул</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Артикул" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Артикул" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ВидНоменклатуры --&gt; ВидНоменклатуры</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ВидНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.ВидыНоменклатуры"/>
							<Приемник Имя="ВидНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.ВидыНоменклатуры"/>
							<КодПравилаКонвертации>ВидыНоменклатуры</КодПравилаКонвертации>
							<ПередВыгрузкой>// Если номенклатура имеет характеристики, используем расширенные правила конвертации вида номенклатуры
// Наименование вида номенклатуры - наименование из Объекта назначения.
// Тип номенклатуры - из вида номенклатуры источника.
// Использование характеристик = Истина;
// Набор свойств номенклатуры - Создаем новый набор свойств через список свойств
// Набор свойств характеристик - Создаем новый набор свойств через список свойств

// Если номенклатура не имеет характеристик - то конвертируем стандартным способом

Если Не Источник.ЭтоГруппа Тогда
	
	СоздатьВидНоменклатуры_Номенклатура					= Источник.Ссылка;
	СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = ОбщегоНазначения.ПолучитьЗначениеРеквизита(Источник.ВидНоменклатуры, "Наименование");
	СоздатьВидНоменклатуры_ИспользоватьСерии			= Источник.ВестиУчетПоСериям И Параметры.РежимВыгрузкиСерий &gt; 0;
	СоздатьВидНоменклатуры_ТипНоменклатуры              = ВходящиеДанные.ТипНоменклатуры;
	СоздатьВидНоменклатуры_ИмпортнаяАлкогольнаяПродукция = ВходящиеДанные.АлкогольнаяПродукция И ВходящиеДанные.ВестиУчетПоГТД;
	СоздатьВидНоменклатуры_АлкогольнаяПродукция          = ВходящиеДанные.АлкогольнаяПродукция;
	СоздатьВидНоменклатуры_ВидАлкогольнойПродукции       = ВходящиеДанные.ВидАлкогольнойПродукции;
	Выполнить(Алгоритмы.СоздатьВидНоменклатуры);
	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>7</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>8</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>ЕдиницаХраненияОстатков --&gt; ЕдиницаИзмерения</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ЕдиницаХраненияОстатков" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
							<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
							<КодПравилаКонвертации>ЕдиницыИзмерения_ЕдиницыИзмерения</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>ЕдиницаДляОтчетов --&gt; ЕдиницаДляОтчетов</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ЕдиницаДляОтчетов" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
							<Приемник Имя="ЕдиницаДляОтчетов" Вид="Реквизит" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
							<КодПравилаКонвертации>ЕдиницыИзмерения_ЕдиницыИзмерения</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>26</Код>
							<Наименование>ЕдиницаДляОтчетов --&gt; КоэффициентЕдиницыДляОтчетов</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="ЕдиницаДляОтчетов" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
							<Приемник Имя="КоэффициентЕдиницыДляОтчетов" Вид="Реквизит" Тип="Число"/>
							<ПриВыгрузке>Если ЗначениеЗаполнено(Значение) Тогда
	Если ЗначениеЗаполнено(Источник.ЕдиницаХраненияОстатков) И Источник.ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 0 Тогда
		Значение = Значение.Коэффициент / Источник.ЕдиницаХраненияОстатков.Коэффициент;
	Иначе
		Значение = Значение.Коэффициент;
	КонецЕсли;	
Иначе
	Значение = 1;
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>--&gt; ВестиУчетПоГТД</Наименование>
							<Порядок>700</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВестиУчетПоГТД" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>ЦеноваяГруппа --&gt; ЦеноваяГруппа</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="ЦеноваяГруппа" Вид="Реквизит" Тип="СправочникСсылка.ЦеновыеГруппы"/>
							<Приемник Имя="ЦеноваяГруппа" Вид="Реквизит" Тип="СправочникСсылка.ЦеновыеГруппы"/>
							<КодПравилаКонвертации>ЦеновыеГруппыЦеновыеГруппы</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; ТипНоменклатуры</Наименование>
							<Порядок>800</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипНоменклатуры" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНоменклатуры"/>
							<ПриВыгрузке>Если ТипЗнч(Значение) &lt;&gt; Тип("Строка") Тогда
	ИмяПКО = "ТипыНоменклатуры";
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>Справочник_СтавкиНДС</КодПравилаКонвертации>
							<ПередВыгрузкой>Если Не ЗначениеЗаполнено(Источник.СтавкаНДС) Тогда
	Значение = "НДС20";
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>ОсновноеИзображение --&gt; ФайлКартинки</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="ОсновноеИзображение" Вид="Реквизит" Тип="СправочникСсылка.ХранилищеДополнительнойИнформации"/>
							<Приемник Имя="ФайлКартинки" Вид="Реквизит" Тип="СправочникСсылка.НоменклатураПрисоединенныеФайлы"/>
							<КодПравилаКонвертации>ФайлыНоменклатуры</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>--&gt; НаборУпаковок</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НаборУпаковок" Вид="Реквизит" Тип="СправочникСсылка.НаборыУпаковок"/>
							<ПередВыгрузкой>Если Параметры.ИспользоватьУпаковкиНоменклатуры
	И Источник.ВидНоменклатуры.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Товар Тогда
	Значение = "ИндивидуальныйДляНоменклатуры";
Иначе
	Значение = Неопределено;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>--&gt; Качество</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Качество" Вид="Реквизит" Тип="ПеречислениеСсылка.ГрадацииКачества"/>
							<ПередВыгрузкой>Значение = "Новый";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>--&gt; ИспользоватьУпаковки</Наименование>
							<Порядок>1050</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьУпаковки" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой> 
Значение = Ложь;
// Значение будет устанавливаться в "Истина" если есть единицы измерения, отличные от единицы хранения остатков

//Значение = Источник.ВидНоменклатуры.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Товар;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>ДополнительноеОписаниеНоменклатуры --&gt; Описание</Наименование>
							<Порядок>1100</Порядок>
							<Источник Имя="ДополнительноеОписаниеНоменклатуры" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Описание" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<НеЗамещать>true</НеЗамещать>
							<Код>24</Код>
							<Наименование>--&gt; ВариантОформленияПродажи</Наименование>
							<Порядок>1150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВариантОформленияПродажи" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыОформленияПродажи"/>
							<ПередВыгрузкой>Значение = "РеализацияТоваровУслуг";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>13</Код>
							<Наименование>--&gt; ДополнительныеРеквизиты</Наименование>
							<Порядок>1200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПереносСвойств);</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>14</Код>
								<Наименование> --&gt; Свойство</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
								<КодПравилаКонвертации>СвойстваОбъектов_ДополнительныеРеквизитыИСведения</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование> --&gt; Значение</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Значение" Вид="Реквизит" Тип=""/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>29</Код>
							<Наименование>--&gt; АлкогольнаяПродукция</Наименование>
							<Порядок>1250</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="АлкогольнаяПродукция" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>30</Код>
							<Наименование>--&gt; ВидАлкогольнойПродукции</Наименование>
							<Порядок>1300</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидАлкогольнойПродукции" Вид="Реквизит" Тип="СправочникСсылка.ВидыАлкогольнойПродукции"/>
							<КодПравилаКонвертации>ВидыАлкогольнойПродукции</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>31</Код>
							<Наименование>--&gt; ИмпортнаяАлкогольнаяПродукция</Наименование>
							<Порядок>1350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИмпортнаяАлкогольнаяПродукция" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = ВходящиеДанные.АлкогольнаяПродукция И ВходящиеДанные.ВестиУчетПоГТД;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>32</Код>
							<Наименование>Крепость --&gt; Крепость</Наименование>
							<Порядок>1400</Порядок>
							<Источник Имя="Крепость" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Крепость" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>33</Код>
							<Наименование>ОбъемДАЛ --&gt; ОбъемДАЛ</Наименование>
							<Порядок>1450</Порядок>
							<Источник Имя="ОбъемДАЛ" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="ОбъемДАЛ" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>34</Код>
							<Наименование>Комментарий --&gt; Комментарий</Наименование>
							<Порядок>1500</Порядок>
							<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>Комментарий</ИмяПараметраДляПередачи>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>НекачественнаяНоменклатура</Код>
					<Наименование>НекачественнаяНоменклатура</Наименование>
					<Порядок>200</Порядок>
					<ПередВыгрузкой>Выполнить(Алгоритмы.ВходящиеДанныеНоменклатуры);

КлючВыгружаемыхДанных = Строка(Источник.Ссылка.УникальныйИдентификатор()) + Строка(ВходящиеДанные.Качество.УникальныйИдентификатор());</ПередВыгрузкой>
					<ПослеЗагрузки>ТаблицаСоответствияКачественнойИНекачественнойНоменклатуры = Параметры.ТаблицаСоответствияКачественнойИНекачественнойНоменклатуры;

НоваяСтрока = ТаблицаСоответствияКачественнойИНекачественнойНоменклатуры.Добавить();
НоваяСтрока.КачественнаяНоменклатура	= ПараметрыОбъекта.Получить("СсылкаНаКачественнуюНоменклатуру");

Если Объект.ЭтоНовый() Тогда
	Объект.УстановитьСсылкуНового(Справочники.Номенклатура.ПолучитьСсылку(Новый УникальныйИдентификатор()));
	НоваяСтрока.НекачественнаяНоменклатура = Объект.ПолучитьСсылкуНового();
Иначе
	НоваяСтрока.НекачественнаяНоменклатура	= Ссылка;
КонецЕсли;

Объект.КодДляПоиска = ПрефиксацияОбъектовКлиентСервер.НомерНаПечать(Объект.Код, Истина);</ПослеЗагрузки>
					<Источник>СправочникСсылка.Номенклатура</Источник>
					<Приемник>СправочникСсылка.Номенклатура</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>Артикул --&gt; Артикул</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Артикул" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Артикул" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ВидНоменклатуры --&gt; ВидНоменклатуры</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ВидНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.ВидыНоменклатуры"/>
							<Приемник Имя="ВидНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.ВидыНоменклатуры"/>
							<КодПравилаКонвертации>ВидыНоменклатуры</КодПравилаКонвертации>
							<ПередВыгрузкой>
// Если номенклатура имеет характеристики, используем расширенные правила конвертации вида номенклатуры
// Наименование вида номенклатуры - наименование из Объекта назначения.
// Тип номенклатуры - из вида номенклатуры источника.
// Использование характеристик = Истина;
// Набор свойств номенклатуры - Создаем новый набор свойств через список свойств
// Набор свойств характеристик - Создаем новый набор свойств через список свойств

// Если номенклатура не имеет характеристик - то конвертируем стандартным способом

Если Не Источник.ЭтоГруппа Тогда
	
	СоздатьВидНоменклатуры_Номенклатура                 = Источник.Ссылка;
	СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = Источник.ВидНоменклатуры.Наименование;
	СоздатьВидНоменклатуры_ТипНоменклатуры              = Источник.ВидНоменклатуры.ТипНоменклатуры;
	СоздатьВидНоменклатуры_ИспользоватьСерии            = Источник.ВестиУчетПоСериям И Параметры.РежимВыгрузкиСерий &gt; 0;
	СоздатьВидНоменклатуры_ТипНоменклатуры              = ВходящиеДанные.ТипНоменклатуры;
	СоздатьВидНоменклатуры_ИмпортнаяАлкогольнаяПродукция = ВходящиеДанные.АлкогольнаяПродукция И ВходящиеДанные.ВестиУчетПоГТД;
	СоздатьВидНоменклатуры_АлкогольнаяПродукция          = ВходящиеДанные.АлкогольнаяПродукция;
	СоздатьВидНоменклатуры_ВидАлкогольнойПродукции       = ВходящиеДанные.ВидАлкогольнойПродукции;
	Выполнить(Алгоритмы.СоздатьВидНоменклатуры);
	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<ПередВыгрузкой>Значение = Источник.Наименование + " (" + Строка(ВходящиеДанные.Качество) + ")";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>8</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>ЕдиницаХраненияОстатков --&gt; ЕдиницаИзмерения</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ЕдиницаХраненияОстатков" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
							<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
							<КодПравилаКонвертации>ЕдиницыИзмерения_ЕдиницыИзмерения</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>ЕдиницаДляОтчетов --&gt; ЕдиницаДляОтчетов</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ЕдиницаДляОтчетов" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
							<Приемник Имя="ЕдиницаДляОтчетов" Вид="Реквизит" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
							<КодПравилаКонвертации>ЕдиницыИзмерения_ЕдиницыИзмерения</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>ЕдиницаДляОтчетов --&gt; КоэффициентЕдиницыДляОтчетов</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ЕдиницаДляОтчетов" Вид="Реквизит" Тип="СправочникСсылка.ЕдиницыИзмерения"/>
							<Приемник Имя="КоэффициентЕдиницыДляОтчетов" Вид="Реквизит" Тип="Число"/>
							<ПриВыгрузке>Если ЗначениеЗаполнено(Значение) Тогда
	Если ЗначениеЗаполнено(Источник.ЕдиницаХраненияОстатков) И Источник.ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 0 Тогда
		Значение = Значение.Коэффициент / Источник.ЕдиницаХраненияОстатков.Коэффициент;
	Иначе
		Значение = Значение.Коэффициент;
	КонецЕсли;
Иначе
	Значение = 1;
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>--&gt; ВестиУчетПоГТД</Наименование>
							<Порядок>550</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВестиУчетПоГТД" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>ЦеноваяГруппа --&gt; ЦеноваяГруппа</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="ЦеноваяГруппа" Вид="Реквизит" Тип="СправочникСсылка.ЦеновыеГруппы"/>
							<Приемник Имя="ЦеноваяГруппа" Вид="Реквизит" Тип="СправочникСсылка.ЦеновыеГруппы"/>
							<КодПравилаКонвертации>ЦеновыеГруппыЦеновыеГруппы</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; ТипНоменклатуры</Наименование>
							<Порядок>650</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипНоменклатуры" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНоменклатуры"/>
							<ПриВыгрузке>Если ТипЗнч(Значение) &lt;&gt; Тип("Строка") Тогда
	ИмяПКО = "ТипыНоменклатуры";
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="СправочникСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>Справочник_СтавкиНДС</КодПравилаКонвертации>
							<ПередВыгрузкой>Если Не ЗначениеЗаполнено(Источник.СтавкаНДС) Тогда
	Значение = Перечисления.СтавкиНДС.НДС20;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>ОсновноеИзображение --&gt; ФайлКартинки</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="ОсновноеИзображение" Вид="Реквизит" Тип="СправочникСсылка.ХранилищеДополнительнойИнформации"/>
							<Приемник Имя="ФайлКартинки" Вид="Реквизит" Тип="СправочникСсылка.НоменклатураПрисоединенныеФайлы"/>
							<КодПравилаКонвертации>ФайлыНоменклатуры</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>--&gt; НаборУпаковок</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НаборУпаковок" Вид="Реквизит" Тип="СправочникСсылка.НаборыУпаковок"/>
							<ПередВыгрузкой>Если Параметры.ИспользоватьУпаковкиНоменклатуры
	И Источник.ВидНоменклатуры.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Товар Тогда
	Значение = "ИндивидуальныйДляНоменклатуры";
Иначе
	Значение = Неопределено;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>20</Код>
							<Наименование>--&gt; Качество</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Качество" Вид="Реквизит" Тип="ПеречислениеСсылка.ГрадацииКачества"/>
							<ПередВыгрузкой>Значение = "ОграниченноГоден";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>--&gt; СсылкаНаКачественнуюНоменклатуру</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
							<ИмяПараметраДляПередачи>СсылкаНаКачественнуюНоменклатуру</ИмяПараметраДляПередачи>
							<ПередВыгрузкой>Значение = Источник.Ссылка;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>ДополнительноеОписаниеНоменклатуры --&gt; Описание</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="ДополнительноеОписаниеНоменклатуры" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Описание" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<НеЗамещать>true</НеЗамещать>
							<Код>23</Код>
							<Наименование>--&gt; ВариантОформленияПродажи</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВариантОформленияПродажи" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыОформленияПродажи"/>
							<ПередВыгрузкой>Значение = "РеализацияТоваровУслуг";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>13</Код>
							<Наименование>--&gt; ДополнительныеРеквизиты</Наименование>
							<Порядок>1050</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПереносСвойств);</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>15</Код>
								<Наименование> --&gt; Свойство</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
								<КодПравилаКонвертации>СвойстваОбъектов_ДополнительныеРеквизитыИСведения</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование> --&gt; Значение</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Значение" Вид="Реквизит" Тип=""/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>28</Код>
							<Наименование>--&gt; АлкогольнаяПродукция</Наименование>
							<Порядок>1100</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="АлкогольнаяПродукция" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>29</Код>
							<Наименование>--&gt; ВидАлкогольнойПродукции</Наименование>
							<Порядок>1150</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидАлкогольнойПродукции" Вид="Реквизит" Тип="СправочникСсылка.ВидыАлкогольнойПродукции"/>
							<КодПравилаКонвертации>ВидыАлкогольнойПродукции</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>30</Код>
							<Наименование>--&gt; ИмпортнаяАлкогольнаяПродукция</Наименование>
							<Порядок>1200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИмпортнаяАлкогольнаяПродукция" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = ВходящиеДанные.АлкогольнаяПродукция И ВходящиеДанные.ВестиУчетПоГТД;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>31</Код>
							<Наименование>Крепость --&gt; Крепость</Наименование>
							<Порядок>1250</Порядок>
							<Источник Имя="Крепость" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Крепость" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>32</Код>
							<Наименование>ОбъемДАЛ --&gt; ОбъемДАЛ</Наименование>
							<Порядок>1300</Порядок>
							<Источник Имя="ОбъемДАЛ" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="ОбъемДАЛ" Вид="Реквизит" Тип="Число"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ЕдиницыИзмерения_Упаковки</Код>
					<Наименование>ЕдиницыИзмерения_Упаковки</Наименование>
					<Порядок>250</Порядок>
					<ПередВыгрузкой>Если Источник.Ссылка.Владелец.ВидНоменклатуры.ТипНоменклатуры &lt;&gt; Перечисления.ТипыНоменклатуры.Товар
   И Источник.Ссылка.Владелец.ВидНоменклатуры.ТипНоменклатуры &lt;&gt; Перечисления.ТипыНоменклатуры.Услуга Тогда
	Отказ = Истина;
КонецЕсли;

Если Источник.Ссылка.Владелец.ЕдиницаХраненияОстатков = Источник.Ссылка И Источник.Ссылка.Владелец.ЕдиницаХраненияОстатков.Коэффициент = 1 Тогда
	Отказ = Истина;
КонецЕсли;

КлючВыгружаемыхДанных = Источник.Ссылка;</ПередВыгрузкой>
					<ПослеЗагрузки>Справочники.УпаковкиЕдиницыИзмерения.ОтработатьЛогикуСвязиРеквизитов(Объект);
Объект.Наименование = Справочники.УпаковкиЕдиницыИзмерения.СформироватьНаименование(Объект.ТипУпаковки, Объект.ЕдиницаИзмерения, Объект.Числитель, Объект.Знаменатель, Объект.Владелец.ЕдиницаИзмерения);

Если Не Объект.Владелец.ИспользоватьУпаковки = Истина Тогда
	ВладелецУпаковки = Объект.Владелец.ПолучитьОбъект();
	ВладелецУпаковки.ИспользоватьУпаковки = Истина;
	ВладелецУпаковки.Записать();
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Приемник>СправочникСсылка.УпаковкиЕдиницыИзмерения</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>--&gt; Владелец</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Владелец" Вид="Свойство"/>
							<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>--&gt; Числитель</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Числитель" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = Источник.Коэффициент;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; Вес</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Вес" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>--&gt; Объем</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Объем" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>--&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; ЕдиницаИзмерения</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
							<КодПравилаКонвертации>КлассификаторЕдиницИзмерения_ЕдиницыИзмерения</КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.ЕдиницаПоКлассификатору;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>--&gt; ТипИзмеряемойВеличины</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипИзмеряемойВеличины" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыИзмеряемыхВеличин"/>
							<ПередВыгрузкой>Значение = "Упаковка";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>--&gt; ТипУпаковки</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипУпаковки" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыУпаковокНоменклатуры"/>
							<ПередВыгрузкой>Значение = "Конечная";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>--&gt; Знаменатель</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Знаменатель" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ЕдиницыИзмерения_ЕдиницыИзмерения</Код>
					<Наименование>ЕдиницыИзмерения_ЕдиницыИзмерения</Наименование>
					<Порядок>300</Порядок>
					<ПослеЗагрузки>Объект.Владелец = Справочники.НаборыУпаковок.БазовыеЕдиницыИзмерения;
Объект.ТипИзмеряемойВеличины = Перечисления.ТипыИзмеряемыхВеличин.ПустаяСсылка();
Справочники.УпаковкиЕдиницыИзмерения.ОтработатьЛогикуСвязиРеквизитов(Объект);
ДанныеКлассификатора = Параметры.Соответствие.Получить(СокрЛП(Объект.Код));
Если ДанныеКлассификатора &lt;&gt; Неопределено Тогда
	ЗаполнитьЗначенияСвойств(Объект, ДанныеКлассификатора); // Числитель, Знаменатель, ТипИзмеряемойВеличины
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
					<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
					<Источник>СправочникСсылка.ЕдиницыИзмерения</Источник>
					<Приемник>СправочникСсылка.УпаковкиЕдиницыИзмерения</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ЕдиницаПоКлассификатору --&gt; МеждународноеСокращение</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ЕдиницаПоКлассификатору" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							<Приемник Имя="МеждународноеСокращение" Вид="Реквизит" Тип="Строка"/>
							<ПриВыгрузке>Если ЗначениеЗаполнено(Значение) Тогда
	Значение = Значение.МеждународноеСокращение;
Иначе
	Отказ = Истина;
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ЕдиницаПоКлассификатору --&gt; НаименованиеПолное</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ЕдиницаПоКлассификатору" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<ПриВыгрузке>Если ЗначениеЗаполнено(Значение) Тогда
	Значение = Значение.НаименованиеПолное;
Иначе
	Отказ = Истина;
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Вес --&gt; ТипИзмеряемойВеличины</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Вес" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="ТипИзмеряемойВеличины" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыИзмеряемыхВеличин"/>
							<ПриВыгрузке>Если ЗначениеЗаполнено(Значение) Тогда
	Значение = "Вес";
Иначе
	Значение = "КоличествоШтук";
КонецЕсли;</ПриВыгрузке>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>КомплектующиеВВариантыКомплектацииНоменклатуры</Код>
					<Наименование>КомплектующиеВВариантыКомплектацииНоменклатуры</Наименование>
					<Порядок>350</Порядок>
					<ПослеЗагрузки>Если Объект.Товары.Количество() &gt; 0 И Не ЗначениеЗаполнено(Объект.НоменклатураОсновногоКомпонента) Тогда
	Объект.НоменклатураОсновногоКомпонента = Объект.Товары.Получить(0).Номенклатура;
	Объект.ХарактеристикаОсновногоКомпонента = Объект.Товары.Получить(0).Характеристика;
КонецЕсли;</ПослеЗагрузки>
					<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
					<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
					<Источник>РегистрСведенийЗапись.КомплектующиеНоменклатуры</Источник>
					<Приемник>СправочникСсылка.ВариантыКомплектацииНоменклатуры</Приемник>
					<Свойства>
						<Свойство>
							<Код>4</Код>
							<Наименование> --&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование> --&gt; Основной</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Основной" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>--&gt; Характеристика</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Характеристика" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
							<КодПравилаКонвертации>ХарактеристикиНоменклатуры</КодПравилаКонвертации>
							<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если Параметры.ИспользоватьХарактеристикиНоменклатуры
	И Источник.Владелец.ВестиУчетПоХарактеристикам
	И НЕ ЗначениеЗаполнено(Источник.Характеристика) Тогда
	ИсходящиеДанные.Вставить("Владелец", Источник.Владелец);
	Значение = Новый Структура("Ссылка");
	ИмяПКО = "ПустаяХарактеристикаНоменклатуры";	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование> --&gt; Владелец</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование> --&gt; ПометкаУдаления</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Группа>
							<Код>6</Код>
							<Наименование> --&gt; Товары</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
							<Свойство>
								<Код>7</Код>
								<Наименование> --&gt; ДоляСтоимости</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДоляСтоимости" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование> --&gt; Количество</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование> --&gt; КоличествоУпаковок</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КоличествоУпаковок" Вид="Реквизит" Тип="Число"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование> --&gt; Номенклатура</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>--&gt; Упаковка</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Упаковка" Вид="Реквизит" Тип="СправочникСсылка.УпаковкиЕдиницыИзмерения"/>
								<КодПравилаКонвертации>ЕдиницыИзмерения_Упаковки</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>--&gt; Характеристика</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Характеристика" Вид="Реквизит" Тип="СправочникСсылка.ХарактеристикиНоменклатуры"/>
								<КодПравилаКонвертации>ХарактеристикиНоменклатуры</КодПравилаКонвертации>
								<ПередВыгрузкой>ИсходящиеДанные = Новый Структура;
Если Параметры.ИспользоватьХарактеристикиНоменклатуры
	И ОбъектКоллекции.Номенклатура.ВестиУчетПоХарактеристикам
	И НЕ ЗначениеЗаполнено(ОбъектКоллекции.Характеристика) Тогда
	ИсходящиеДанные.Вставить("Владелец", ОбъектКоллекции.Номенклатура);
	Значение = Новый Структура("Ссылка");
	ИмяПКО = "ПустаяХарактеристикаНоменклатуры";	
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; ВариантПредставленияНабораВПечатныхФормах</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВариантПредставленияНабораВПечатныхФормах" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыПредставленияНаборовВПечатныхФормах"/>
							<ПередВыгрузкой>Значение = "ТолькоНабор";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; ВариантРасчетаЦеныНабора</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВариантРасчетаЦеныНабора" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыРасчетаЦенНаборов"/>
							<ПередВыгрузкой>Значение = "ЦенаЗадаетсяЗаНаборРаспределяетсяПоЦенам";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; Количество</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; КоличествоУпаковок</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КоличествоУпаковок" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ВидыНоменклатуры</Код>
					<Наименование>ВидыНоменклатуры</Наименование>
					<Порядок>400</Порядок>
					<ПередВыгрузкой>Если ТипЗнч(Источник) = Тип("Структура") Тогда
	Если Не Источник.Свойство("АлкогольнаяПродукция") Тогда
		Источник.Вставить("АлкогольнаяПродукция", Ложь);
	КонецЕсли;
	Если Не Источник.Свойство("ИмпортнаяАлкогольнаяПродукция") Тогда
		Источник.Вставить("ИмпортнаяАлкогольнаяПродукция", Ложь);
	КонецЕсли;
	Если Не Источник.Свойство("ВидАлкогольнойПродукции") Тогда
		Источник.Вставить("ВидАлкогольнойПродукции", Справочники.ВидыАлкогольнойПродукции.ПустаяСсылка());
	КонецЕсли;
КонецЕсли;

ВходящиеДанные.Вставить("АлкогольнаяПродукция");
ВходящиеДанные.Вставить("ВидАлкогольнойПродукции");
ВходящиеДанные.Вставить("ИмпортнаяАлкогольнаяПродукция");
Попытка
	ВходящиеДанные.АлкогольнаяПродукция = Источник.АлкогольнаяПродукция;
Исключение
	ВходящиеДанные.АлкогольнаяПродукция = Ложь;
КонецПопытки;
Попытка
	ВходящиеДанные.ИмпортнаяАлкогольнаяПродукция = Источник.ИмпортнаяАлкогольнаяПродукция;
Исключение
	ВходящиеДанные.ИмпортнаяАлкогольнаяПродукция = Ложь;
КонецПопытки;
Попытка
	ВходящиеДанные.ВидАлкогольнойПродукции = Источник.ВидАлкогольнойПродукции;
Исключение
	ВходящиеДанные.ВидАлкогольнойПродукции = Неопределено;
КонецПопытки;

Если ТипЗнч(Источник) = Тип("Структура") Тогда
	
	ВходящиеДанные.Вставить("Наименование",					Лев(СокрЛП(Источник.Наименование), 50));
	ВходящиеДанные.Вставить("ИспользованиеХарактеристик",	Источник.ИспользованиеХарактеристик);
	ВходящиеДанные.Вставить("ИспользоватьСерии",			Источник.ИспользоватьСерии);
	
Иначе
	
	// Если передали объект, то на данный вид номенклатуры нет ссылок, выгружаем все по-минимуму
	ВходящиеДанные.Вставить("ИспользованиеХарактеристик", "НеИспользовать");
	
	Если ВходящиеДанные.АлкогольнаяПродукция Тогда
		Постфикс = "(" + НСтр("ru='б/х'") + ", " + НСтр("ru='алко'") + ")";
	Иначе	
		Постфикс = "(" + НСтр("ru='б/х'") + ")";
	КонецЕсли;	
	
	ВходящиеДанные.Вставить("Наименование", Лев(СокрЛП(Источник.Наименование), 49-СтрДлина(Постфикс)) + " " + Постфикс);
	ВходящиеДанные.Вставить("ИспользоватьСерии", Ложь);
	
КонецЕсли;</ПередВыгрузкой>
					<Источник>СправочникСсылка.ВидыНоменклатуры</Источник>
					<Приемник>СправочникСсылка.ВидыНоменклатуры</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>--&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>--&gt; ИспользованиеХарактеристик</Наименование>
							<Порядок>100</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользованиеХарактеристик" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыИспользованияХарактеристикНоменклатуры"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>9</Код>
							<Наименование>--&gt; ИспользоватьСерии</Наименование>
							<Порядок>150</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьСерии" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>7</Код>
							<Наименование>--&gt; НаборСвойствХарактеристик</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НаборСвойствХарактеристик" Вид="Реквизит" Тип="СправочникСсылка.НаборыДополнительныхРеквизитовИСведений"/>
							<КодПравилаКонвертации>НаборыДополнительныхРеквизитовИСведений</КодПравилаКонвертации>
						</Свойство>
						<Свойство Отключить="true">
							<Код>8</Код>
							<Наименование>--&gt; НаборСвойств</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НаборСвойств" Вид="Реквизит" Тип="СправочникСсылка.НаборыДополнительныхРеквизитовИСведений"/>
							<КодПравилаКонвертации>НаборыДополнительныхРеквизитовИСведений</КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>23</Код>
							<Наименование>--&gt; АлкогольнаяПродукция</Наименование>
							<Порядок>300</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="АлкогольнаяПродукция" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>24</Код>
							<Наименование>--&gt; ВидАлкогольнойПродукции</Наименование>
							<Порядок>350</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидАлкогольнойПродукции" Вид="Реквизит" Тип="СправочникСсылка.ВидыАлкогольнойПродукции"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>25</Код>
							<Наименование>--&gt; ИмпортнаяАлкогольнаяПродукция</Наименование>
							<Порядок>400</Порядок>
							<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИмпортнаяАлкогольнаяПродукция" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; ИспользоватьХарактеристики</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьХарактеристики" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Если ВходящиеДанные.ИспользованиеХарактеристик = "НеИспользовать" Тогда
	Значение = Ложь;
Иначе
	Значение = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>ТипНоменклатуры --&gt; ТипНоменклатуры</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ТипНоменклатуры" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНоменклатуры"/>
							<Приемник Имя="ТипНоменклатуры" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыНоменклатуры"/>
							<ПриВыгрузке>Если ТипЗнч(Значение) &lt;&gt; Тип("Строка") Тогда	
	ИмяПКО = "ТипыНоменклатуры";	
КонецЕсли;</ПриВыгрузке>
						</Свойство>
						<Свойство>
							<НеЗамещать>true</НеЗамещать>
							<Код>12</Код>
							<Наименование>--&gt; ВариантОформленияПродажи</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВариантОформленияПродажи" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыОформленияПродажи"/>
							<ПередВыгрузкой>Значение = "РеализацияТоваровУслуг";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; ИспользоватьСерии</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьСерии" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = ВходящиеДанные.ИспользоватьСерии;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; ИспользоватьСрокГодностиСерии</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьСрокГодностиСерии" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = ВходящиеДанные.ИспользоватьСерии;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; ИспользоватьНомерСерии</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьНомерСерии" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = ВходящиеДанные.ИспользоватьСерии;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; ИспользоватьКоличествоСерии</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьКоличествоСерии" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = ВходящиеДанные.ИспользоватьСерии;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; НастройкаИспользованияСерий</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НастройкаИспользованияСерий" Вид="Реквизит" Тип="ПеречислениеСсылка.НастройкиИспользованияСерийНоменклатуры"/>
							<ПередВыгрузкой>Если ВходящиеДанные.ИспользоватьСерии Тогда
	Значение = "ПартияТоваров";
Иначе
	Пусто = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; ТочностьУказанияСрокаГодностиСерии</Наименование>
							<Порядок>900</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТочностьУказанияСрокаГодностиСерии" Вид="Реквизит" Тип="ПеречислениеСсылка.ТочностиУказанияСрокаГодности"/>
							<ПередВыгрузкой>Значение = "СТочностьюДоДней";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>--&gt; ШаблонНаименованияДляПечатиНоменклатуры</Наименование>
							<Порядок>950</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ШаблонНаименованияДляПечатиНоменклатуры" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "[Наименование]";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>--&gt; ШаблонНаименованияДляПечатиХарактеристики</Наименование>
							<Порядок>1000</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ШаблонНаименованияДляПечатиХарактеристики" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "[Наименование]";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>26</Код>
							<Наименование>--&gt; ПолитикаУчетаСерий</Наименование>
							<Порядок>1050</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПолитикаУчетаСерий" Вид="Реквизит" Тип="СправочникСсылка.ПолитикиУчетаСерий"/>
							<КодПравилаКонвертации>ПолитикиУчетаСерий_УчетОстатков</КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = "1";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>21</Код>
							<Наименование>--&gt; ПолитикиУчетаСерий</Наименование>
							<Порядок>1100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПолитикиУчетаСерий" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Колонки.Добавить("ПолитикаУчетаСерий");
Если ВходящиеДанные.ИспользоватьСерии Тогда
	НоваяСтрока = КоллекцияОбъектов.Добавить();
КонецЕсли;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>22</Код>
								<Наименование> --&gt; ПолитикаУчетаСерий</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПолитикаУчетаСерий" Вид="Реквизит" Тип="СправочникСсылка.ПолитикиУчетаСерий"/>
								<КодПравилаКонвертации>ПолитикиУчетаСерий_УчетОстатков</КодПравилаКонвертации>
								<ПередВыгрузкой>Значение = "1";</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>НомераГТД</Код>
					<Наименование>НомераГТД</Наименование>
					<Порядок>450</Порядок>
					<ПередВыгрузкой>Если Не ЗначениеЗаполнено(Источник.Владелец) Тогда
	Отказ = Истина;
Иначе
	КлючВыгружаемыхДанных = Строка(Источник.Владелец.УникальныйИдентификатор()) + Источник.Код;
КонецЕсли;</ПередВыгрузкой>
					<Приемник>СправочникСсылка.НомераГТД</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование> --&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<ПриВыгрузке>Значение = Лев(Значение, 30);</ПриВыгрузке>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>--&gt; СтранаПроисхождения</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтранаПроисхождения" Вид="Реквизит" Тип="СправочникСсылка.СтраныМира"/>
							<КодПравилаКонвертации>КлассификаторСтранМираСтраныМира</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование> --&gt; ПометкаУдаления</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ВидыАлкогольнойПродукции</Код>
					<Наименование>ВидыАлкогольнойПродукции</Наименование>
					<Порядок>500</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.ВидыАлкогольнойПродукции</Источник>
					<Приемник>СправочникСсылка.ВидыАлкогольнойПродукции</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<ПриводитьКДлине>9</ПриводитьКДлине>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Маркируемый --&gt; Маркируемый</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Маркируемый" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="Маркируемый" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Группа Отключить="false">
					<Код>Серии</Код>
					<Наименование>Серии</Наименование>
					<Порядок>900</Порядок>
					<Правило>
						<Код>ПолитикиУчетаСерий_УчетОстатков</Код>
						<Наименование>ПолитикиУчетаСерий_УчетОстатков</Наименование>
						<Порядок>50</Порядок>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Приемник>СправочникСсылка.ПолитикиУчетаСерий</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>25</Код>
								<Наименование>--&gt; Наименование</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<ПередВыгрузкой>Если Параметры.РежимВыгрузкиСерий = 1 Тогда
	Значение = "Учет остатков по сериям";
ИначеЕсли Параметры.РежимВыгрузкиСерий = 2 Тогда
	Значение = "Учет себестоимости по сериям";
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>--&gt; ТипПолитики</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ТипПолитики" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыПолитикУказанияСерий"/>
								<ПередВыгрузкой>Если Параметры.РежимВыгрузкиСерий = 1 Тогда
	Значение = "УправлениеОстаткамиСерий";
ИначеЕсли Параметры.РежимВыгрузкиСерий = 2 Тогда
	Значение = "УчетСебестоимостиПоСериям";
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>28</Код>
								<Наименование>--&gt; Описание</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Описание" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "Создана автоматически, при загрузке из УТ 10.3"</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>--&gt; УказыватьПриОтгрузке</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриОтгрузке" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>--&gt; УказыватьПриОтгрузкеКлиенту</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриОтгрузкеКлиенту" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование>--&gt; УказыватьПриОтгрузкеКомплектовДляРазборки</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриОтгрузкеКомплектовДляРазборки" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>9</Код>
								<Наименование>--&gt; УказыватьПриОтгрузкеКомплектующихДляСборки</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриОтгрузкеКомплектующихДляСборки" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>--&gt; УказыватьПриОтгрузкеНаВнутренниеНужды</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриОтгрузкеНаВнутренниеНужды" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>--&gt; УказыватьПриОтгрузкеПоВозвратуПоставщику</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриОтгрузкеПоВозвратуПоставщику" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>--&gt; УказыватьПриОтгрузкеПоПеремещению</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриОтгрузкеПоПеремещению" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>--&gt; УказыватьПриПеремещенииМеждуПомещениями</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриПеремещенииМеждуПомещениями" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>--&gt; УказыватьПриПланированииОтгрузки</Наименование>
								<Порядок>750</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриПланированииОтгрузки" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Параметры.РежимВыгрузкиСерий &gt; 0;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>--&gt; УказыватьПриПриемке</Наименование>
								<Порядок>800</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриПриемке" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>--&gt; УказыватьПриПриемкеКомплектующихПослеРазборки</Наименование>
								<Порядок>850</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриПриемкеКомплектующихПослеРазборки" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование>--&gt; УказыватьПриПриемкеОтПоставщика</Наименование>
								<Порядок>900</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриПриемкеОтПоставщика" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование>--&gt; УказыватьПриПриемкеПоВозвратуОтКлиента</Наименование>
								<Порядок>950</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриПриемкеПоВозвратуОтКлиента" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование>--&gt; УказыватьПриПриемкеПоПеремещению</Наименование>
								<Порядок>1000</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриПриемкеПоПеремещению" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование>--&gt; УказыватьПриПриемкеПоПрочемуОприходованию</Наименование>
								<Порядок>1050</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриПриемкеПоПрочемуОприходованию" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>23</Код>
								<Наименование>--&gt; УказыватьПриПриемкеСобранныхКомплектов</Наименование>
								<Порядок>1100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриПриемкеСобранныхКомплектов" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>24</Код>
								<Наименование>--&gt; УчитыватьОстаткиСерий</Наименование>
								<Порядок>1150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УчитыватьОстаткиСерий" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>26</Код>
								<Наименование>--&gt; УказыватьПриОтгрузкеВРозницу</Наименование>
								<Порядок>1200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УказыватьПриОтгрузкеВРозницу" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>27</Код>
								<Наименование>--&gt; УчитыватьСебестоимостьПоСериям</Наименование>
								<Порядок>1250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УчитыватьСебестоимостьПоСериям" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Параметры.РежимВыгрузкиСерий &gt; 1;</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>СерииНоменклатуры</Код>
						<Наименование>СерииНоменклатуры</Наименование>
						<Порядок>100</Порядок>
						<ПередВыгрузкой>КлючВыгружаемыхДанных = Источник.Наименование;</ПередВыгрузкой>
						<ПослеЗагрузки>Выполнить(Алгоритмы.СерииНоменклатуры_ЗаполнитьНаименованиеПоШаблону);</ПослеЗагрузки>
						<Источник>СправочникСсылка.СерииНоменклатуры</Источник>
						<Приемник>СправочникСсылка.СерииНоменклатуры</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>4</Код>
								<Наименование>--&gt; ВидНоменклатуры</Наименование>
								<Порядок>50</Порядок>
								<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.ВидыНоменклатуры"/>
								<КодПравилаКонвертации>ВидыНоменклатуры</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>3</Код>
								<Наименование>Наименование --&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Номер" Вид="Реквизит" Тип=""/>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>СрокГодности --&gt; ГоденДо</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="СрокГодности" Вид="Реквизит" Тип="Дата"/>
								<Приемник Имя="ГоденДо" Вид="Реквизит" Тип="Дата"/>
								<ПриВыгрузке>Значение = ?(ЗначениеЗаполнено(Значение), Значение, Дата('19800101'));</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>НеизвестнаяСерия</Код>
						<Наименование>НеизвестнаяСерия</Наименование>
						<Порядок>150</Порядок>
						<ПередВыгрузкой>КлючВыгружаемыхДанных = "Неизвестная серия" + ВходящиеДанные.ВидНоменклатуры.Наименование;</ПередВыгрузкой>
						<ПослеЗагрузки>Выполнить(Алгоритмы.СерииНоменклатуры_ЗаполнитьНаименованиеПоШаблону);</ПослеЗагрузки>
						<ИспользоватьБыстрыйПоискПриЗагрузке>true</ИспользоватьБыстрыйПоискПриЗагрузке>
						<Приемник>СправочникСсылка.СерииНоменклатуры</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>3</Код>
								<Наименование>--&gt; ВидНоменклатуры</Наименование>
								<Порядок>50</Порядок>
								<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВидНоменклатуры" Вид="Реквизит" Тип="СправочникСсылка.ВидыНоменклатуры"/>
								<КодПравилаКонвертации>ВидыНоменклатуры</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>--&gt; Номер</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Номер" Вид="Реквизит" Тип=""/>
								<ПередВыгрузкой>Значение = "Неизвестная серия";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>--&gt; ГоденДо</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ГоденДо" Вид="Реквизит" Тип="Дата"/>
								<ПередВыгрузкой>Значение = Дата('19800101');</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>--&gt; ПометкаУдаления</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
				<Группа Отключить="false">
					<Код>СправочникХарактеристики</Код>
					<Наименование>СправочникХарактеристики</Наименование>
					<Порядок>950</Порядок>
					<Правило>
						<Код>ПустаяХарактеристикаНоменклатуры</Код>
						<Наименование>ПустаяХарактеристикаНоменклатуры</Наименование>
						<Порядок>1050</Порядок>
						<ПередВыгрузкой>КлючВыгружаемыхДанных = Строка(ВходящиеДанные.Владелец.УникальныйИдентификатор());
Если ВходящиеДанные.Свойство("Качество") Тогда
	// Переопределяем стандартый ключ выгружаемых данных, т.к. идет выгрузка один ко многим
	КлючВыгружаемыхДанных = КлючВыгружаемыхДанных + Строка(ВходящиеДанные.Качество.УникальныйИдентификатор());
КонецЕсли;

ВходящиеДанные.Вставить("АлкогольнаяПродукция");
ВходящиеДанные.Вставить("ВидАлкогольнойПродукции");
ВходящиеДанные.Вставить("ИмпортнаяАлкогольнаяПродукция");
Попытка
	ВходящиеДанные.АлкогольнаяПродукция = Источник.АлкогольнаяПродукция;
Исключение
	ВходящиеДанные.АлкогольнаяПродукция = Ложь;
КонецПопытки;
Попытка
	ВходящиеДанные.ИмпортнаяАлкогольнаяПродукция = Источник.ИмпортнаяАлкогольнаяПродукция;
Исключение
	ВходящиеДанные.ИмпортнаяАлкогольнаяПродукция = Ложь;
КонецПопытки;
Попытка
	ВходящиеДанные.ВидАлкогольнойПродукции = Источник.ВидАлкогольнойПродукции;
Исключение
	ВходящиеДанные.ВидАлкогольнойПродукции = Неопределено;
КонецПопытки;</ПередВыгрузкой>
						<Источник>СправочникСсылка.ХарактеристикиНоменклатуры</Источник>
						<Приемник>СправочникСсылка.ХарактеристикиНоменклатуры</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>--&gt; Владелец</Наименование>
								<Порядок>50</Порядок>
								<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Владелец" Вид="Свойство"/>
								<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
								<ПередВыгрузкой>Если Параметры.СворачиватьХарактеристики Тогда
	
	ИмяПКО = "ВидыНоменклатуры";
	СоздатьВидНоменклатуры_Номенклатура                 = ВходящиеДанные.Владелец.Ссылка;
	СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = ВходящиеДанные.Владелец.ВидНоменклатуры.Наименование;
	СоздатьВидНоменклатуры_ТипНоменклатуры              = ВходящиеДанные.Владелец.ВидНоменклатуры.ТипНоменклатуры;
	СоздатьВидНоменклатуры_ИспользоватьСерии			= ВходящиеДанные.Владелец.ВестиУчетПоСериям;
	СоздатьВидНоменклатуры_ИмпортнаяАлкогольнаяПродукция = ВходящиеДанные.АлкогольнаяПродукция И ВходящиеДанные.ВестиУчетПоГТД;
	СоздатьВидНоменклатуры_АлкогольнаяПродукция          = ВходящиеДанные.АлкогольнаяПродукция;
	СоздатьВидНоменклатуры_ВидАлкогольнойПродукции       = ВходящиеДанные.ВидАлкогольнойПродукции;
	Выполнить(Алгоритмы.СоздатьВидНоменклатуры);
	
ИначеЕсли ТипЗнч(Значение) &lt;&gt; Тип("Структура") Тогда
	
	// Владельцем характеристики будет являться номенклатура, которая возможно является некачественной
	Если ВходящиеДанные.Свойство("Качество") Тогда
		ИсходящиеДанные.Вставить("Качество", ВходящиеДанные.Качество);
		ИмяПКО = "НекачественнаяНоменклатура";	
	КонецЕсли;
	
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; Наименование</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "Неизвестная характеристика";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<НеЗамещать>true</НеЗамещать>
								<Код>3</Код>
								<Наименование> --&gt; НаименованиеПолное</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Значение = "Неизвестная характеристика";</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ХарактеристикиНоменклатуры</Код>
						<Наименование>ХарактеристикиНоменклатуры</Наименование>
						<Порядок>1100</Порядок>
						<ПередВыгрузкой>КлючВыгружаемыхДанных = Строка(Источник.Ссылка.УникальныйИдентификатор());
Если ВходящиеДанные.Свойство("Качество") Тогда
	// Переопределяем стандартый ключ выгружаемых данных, т.к. идет выгрузка один ко многим
	КлючВыгружаемыхДанных = КлючВыгружаемыхДанных + Строка(ВходящиеДанные.Качество.УникальныйИдентификатор());
КонецЕсли;

ВходящиеДанные.Вставить("АлкогольнаяПродукция");
ВходящиеДанные.Вставить("ВидАлкогольнойПродукции");
ВходящиеДанные.Вставить("ИмпортнаяАлкогольнаяПродукция");
Попытка
	ВходящиеДанные.АлкогольнаяПродукция = Источник.АлкогольнаяПродукция;
Исключение
	ВходящиеДанные.АлкогольнаяПродукция = Ложь;
КонецПопытки;
Попытка
	ВходящиеДанные.ИмпортнаяАлкогольнаяПродукция = Источник.ИмпортнаяАлкогольнаяПродукция;
Исключение
	ВходящиеДанные.ИмпортнаяАлкогольнаяПродукция = Ложь;
КонецПопытки;
Попытка
	ВходящиеДанные.ВидАлкогольнойПродукции = Источник.ВидАлкогольнойПродукции;
Исключение
	ВходящиеДанные.ВидАлкогольнойПродукции = Неопределено;
КонецПопытки;</ПередВыгрузкой>
						<Источник>СправочникСсылка.ХарактеристикиНоменклатуры</Источник>
						<Приемник>СправочникСсылка.ХарактеристикиНоменклатуры</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Владелец --&gt; Владелец</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
								<Приемник Имя="Владелец" Вид="Свойство"/>
								<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
								<ПередВыгрузкой>Если Параметры.СворачиватьХарактеристики Тогда
	
	ИмяПКО = "ВидыНоменклатуры";
	СоздатьВидНоменклатуры_Номенклатура                 = Источник.Владелец.Ссылка;
	СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = Источник.Владелец.ВидНоменклатуры.Наименование;
	СоздатьВидНоменклатуры_ТипНоменклатуры              = Источник.Владелец.ВидНоменклатуры.ТипНоменклатуры;
	СоздатьВидНоменклатуры_ИспользоватьСерии			= Источник.Владелец.ВестиУчетПоСериям;
	СоздатьВидНоменклатуры_ИмпортнаяАлкогольнаяПродукция = ВходящиеДанные.АлкогольнаяПродукция И ВходящиеДанные.ВестиУчетПоГТД;
	СоздатьВидНоменклатуры_АлкогольнаяПродукция          = ВходящиеДанные.АлкогольнаяПродукция;
	СоздатьВидНоменклатуры_ВидАлкогольнойПродукции       = ВходящиеДанные.ВидАлкогольнойПродукции;
	Выполнить(Алгоритмы.СоздатьВидНоменклатуры);
	
Иначе
	
	// Владельцем характеристики будет являться номенклатура, которая возможно является некачественной
	Если ВходящиеДанные.Свойство("Качество") Тогда
		ИсходящиеДанные.Вставить("Качество", ВходящиеДанные.Качество);
		ИмяПКО = "НекачественнаяНоменклатура";
	КонецЕсли;
	
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<НеЗамещать>true</НеЗамещать>
								<Код>7</Код>
								<Наименование>Наименование --&gt; НаименованиеПолное</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Группа>
								<Код>4</Код>
								<Наименование> --&gt; ДополнительныеРеквизиты</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПереносСвойств);</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>6</Код>
									<Наименование> --&gt; Значение</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Значение" Вид="Реквизит" Тип=""/>
								</Свойство>
								<Свойство>
									<Код>5</Код>
									<Наименование> --&gt; Свойство</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
									<КодПравилаКонвертации>СвойстваОбъектов_ДополнительныеРеквизитыИСведения</КодПравилаКонвертации>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
			</Группа>
			<Группа Отключить="false">
				<Код>ГруппаФизическиеЛица</Код>
				<Наименование>ГруппаФизическиеЛица</Наименование>
				<Порядок>1000</Порядок>
				<Правило>
					<Код>ФизическиеЛица</Код>
					<Наименование>ФизическиеЛица</Наименование>
					<Порядок>50</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.ФизическиеЛица</Источник>
					<Приемник>СправочникСсылка.ФизическиеЛица</Приемник>
					<Свойства>
						<Свойство Поиск="true" Обязательное="true">
							<Код>22</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ДатаРождения --&gt; ДатаРождения</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ДатаРождения" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="ДатаРождения" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ФизическиеЛица"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ФизическиеЛица"/>
							<КодПравилаКонвертации>ФизическиеЛица</КодПравилаКонвертации>
						</Свойство>
						<Группа>
							<Код>6</Код>
							<Наименование> --&gt; ДополнительныеРеквизиты</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПереносСвойств);</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>7</Код>
								<Наименование>--&gt; Значение</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Значение" Вид="Реквизит" Тип=""/>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование> --&gt; Свойство</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
								<КодПравилаКонвертации>СвойстваОбъектов_ДополнительныеРеквизитыИСведения</КодПравилаКонвертации>
							</Свойство>
						</Группа>
						<Группа>
							<Код>9</Код>
							<Наименование> --&gt; КонтактнаяИнформация</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПереносКИ);</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>10</Код>
								<Наименование> --&gt; АдресЭП</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>--&gt; Вид</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
								<КодПравилаКонвертации>ВидыКонтактнойИнформацииВсе</КодПравилаКонвертации>
								<ПередВыгрузкой>ИсходящиеДанные = "СправочникКонтрагенты";
Если ТипЗнч(ОбъектКоллекции.Вид) = Тип("Строка") Тогда
	Значение = Новый Структура("Тип,Наименование,ВидОбъектаКонтактнойИнформации", 
						ОбъектКоллекции.Тип, ОбъектКоллекции.Вид, Перечисления.ВидыОбъектовКонтактнойИнформации.ФизическиеЛица);
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование> --&gt; Город</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование> --&gt; ДоменноеИмяСервера</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование> --&gt; ЗначенияПолей</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование> --&gt; НомерТелефона</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование> --&gt; НомерТелефонаБезКодов</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование> --&gt; Представление</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование> --&gt; Регион</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование> --&gt; Страна</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование> --&gt; Тип</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ДокументыУдостоверяющиеЛичность</Код>
					<Наименование>ДокументыУдостоверяющиеЛичность</Наименование>
					<Порядок>100</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.ДокументыУдостоверяющиеЛичность</Источник>
					<Приемник>СправочникСсылка.ВидыДокументовФизическихЛиц</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>КодПФР --&gt; КодПФР</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="КодПФР" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КодПФР" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>ГруппаЦенообразование</Код>
				<Наименование>ГруппаЦенообразование</Наименование>
				<Порядок>1050</Порядок>
				<Правило>
					<Код>ТипыЦенНоменклатуры_ВидыЦен</Код>
					<Наименование>ТипыЦенНоменклатуры_ВидыЦен</Наименование>
					<Порядок>100</Порядок>
					<ПослеЗагрузки>Выполнить(Алгоритмы.УстановитьЗначениеРеквизитаУпорядочивания);
Параметры.ЗагруженыВидыЦен = Истина;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.ТипыЦенНоменклатуры</Источник>
					<Приемник>СправочникСсылка.ВидыЦен</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ВалютаЦены --&gt; ВалютаЦены</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ВалютаЦены" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаЦены" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ОкруглятьВБольшуюСторону --&gt; ОкруглятьВБольшуюСторону</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ОкруглятьВБольшуюСторону" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="ОкруглятьВБольшуюСторону" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>ЦенаВключаетНДС --&gt; ЦенаВключаетНДС</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; ИспользоватьПриПродаже</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьПриПродаже" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>--&gt; СпособЗаданияЦены</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СпособЗаданияЦены" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыЗаданияЦен"/>
							<ПередВыгрузкой>Если Источник.Рассчитывается Тогда
	Значение = "НаценкаНаДругойВидЦен";
Иначе
	Если НЕ ЗначениеЗаполнено(Источник.БазовыйТипЦен) Тогда
		Значение = "Вручную";
	Иначе
		Значение = "НаценкаНаДругойВидЦен";
	КонецЕсли;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>--&gt; Идентификатор</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Идентификатор" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>СтрНаименование = Источник.Наименование;

Разделители	=  " .,+,-,/,*,?,=,&lt;,&gt;,(,)%!@#$%&amp;*""№:;{}[]?()\|/`~'^_";

Идентификатор = "";
БылСпецСимвол = Ложь;

Для НомСимвола = 1 По СтрДлина(СтрНаименование) Цикл
	
	Символ = Сред(СтрНаименование, НомСимвола, 1);
	
	Если Найти(Разделители, Символ) &lt;&gt; 0 Тогда
		БылСпецСимвол = Истина;
	ИначеЕсли БылСпецСимвол Тогда
		БылСпецСимвол = Ложь;
		Идентификатор = Идентификатор + ВРег(Символ);
	Иначе
		Идентификатор = Идентификатор + Символ;
	КонецЕсли;
	
КонецЦикла;

Значение = Идентификатор;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>БазовыйТипЦен --&gt; БазовыйВидЦены</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="БазовыйТипЦен" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
							<Приемник Имя="БазовыйВидЦены" Вид="Реквизит" Тип="СправочникСсылка.ВидыЦен"/>
							<КодПравилаКонвертации>ТипыЦенНоменклатуры_ВидыЦен</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>ПроцентСкидкиНаценки --&gt; Наценка</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="ПроцентСкидкиНаценки" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Наценка" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; Округлять</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Округлять" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>ПорядокОкругления --&gt; ТочностьОкругления</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="ПорядокОкругления" Вид="Реквизит" Тип="ПеречислениеСсылка.ПорядкиОкругления"/>
							<Приемник Имя="ТочностьОкругления" Вид="Реквизит" Тип=""/>
							<ПередВыгрузкой>Значение = Число(СокрЛП(Источник.ПорядокОкругления));</ПередВыгрузкой>
						</Свойство>
						<Свойство Отключить="true">
							<Код>13</Код>
							<Наименование>СпособРасчетаЦены --&gt;</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="СпособРасчетаЦены" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыРасчетаЦены"/>
							<Приемник Имя="" Вид=""/>
						</Свойство>
						<Группа>
							<Код>14</Код>
							<Наименование>--&gt; ПравилаОкругленияЦены</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПравилаОкругленияЦены" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Добавить();</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>16</Код>
								<Наименование>--&gt; ТочностьОкругления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ТочностьОкругления" Вид="Реквизит" Тип=""/>
								<ПередВыгрузкой>Значение = Число(СокрЛП(Источник.ПорядокОкругления));</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ЦеновыеГруппыЦеновыеГруппы</Код>
					<Наименование>ЦеновыеГруппыЦеновыеГруппы</Наименование>
					<Порядок>150</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.ЦеновыеГруппы</Источник>
					<Приемник>СправочникСсылка.ЦеновыеГруппы</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>УсловияЦенПоставщиков</Код>
					<Наименование>УсловияЦенПоставщиков</Наименование>
					<Порядок>200</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.ТипыЦенНоменклатурыКонтрагентов</Источник>
					<Приемник>СправочникСсылка.ВидыЦенПоставщиков</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Владелец --&gt; Владелец</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Партнеры"/>
							<КодПравилаКонвертации>ДоговорСПоставщикомСоглашениеСПоставщиком</КодПравилаКонвертации>
							<ПередВыгрузкой>Если ТипЗнч(Источник.Владелец) = Тип("СправочникСсылка.Контрагенты") Тогда
	ИмяПКО = "Контрагенты_Партнеры";
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ЦенаВключаетНДС --&gt; ЦенаВключаетНДС</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; ДоступноДляЗакупки</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДоступноДляЗакупки" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>СкидкиНаценки</Код>
					<Наименование>СкидкиНаценки</Наименование>
					<Порядок>250</Порядок>
					<ПослеЗагрузки>Если Не ЗначениеЗаполнено(Объект.СпособПредоставления) Тогда
	Объект.СпособПредоставления = Перечисления.СпособыПредоставленияСкидокНаценок.Процент;
КонецЕсли;

Если Не ЗначениеЗаполнено(Объект.ВариантОтбораНоменклатуры) Тогда
	Объект.СпособПредоставления = Перечисления.ВариантыОтбораНоменклатурыДляРасчетаСкидокНаценок.БезОграничений;
КонецЕсли;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.ТипыСкидокНаценок</Источник>
					<Приемник>СправочникСсылка.СкидкиНаценки</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Валюта --&gt; ВалютаПредоставления</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаПредоставления" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>--&gt; ВариантСовместногоПрименения</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВариантСовместногоПрименения" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыСовместногоПримененияСкидокНаценок"/>
							<ПередВыгрузкой>Значение = "Максимум";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ПроцентСкидкиНаценки --&gt; ЗначениеСкидкиНаценки</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ПроцентСкидкиНаценки" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="ЗначениеСкидкиНаценки" Вид="Реквизит" Тип=""/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; ПериодДействия</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПериодДействия" Вид="Реквизит" Тип="ПеречислениеСсылка.Периодичность"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>--&gt; СпособПримененияСкидки</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СпособПримененияСкидки" Вид="Реквизит" Тип="ПеречислениеСсылка.СпособыПримененияСкидокНаценок"/>
							<ПередВыгрузкой>Значение = "ПрименитьВМоментРасчетаСкидокНаценок";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>8</Код>
							<Наименование>--&gt; УсловияПредоставления</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="УсловияПредоставления" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Если Источник.Условие = Перечисления.УсловияСкидкиНаценки.ПоВидуОплаты Или Источник.Условие = Перечисления.УсловияСкидкиНаценки.ПоСуммеДокумента Тогда
	
	КоллекцияОбъектов = Новый ТаблицаЗначений;
	КоллекцияОбъектов.Колонки.Добавить("УсловиеПредоставления");
	
	НоваяСтрока = КоллекцияОбъектов.Добавить();
	
Иначе
	Отказ = Истина;
		
КонецЕсли;</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>9</Код>
								<Наименование>--&gt; УсловиеПредоставления</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="УсловиеПредоставления" Вид="Реквизит" Тип="СправочникСсылка.УсловияПредоставленияСкидокНаценок"/>
								<КодПравилаКонвертации>УсловияПредоставленияСкидокНаценок</КодПравилаКонвертации>
								<ПередВыгрузкой>Значение = Источник;</ПередВыгрузкой>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>10</Код>
							<Наименование>--&gt; СпособПредоставления</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СпособПредоставления" Вид="Реквизит"/>
							<ПередВыгрузкой>Значение = "Процент";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; Управляемая</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Управляемая" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; Родитель</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СкидкиНаценки"/>
							<ПередВыгрузкой>Значение = "КорневаяГруппа";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; ВариантОтбораНоменклатуры</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВариантОтбораНоменклатуры" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыОтбораНоменклатурыДляРасчетаСкидокНаценок"/>
							<ПередВыгрузкой>Значение = "БезОграничений";</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>УсловияПредоставленияСкидокНаценок</Код>
					<Наименование>УсловияПредоставленияСкидокНаценок</Наименование>
					<Порядок>300</Порядок>
					<ПослеЗагрузки>СтрокаНаименования = "";

// ++Общий модуль СкидкиНаценкиСкиентСервер.АвтоНаименованиеУсловияПредоставленияСкидки
	ПоКакойНоменклатуре = "";
	Если Объект.ВариантОтбораНоменклатуры = ПредопределенноеЗначение("Перечисление.ВариантыОтбораНоменклатурыДляРасчетаСкидокНаценок.СписокНоменклатуры") Тогда
		// Списка номенклатуры нет
	ИначеЕсли Объект.ВариантОтбораНоменклатуры = ПредопределенноеЗначение("Перечисление.ВариантыОтбораНоменклатурыДляРасчетаСкидокНаценок.СегментНоменклатуры") Тогда
		ПоКакойНоменклатуре = СтрШаблон(НСтр("ru = 'по номенклатуре из сегмента %1'"), Объект.СегментНоменклатурыОграничения);
	ИначеЕсли Объект.ВариантОтбораНоменклатуры = ПредопределенноеЗначение("Перечисление.ВариантыОтбораНоменклатурыДляРасчетаСкидокНаценок.ОтборКомпоновкиДанных") Тогда
		ПоКакойНоменклатуре = НСтр("ru = 'по отобранной номенклатуре'");
	КонецЕсли;
	
	Если Объект.УсловиеПредоставления = ПредопределенноеЗначение("Перечисление.УсловияПредоставленияСкидокНаценок.ЗаВремяПродажи") Тогда
		СтрокаНаименования = НСтр("ru = 'Время продажи:'");
		ПервыйДень = Истина;
		Для Каждого СтрокаТаблицы Из Объект.ВремяДействия Цикл
			СтрокаНаименования = СтрокаНаименования + 
			                     ?(ПервыйДень," ", ", ")+ СтрокаТаблицы.ДеньНедели + 
			                     СтрШаблон(НСтр("ru = '(с %1 до %2)'"), Формат(СтрокаТаблицы.ВремяНачала,"ДФ=ЧЧ:мм"), Формат(СтрокаТаблицы.ВремяОкончания,"ДФ=ЧЧ:мм"));
			ПервыйДень = Ложь;
		КонецЦикла;
	ИначеЕсли Объект.УсловиеПредоставления = ПредопределенноеЗначение("Перечисление.УсловияПредоставленияСкидокНаценок.ЗаФормуОплаты") Тогда
		СтрокаНаименования = СтрШаблон(НСтр("ru = 'Форма оплаты: %1'"), Объект.ФормаОплаты);
	ИначеЕсли Объект.УсловиеПредоставления = ПредопределенноеЗначение("Перечисление.УсловияПредоставленияСкидокНаценок.ЗаДеньРожденияКлиента") Тогда
		СтрокаНаименования = НСтр("ru = 'День рождения клиента'");
	ИначеЕсли Объект.УсловиеПредоставления = ПредопределенноеЗначение("Перечисление.УсловияПредоставленияСкидокНаценок.ВхождениеПартнераВСегмент") Тогда
		СтрокаНаименования = СтрШаблон(НСтр("ru = 'Клиент входит в сегмент: %1'"), Объект.СегментПартнеров);
	ИначеЕсли Объект.УсловиеПредоставления = ПредопределенноеЗначение("Перечисление.УсловияПредоставленияСкидокНаценок.ЗаГрафикОплаты") Тогда
		СтрокаНаименования = СтрШаблон(НСтр("ru = 'График оплаты: %1'"), Объект.ГрафикОплаты);
	ИначеЕсли Объект.УсловиеПредоставления = ПредопределенноеЗначение("Перечисление.УсловияПредоставленияСкидокНаценок.КартаЛояльностиНеЗарегистрирована") Тогда
		СтрокаНаименования = СтрШаблон(НСтр("ru = 'Карта лояльности ""%1"" не зарегистрирована'"), Объект.ВидКартыЛояльности);
	ИначеЕсли Объект.УсловиеПредоставления = ПредопределенноеЗначение("Перечисление.УсловияПредоставленияСкидокНаценок.ЗаНаличиеКартыЛояльности") Тогда
		СтрокаНаименования = СтрШаблон(НСтр("ru = 'Клиент владелец карты лояльности ""%1""'"), Объект.ВидКартыЛояльности);
	ИначеЕсли Объект.УсловиеПредоставления = ПредопределенноеЗначение("Перечисление.УсловияПредоставленияСкидокНаценок.ОграничениеПоГруппеПользователей") Тогда
		СтрокаНаименования = СтрШаблон(НСтр("ru = 'Группа пользователей: %1'"), Объект.ГруппаПользователей);
	ИначеЕсли Объект.УсловиеПредоставления = ПредопределенноеЗначение("Перечисление.УсловияПредоставленияСкидокНаценок.ЗаРазовыйОбъемПродаж") Тогда
		
		Если Объект.КритерийОграниченияПримененияЗаОбъемПродаж = ПредопределенноеЗначение("Перечисление.КритерииОграниченияПримененияСкидкиНаценкиЗаОбъемПродаж.Количество") Тогда
			СтрокаНаименования = СтрШаблон(
				НСтр("ru = 'Количество в документе %1 %2 ед. %3'"),
				Объект.ТипСравнения,
				Объект.ЗначениеУсловияОграничения,
				ПоКакойНоменклатуре);
		ИначеЕсли Объект.КритерийОграниченияПримененияЗаОбъемПродаж = ПредопределенноеЗначение("Перечисление.КритерииОграниченияПримененияСкидкиНаценкиЗаОбъемПродаж.КоличествоРазличных") Тогда
			СтрокаНаименования = СтрШаблон(
				НСтр("ru = 'Количество различных наименований в документе %1 %2 шт. %3'"),
				Объект.ТипСравнения,
				Объект.ЗначениеУсловияОграничения,
				ПоКакойНоменклатуре);
		ИначеЕсли Объект.КритерийОграниченияПримененияЗаОбъемПродаж = ПредопределенноеЗначение("Перечисление.КритерииОграниченияПримененияСкидкиНаценкиЗаОбъемПродаж.КоличествоОдинаковых") Тогда
			СтрокаНаименования = СтрШаблон(
				НСтр("ru = 'Количество одинаковых позиций в документе %1 %2 ед. %3'"),
				Объект.ТипСравнения,
				Объект.ЗначениеУсловияОграничения,
				ПоКакойНоменклатуре);
		ИначеЕсли Объект.КритерийОграниченияПримененияЗаОбъемПродаж = ПредопределенноеЗначение("Перечисление.КритерииОграниченияПримененияСкидкиНаценкиЗаОбъемПродаж.Сумма") Тогда
			СтрокаНаименования = СтрШаблон(
				НСтр("ru = 'Сумма в документе %1 %2 %3 %4'"),
				Объект.ТипСравнения,
				Объект.ЗначениеУсловияОграничения,
				Объект.ВалютаОграничения,
				ПоКакойНоменклатуре);
		КонецЕсли;
		
	ИначеЕсли Объект.УсловиеПредоставления = ПредопределенноеЗначение("Перечисление.УсловияПредоставленияСкидокНаценок.ЗаНакопленныйОбъемПродаж") Тогда
	
		Если Объект.ВариантОпределенияПериодаНакопительнойСкидки = ПредопределенноеЗначение("Перечисление.ВариантыОпределенияПериодаНакопительнойСкидки.ВесьПериод") Тогда
			
			Период = НСтр("ru = 'за весь период'");
			
		ИначеЕсли Объект.ВариантОпределенияПериодаНакопительнойСкидки = ПредопределенноеЗначение("Перечисление.ВариантыОпределенияПериодаНакопительнойСкидки.ПрошлыйПериод") Тогда
			
			Строка = "";
			Если Объект.ПериодНакопления = ПредопределенноеЗначение("Перечисление.Периодичность.Год") Тогда
				Строка = НСтр("ru = 'прошлый год,прошлых года,прошлых лет'");
			ИначеЕсли Объект.ПериодНакопления = ПредопределенноеЗначение("Перечисление.Периодичность.Декада") Тогда
				Строка = НСтр("ru = 'прошлую декаду,прошлых декады,прошлых декад'");
			ИначеЕсли Объект.ПериодНакопления = ПредопределенноеЗначение("Перечисление.Периодичность.День") Тогда
				Строка = НСтр("ru = 'прошлый день,прошлых дня,прошлых дней'");
			ИначеЕсли Объект.ПериодНакопления = ПредопределенноеЗначение("Перечисление.Периодичность.Квартал") Тогда
				Строка = НСтр("ru = 'прошлый квартал,прошлых квартала,прошлых кварталов'");
			ИначеЕсли Объект.ПериодНакопления = ПредопределенноеЗначение("Перечисление.Периодичность.Месяц") Тогда
				Строка = НСтр("ru = 'прошлый месяц,прошлых месяца,прошлых месяцев'");
			ИначеЕсли Объект.ПериодНакопления = ПредопределенноеЗначение("Перечисление.Периодичность.Неделя") Тогда
				Строка = НСтр("ru = 'прошлую неделю,прошлых недели,прошлых недель'");
			ИначеЕсли Объект.ПериодНакопления = ПредопределенноеЗначение("Перечисление.Периодичность.Полугодие") Тогда
				Строка = НСтр("ru = 'прошлое полугодие,прошлых полугодия,прошлых полугодий'");
			КонецЕсли;
			
			Период = СтрШаблон(НСтр("ru='за %1'"), СтроковыеФункцииКлиентСервер.ЧислоЦифрамиПредметИсчисленияПрописью(Объект.КоличествоПериодовНакопления, Строка));
			
		ИначеЕсли Объект.ВариантОпределенияПериодаНакопительнойСкидки = ПредопределенноеЗначение("Перечисление.ВариантыОпределенияПериодаНакопительнойСкидки.СНачалаТекущегоПериода") Тогда
			
			Если Объект.ПериодНакопления = ПредопределенноеЗначение("Перечисление.Периодичность.Год") Тогда
				Период = НСтр("ru = 'с начала текущего года'");
			ИначеЕсли Объект.ПериодНакопления = ПредопределенноеЗначение("Перечисление.Периодичность.Декада") Тогда
				Период = НСтр("ru = 'с начала текущей декады'");
			ИначеЕсли Объект.ПериодНакопления = ПредопределенноеЗначение("Перечисление.Периодичность.День") Тогда
				Период = НСтр("ru = 'с начала текущего дня'");
			ИначеЕсли Объект.ПериодНакопления = ПредопределенноеЗначение("Перечисление.Периодичность.Квартал") Тогда
				Период = НСтр("ru = 'с начала текущего квартала'");
			ИначеЕсли Объект.ПериодНакопления = ПредопределенноеЗначение("Перечисление.Периодичность.Месяц") Тогда
				Период = НСтр("ru = 'с начала текущего месяца'");
			ИначеЕсли Объект.ПериодНакопления = ПредопределенноеЗначение("Перечисление.Периодичность.Неделя") Тогда
				Период = НСтр("ru = 'с начала текущей недели'");
			ИначеЕсли Объект.ПериодНакопления = ПредопределенноеЗначение("Перечисление.Периодичность.Полугодие") Тогда
				Период = НСтр("ru = 'с начала текущего полугодия'");
			КонецЕсли;
			
		ИначеЕсли Объект.ВариантОпределенияПериодаНакопительнойСкидки = ПредопределенноеЗначение("Перечисление.ВариантыОпределенияПериодаНакопительнойСкидки.ПрошлыйСкользящийПериод") Тогда
			
			Строка = "";
			Если Объект.ПериодНакопления = ПредопределенноеЗначение("Перечисление.Периодичность.Год") Тогда
				Строка = НСтр("ru = 'предыдущий год,продыдущих года,предыдущих лет'");
			ИначеЕсли Объект.ПериодНакопления = ПредопределенноеЗначение("Перечисление.Периодичность.Полугодие") Тогда
				Строка = НСтр("ru = 'предыдущее полугодие,предыдущих полугодия,предыдущих полугодий'");
			ИначеЕсли Объект.ПериодНакопления = ПредопределенноеЗначение("Перечисление.Периодичность.Квартал") Тогда
				Строка = НСтр("ru = 'предыдущий квартал,предыдущих квартала,предыдущих кварталов'");
			ИначеЕсли Объект.ПериодНакопления = ПредопределенноеЗначение("Перечисление.Периодичность.Месяц") Тогда
				Строка = НСтр("ru = 'предыдущий месяц,предыдущих месяца,предыдущих месяцев'");
			ИначеЕсли Объект.ПериодНакопления = ПредопределенноеЗначение("Перечисление.Периодичность.Декада") Тогда
				Строка = НСтр("ru = 'предыдущую декаду,предыдущих декады,предыдущих декад'");
			ИначеЕсли Объект.ПериодНакопления = ПредопределенноеЗначение("Перечисление.Периодичность.Неделя") Тогда
				Строка = НСтр("ru = 'предыдущую неделю,предыдущих недель,предыдущих недель'");
			ИначеЕсли Объект.ПериодНакопления = ПредопределенноеЗначение("Перечисление.Периодичность.День") Тогда
				Строка = НСтр("ru = 'предыдущий день,предыдущих дня,предыдущих дней'");
			КонецЕсли;
			
			Период = СтрШаблон(НСтр("ru='за %1'"), СтроковыеФункцииКлиентСервер.ЧислоЦифрамиПредметИсчисленияПрописью(Объект.КоличествоПериодовНакопления, Строка));
			
		КонецЕсли;
		
		ВариантНакопления = ?(Объект.ВариантНакопления = ПредопределенноеЗначение("Перечисление.ВариантыНакопленияКумулятивнойСкидкиНаценки.ПоПартнеру"), НСтр("ru = 'по клиенту'"), НСтр("ru = 'по торговому соглашению'"));
		
		Если Объект.КритерийОграниченияПримененияЗаОбъемПродаж = ПредопределенноеЗначение("Перечисление.КритерииОграниченияПримененияСкидкиНаценкиЗаОбъемПродаж.Количество") Тогда
			СтрокаНаименования = СтрШаблон(
				НСтр("ru = 'Количество проданной номенклатуры %4 %1 %2 ед. %3'"),
				Объект.ТипСравнения,
				Объект.ЗначениеУсловияОграничения,
				ПоКакойНоменклатуре,
				ВариантНакопления);
		ИначеЕсли Объект.КритерийОграниченияПримененияЗаОбъемПродаж = ПредопределенноеЗначение("Перечисление.КритерииОграниченияПримененияСкидкиНаценкиЗаОбъемПродаж.КоличествоРазличных") Тогда
			СтрокаНаименования = СтрШаблон(
				НСтр("ru = 'Количество различных наименований проданной номенклатуры %4 %1 %2 шт. %3'"),
				Объект.ТипСравнения,
				Объект.ЗначениеУсловияОграничения,
				ПоКакойНоменклатуре,
				ВариантНакопления);
		ИначеЕсли Объект.КритерийОграниченияПримененияЗаОбъемПродаж = ПредопределенноеЗначение("Перечисление.КритерииОграниченияПримененияСкидкиНаценкиЗаОбъемПродаж.КоличествоОдинаковых") Тогда
			СтрокаНаименования = СтрШаблон(
				НСтр("ru = 'Количество одинаковых позиций проданной номенклатуры %4 %1 %2 ед. %3'"),
				Объект.ТипСравнения,
				Объект.ЗначениеУсловияОграничения,
				ПоКакойНоменклатуре,
				ВариантНакопления);
		ИначеЕсли Объект.КритерийОграниченияПримененияЗаОбъемПродаж = ПредопределенноеЗначение("Перечисление.КритерииОграниченияПримененияСкидкиНаценкиЗаОбъемПродаж.Сумма") Тогда
			СтрокаНаименования = СтрШаблон(
				НСтр("ru = 'Сумма проданной номенклатуры %5 %1 %2 %3 %4'"),
				Объект.ТипСравнения,
				Объект.ЗначениеУсловияОграничения,
				Объект.ВалютаОграничения,
				ПоКакойНоменклатуре, 
				ВариантНакопления);
		КонецЕсли;
		
	КонецЕсли;
// --Общий модуль СкидкиНаценкиСкиентСервер.АвтоНаименованиеУсловияПредоставленияСкидки

Объект.Наименование = СтрокаНаименования;</ПослеЗагрузки>
					<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
					<Источник>СправочникСсылка.ТипыСкидокНаценок</Источник>
					<Приемник>СправочникСсылка.УсловияПредоставленияСкидокНаценок</Приемник>
					<Свойства>
						<Свойство>
							<Код>9</Код>
							<Наименование>--&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<ПередВыгрузкой>Значение = "1";</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>--&gt; КритерийОграниченияПримененияЗаОбъемПродаж</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КритерийОграниченияПримененияЗаОбъемПродаж" Вид="Реквизит" Тип="ПеречислениеСсылка.КритерииОграниченияПримененияСкидкиНаценкиЗаОбъемПродаж"/>
							<ПередВыгрузкой>Значение = "Сумма";</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>6</Код>
							<Наименование>--&gt; ТипСравнения</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипСравнения" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыСравненияЗначенийСкидокНаценок"/>
							<ПередВыгрузкой>Значение = "НеМенее";</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>13</Код>
							<Наименование>Валюта --&gt; ВалютаОграничения</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Валюта" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаОграничения" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>ЗначениеУсловия --&gt; ЗначениеУсловияОграничения</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="ЗначениеУсловия" Вид="Реквизит"/>
							<Приемник Имя="ЗначениеУсловияОграничения" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>1</Код>
							<Наименование>--&gt; ВидКартыЛояльности</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидКартыЛояльности" Вид="Реквизит" Тип="СправочникСсылка.ВидыКартЛояльности"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>5</Код>
							<Наименование>--&gt; ПериодНакопления</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПериодНакопления" Вид="Реквизит" Тип="ПеречислениеСсылка.Периодичность"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Условие --&gt; УсловиеПредоставления</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Условие" Вид="Реквизит" Тип="ПеречислениеСсылка.УсловияСкидкиНаценки"/>
							<Приемник Имя="УсловиеПредоставления" Вид="Реквизит"/>
							<КодПравилаКонвертации>Условия_УсловияПредоставленияСкидокНаценок</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>--&gt; ФормаОплаты</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ФормаОплаты" Вид="Реквизит" Тип="ПеречислениеСсылка.ФормыОплаты"/>
							<ПередВыгрузкой>Если ТипЗнч(Источник.ЗначениеУсловия) = Тип("СправочникСсылка.ВидыОплатЧекаККМ") Тогда
	Значение = ОбщегоНазначения.ПолучитьЗначениеРеквизита(Источник.ЗначениеУсловия, "ТипОплаты");
	Если ЗначениеЗаполнено(Значение) Тогда
		ИмяПКО = "ФормыОплаты";
	Иначе
		Отказ = Истина;
	КонецЕсли;	
Иначе
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>10</Код>
							<Наименование>--&gt; ПометкаУдаления</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство Отключить="true">
							<Код>11</Код>
							<Наименование>--&gt; Родитель</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.УсловияПредоставленияСкидокНаценок"/>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>12</Код>
							<Наименование>--&gt; ЭтоГруппа</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Группа Отключить="false">
					<Код>ГруппаДисконтныеКарты</Код>
					<Наименование>ГруппаДисконтныеКарты</Наименование>
					<Порядок>1100</Порядок>
					<Правило>
						<Код>ВидыДисконтныхКарт_ВидыКартЛояльности</Код>
						<Наименование>ВидыДисконтныхКарт_ВидыКартЛояльности</Наименование>
						<Порядок>50</Порядок>
						<ПередВыгрузкой>ВходящиеДанные = Новый Структура("ТипКарты,Персонализирована");

Запрос = Новый Запрос("ВЫБРАТЬ
                      |	МАКСИМУМ(ИнформационныеКарты.ВидКарты) КАК ТипКарты,
                      |	МАКСИМУМ(ВЫБОР
                      |			КОГДА (ВЫРАЗИТЬ(ИнформационныеКарты.ВладелецКарты КАК Справочник.Контрагенты)) &lt;&gt; ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка)
                      |				ТОГДА ИСТИНА
                      |			ИНАЧЕ ЛОЖЬ
                      |		КОНЕЦ) КАК Персонализирована,
                      |	ИнформационныеКарты.ВладелецКарты
                      |ИЗ
                      |	Справочник.ИнформационныеКарты КАК ИнформационныеКарты
                      |ГДЕ
                      |	ИнформационныеКарты.ВидДисконтнойКарты = &amp;ВидДисконтнойКарты
                      |
                      |СГРУППИРОВАТЬ ПО
                      |	ИнформационныеКарты.ВладелецКарты");
					  
Запрос.УстановитьПараметр("ВидДисконтнойКарты", Источник);
Выборка = Запрос.Выполнить().Выбрать();
Если Выборка.Следующий() Тогда
	ЗаполнитьЗначенияСвойств(ВходящиеДанные, Выборка);
КонецЕсли;</ПередВыгрузкой>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>СправочникСсылка.ВидыДисконтныхКарт</Источник>
						<Приемник>СправочникСсылка.ВидыКартЛояльности</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>--&gt; ТипКарты</Наименование>
								<Порядок>100</Порядок>
								<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ТипКарты" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКарт"/>
								<ПриВыгрузке>Если ЗначениеЗаполнено(Значение) Тогда
	ИмяПКО = "ВидыИнформационныхКарт_ТипыКарт";
Иначе
	Значение = "Смешанная";
КонецЕсли;</ПриВыгрузке>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; Статус</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Статус" Вид="Реквизит" Тип="ПеречислениеСсылка.СтатусыВидовКартЛояльности"/>
								<ПередВыгрузкой>Значение = "Действует";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<НеЗамещать>true</НеЗамещать>
								<Код>5</Код>
								<Наименование> --&gt; ДатаНачалаДействия</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДатаНачалаДействия" Вид="Реквизит" Тип="Дата"/>
								<ПередВыгрузкой>Значение = Дата('19800101');</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>--&gt; Персонализирована</Наименование>
								<Порядок>250</Порядок>
								<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Персонализирована" Вид="Реквизит" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ИнформационныеКарты_КартыЛояльности</Код>
						<Наименование>ИнформационныеКарты_КартыЛояльности</Наименование>
						<Порядок>100</Порядок>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>СправочникСсылка.ИнформационныеКарты</Источник>
						<Приемник>СправочникСсылка.КартыЛояльности</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>4</Код>
								<Наименование>КодКарты --&gt; МагнитныйКод</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="КодКарты" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="МагнитныйКод" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>1</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>ВидДисконтнойКарты --&gt; Владелец</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="ВидДисконтнойКарты" Вид="Реквизит" Тип="СправочникСсылка.ВидыДисконтныхКарт"/>
								<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.ВидыКартЛояльности"/>
								<КодПравилаКонвертации>ВидыДисконтныхКарт_ВидыКартЛояльности</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>5</Код>
								<Наименование>ВладелецКарты --&gt; Контрагент</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="ВладелецКарты" Вид="Реквизит"/>
								<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
								<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>ВладелецКарты --&gt; Партнер</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="ВладелецКарты" Вид="Реквизит"/>
								<Приемник Имя="Партнер" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
								<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование> --&gt; Статус</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Статус" Вид="Реквизит" Тип="ПеречислениеСсылка.СтатусыКартЛояльности"/>
								<ПередВыгрузкой>Значение = "Действует";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>8</Код>
								<Наименование> --&gt; Штрихкод</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Штрихкод" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>Запрос = Новый Запрос("ВЫБРАТЬ ПЕРВЫЕ 1
                      |	Штрихкоды.Штрихкод
                      |ИЗ
                      |	Справочник.ИнформационныеКарты КАК ИнформационныеКарты
                      |		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.Штрихкоды КАК Штрихкоды
                      |		ПО (Штрихкоды.Владелец = ИнформационныеКарты.Ссылка)
                      |ГДЕ
                      |	ИнформационныеКарты.Ссылка = &amp;Ссылка");
					  
Запрос.УстановитьПараметр("Ссылка", Источник);
Выборка = Запрос.Выполнить().Выбрать();
Выборка.Следующий();
Значение = Выборка.Штрихкод;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
			</Группа>
			<Группа Отключить="false">
				<Код>Прочее</Код>
				<Наименование>Прочее</Наименование>
				<Порядок>1150</Порядок>
				<Правило>
					<Код>УчетныеЗаписиЭлектроннойПочты</Код>
					<Наименование>УчетныеЗаписиЭлектроннойПочты</Наименование>
					<Порядок>250</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.УчетныеЗаписиЭлектроннойПочты</Источник>
					<Приемник>СправочникСсылка.УчетныеЗаписиЭлектроннойПочты</Приемник>
					<Свойства>
						<Свойство>
							<Код>3</Код>
							<Наименование>АдресЭлектроннойПочты --&gt; АдресЭлектроннойПочты</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="АдресЭлектроннойПочты" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="АдресЭлектроннойПочты" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>ОставлятьКопииСообщенийНаСервере --&gt; ОставлятьКопииСообщенийНаСервере</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ОставлятьКопииСообщенийНаСервере" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="ОставлятьКопииСообщенийНаСервере" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Логин --&gt; Пользователь</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Логин" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Пользователь" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>ВремяОжиданияСервера --&gt; ВремяОжидания</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="ВремяОжиданияСервера" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="ВремяОжидания" Вид="Реквизит" Тип="Число"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПричиныЗакрытияЗаказов_ПричиныОтменыЗаказов</Код>
					<Наименование>ПричиныЗакрытияЗаказов_ПричиныОтменыЗаказов</Наименование>
					<Порядок>300</Порядок>
					<ПослеЗагрузки>Параметры.ЗагруженыПОЗаказовКлиентов = Истина;</ПослеЗагрузки>
					<Источник>СправочникСсылка.ПричиныЗакрытияЗаказов</Источник>
					<Приемник>СправочникСсылка.ПричиныОтменыЗаказовКлиентов</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>Проекты</Код>
					<Наименование>Проекты</Наименование>
					<Порядок>350</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.Проекты</Источник>
					<Приемник>СправочникСсылка.Проекты</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование>ДатаНачала --&gt; ДатаНачала</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДатаНачала" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="ДатаНачала" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ДатаОкончания --&gt; ДатаОкончания</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ДатаОкончания" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="ДатаОкончания" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Ответственный --&gt; Ответственный</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>Описание --&gt; Комментарий</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="Описание" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Группа>
							<Код>8</Код>
							<Наименование> --&gt; ДополнительныеРеквизиты</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПереносСвойств);</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>9</Код>
								<Наименование> --&gt; Значение</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Значение" Вид="Реквизит" Тип=""/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование> --&gt; Свойство</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>СтатьиДвиженияДенежныхСредств</Код>
					<Наименование>СтатьиДвиженияДенежныхСредств</Наименование>
					<Порядок>450</Порядок>
					<НеЗамещать>true</НеЗамещать>
					<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
					<Источник>СправочникСсылка.СтатьиДвиженияДенежныхСредств</Источник>
					<Приемник>СправочникСсылка.СтатьиДвиженияДенежныхСредств</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>4</Код>
							<Наименование> --&gt; ЭтоГруппа</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения>
						<Значение>
							<Код>1</Код>
							<Наименование>ОплатаПокупателя -&gt; ПоступлениеОплатыОтКлиента</Наименование>
							<Порядок>50</Порядок>
							<Источник>ОплатаПокупателя</Источник>
							<Приемник>ПоступлениеОплатыОтКлиента</Приемник>
						</Значение>
						<Значение>
							<Код>2</Код>
							<Наименование>ОплатаПоставщику -&gt; ОплатаПоставщику</Наименование>
							<Порядок>100</Порядок>
							<Источник>ОплатаПоставщику</Источник>
							<Приемник>ОплатаПоставщику</Приемник>
						</Значение>
						<Значение>
							<Код>3</Код>
							<Наименование>ВыдачаДенежныхСредствКассеККМ -&gt; ВыдачаДенежныхСредствВКассуККМ</Наименование>
							<Порядок>150</Порядок>
							<Источник>ВыдачаДенежныхСредствКассеККМ</Источник>
							<Приемник>ВыдачаДенежныхСредствВКассуККМ</Приемник>
						</Значение>
					</Значения>
				</Правило>
				<Правило>
					<Код>ПриоритетыПоНаименованию</Код>
					<Наименование>ПриоритетыПоНаименованию</Наименование>
					<Порядок>500</Порядок>
					<Приемник>СправочникСсылка.Приоритеты</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>--&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<ПередВыгрузкой>Значение = Источник;</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ПричиныЗакрытияЗаказов_ПричиныОтменыЗаказовПоставщ</Код>
					<Наименование>ПричиныЗакрытияЗаказов_ПричиныОтменыЗаказовПоставщ</Наименование>
					<Порядок>550</Порядок>
					<Источник>СправочникСсылка.ПричиныЗакрытияЗаказов</Источник>
					<Приемник>СправочникСсылка.ПричиныОтменыЗаказовПоставщикам</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>--&gt; ИнициаторОтменыЗаказовПоставщикам</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИнициаторОтменыЗаказовПоставщикам" Вид="Реквизит" Тип="ПеречислениеСсылка.ИнициаторОтменыЗаказовПоставщикам"/>
							<ПередВыгрузкой>Значение = "Поставщик";</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ГрафикиОплатыПоУмолчаниюПредоплата</Код>
					<Наименование>ГрафикиОплатыПоУмолчаниюПредоплата</Наименование>
					<Порядок>600</Порядок>
					<Приемник>СправочникСсылка.ГрафикиОплаты</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>--&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<ПередВыгрузкой>Значение = НСтр("ru='Предоплата 100% (по умолчанию)'");</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; ФормаОплаты</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ФормаОплаты" Вид="Реквизит" Тип="ПеречислениеСсылка.ФормыОплаты"/>
							<ПередВыгрузкой>Значение = "Безналичная";</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>4</Код>
							<Наименование>--&gt; Этапы</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Этапы" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Добавить();</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>5</Код>
								<Наименование>--&gt; ПроцентПлатежа</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ПроцентПлатежа" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>Значение = 100;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>--&gt; ВариантОплаты</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ВариантОплаты" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыКонтроляОплатыКлиентом"/>
								<ПередВыгрузкой>Значение = "ПредоплатаДоОтгрузки";</ПередВыгрузкой>
							</Свойство>
						</Группа>
					</Свойства>
					<Значения/>
				</Правило>
				<Группа Отключить="false">
					<Код>ВидыКонтактнойИнформации</Код>
					<Наименование>ВидыКонтактнойИнформации</Наименование>
					<Порядок>1200</Порядок>
					<Правило>
						<Код>ВидыКонтактнойИнформацииВсе</Код>
						<Наименование>ВидыКонтактнойИнформацииВсе</Наименование>
						<Порядок>150</Порядок>
						<ПослеЗагрузки>Если Не ОбъектНайден И Объект.Родитель = Справочники.ВидыКонтактнойИнформации.СправочникКонтрагенты Тогда
	Отказ = Истина;
КонецЕсли;

Если Не Отказ Тогда
	Если ЗначениеЗаполнено(Объект.ИмяПредопределенныхДанных) Тогда
		ЗаполнитьЗначенияСвойств(Объект, Объект.Ссылка, "Тип, Родитель, Наименование");
	КонецЕсли;
КонецЕсли;</ПослеЗагрузки>
						<Источник>СправочникСсылка.ВидыКонтактнойИнформации</Источник>
						<Приемник>СправочникСсылка.ВидыКонтактнойИнформации</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>3</Код>
								<Наименование>Тип --&gt; Тип</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
								<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
								<КодПравилаКонвертации>ТипыКонтактнойИнформации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>5</Код>
								<Наименование>--&gt; Родитель</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
								<ПередВыгрузкой>Если Источник.ВидОбъектаКонтактнойИнформации = Перечисления.ВидыОбъектовКонтактнойИнформации.КонтактныеЛицаКонтрагентов Тогда
	Значение = "СправочникКонтактныеЛицаПартнеров";
ИначеЕсли Источник.ВидОбъектаКонтактнойИнформации = Перечисления.ВидыОбъектовКонтактнойИнформации.Контрагенты Тогда
	Значение = "СправочникКонтрагенты";
ИначеЕсли Источник.ВидОбъектаКонтактнойИнформации = Перечисления.ВидыОбъектовКонтактнойИнформации.Организации Тогда
	Значение = "СправочникОрганизации";
ИначеЕсли Источник.ВидОбъектаКонтактнойИнформации = Перечисления.ВидыОбъектовКонтактнойИнформации.Пользователи Тогда
	Значение = "СправочникПользователи";
ИначеЕсли Источник.ВидОбъектаКонтактнойИнформации = Перечисления.ВидыОбъектовКонтактнойИнформации.ФизическиеЛица Тогда
	Значение = "СправочникФизическиеЛица";
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>6</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>7</Код>
								<Наименование>--&gt; Используется</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Используется" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения>
							<Значение>
								<Код>1</Код>
								<Наименование>ТелефонОрганизации -&gt; ТелефонОрганизации</Наименование>
								<Порядок>50</Порядок>
								<Источник>ТелефонОрганизации</Источник>
								<Приемник>ТелефонОрганизации</Приемник>
							</Значение>
							<Значение>
								<Код>2</Код>
								<Наименование>ФаксОрганизации -&gt; ФаксОрганизации</Наименование>
								<Порядок>100</Порядок>
								<Источник>ФаксОрганизации</Источник>
								<Приемник>ФаксОрганизации</Приемник>
							</Значение>
							<Значение>
								<Код>3</Код>
								<Наименование>ФактАдресОрганизации -&gt; ФактАдресОрганизации</Наименование>
								<Порядок>150</Порядок>
								<Источник>ФактАдресОрганизации</Источник>
								<Приемник>ФактАдресОрганизации</Приемник>
							</Значение>
							<Значение>
								<Код>4</Код>
								<Наименование>ЮрАдресОрганизации -&gt; ЮрАдресОрганизации</Наименование>
								<Порядок>200</Порядок>
								<Источник>ЮрАдресОрганизации</Источник>
								<Приемник>ЮрАдресОрганизации</Приемник>
							</Значение>
							<Значение>
								<Код>5</Код>
								<Наименование>АдресЭлектроннойПочтыКонтактногоЛицаКонтрагента -&gt; EmailКонтактногоЛица</Наименование>
								<Порядок>250</Порядок>
								<Источник>АдресЭлектроннойПочтыКонтактногоЛицаКонтрагента</Источник>
								<Приемник>EmailКонтактногоЛица</Приемник>
							</Значение>
							<Значение>
								<Код>6</Код>
								<Наименование>ЮрАдресКонтрагента -&gt; ЮрАдресКонтрагента</Наименование>
								<Порядок>300</Порядок>
								<Источник>ЮрАдресКонтрагента</Источник>
								<Приемник>ЮрАдресКонтрагента</Приемник>
							</Значение>
							<Значение>
								<Код>7</Код>
								<Наименование>ТелефонКонтрагента -&gt; ТелефонКонтрагента</Наименование>
								<Порядок>350</Порядок>
								<Источник>ТелефонКонтрагента</Источник>
								<Приемник>ТелефонКонтрагента</Приемник>
							</Значение>
							<Значение>
								<Код>8</Код>
								<Наименование>РабочийТелефонКонтактногоЛицаКонтрагента -&gt; ТелефонКонтактногоЛица</Наименование>
								<Порядок>400</Порядок>
								<Источник>РабочийТелефонКонтактногоЛицаКонтрагента</Источник>
								<Приемник>ТелефонКонтактногоЛица</Приемник>
							</Значение>
							<Значение>
								<Код>9</Код>
								<Наименование>ФактАдресФизЛица -&gt; АдресМестаПроживанияФизическиеЛица</Наименование>
								<Порядок>450</Порядок>
								<Источник>ФактАдресФизЛица</Источник>
								<Приемник>АдресМестаПроживанияФизическиеЛица</Приемник>
							</Значение>
							<Значение>
								<Код>10</Код>
								<Наименование>МобильныйТелефонКонтактногоЛицаКонтрагента -&gt; МобильныйТелефонКонтактногоЛица</Наименование>
								<Порядок>500</Порядок>
								<Источник>МобильныйТелефонКонтактногоЛицаКонтрагента</Источник>
								<Приемник>МобильныйТелефонКонтактногоЛица</Приемник>
							</Значение>
							<Значение>
								<Код>11</Код>
								<Наименование>ТелефонФизЛицаСлужебный -&gt; ТелефонРабочийФизическиеЛица</Наименование>
								<Порядок>550</Порядок>
								<Источник>ТелефонФизЛицаСлужебный</Источник>
								<Приемник>ТелефонРабочийФизическиеЛица</Приемник>
							</Значение>
							<Значение>
								<Код>12</Код>
								<Наименование>ФактАдресКонтрагента -&gt; ФактАдресКонтрагента</Наименование>
								<Порядок>600</Порядок>
								<Источник>ФактАдресКонтрагента</Источник>
								<Приемник>ФактАдресКонтрагента</Приемник>
							</Значение>
							<Значение>
								<Код>13</Код>
								<Наименование>СлужебныйАдресЭлектроннойПочтыПользователя -&gt; EmailПользователя</Наименование>
								<Порядок>650</Порядок>
								<Источник>СлужебныйАдресЭлектроннойПочтыПользователя</Источник>
								<Приемник>EmailПользователя</Приемник>
							</Значение>
							<Значение>
								<Код>14</Код>
								<Наименование>АдресОрганизацииПочтовый -&gt; ПочтовыйАдресОрганизации</Наименование>
								<Порядок>700</Порядок>
								<Источник>АдресОрганизацииПочтовый</Источник>
								<Приемник>ПочтовыйАдресОрганизации</Приемник>
							</Значение>
							<Значение>
								<Код>15</Код>
								<Наименование>ЮрАдресФизЛица -&gt; АдресПоПропискеФизическиеЛица</Наименование>
								<Порядок>750</Порядок>
								<Источник>ЮрАдресФизЛица</Источник>
								<Приемник>АдресПоПропискеФизическиеЛица</Приемник>
							</Значение>
							<Значение>
								<Код>16</Код>
								<Наименование>ТелефонФизЛицаДомашний -&gt; ТелефонДомашнийФизическиеЛица</Наименование>
								<Порядок>800</Порядок>
								<Источник>ТелефонФизЛицаДомашний</Источник>
								<Приемник>ТелефонДомашнийФизическиеЛица</Приемник>
							</Значение>
							<Значение>
								<Код>17</Код>
								<Наименование>АдресЭлектроннойПочтыКонтрагентаДляОбменаДокументами -&gt; EmailКонтрагента</Наименование>
								<Порядок>850</Порядок>
								<Источник>АдресЭлектроннойПочтыКонтрагентаДляОбменаДокументами</Источник>
								<Приемник>EmailКонтрагента</Приемник>
							</Значение>
							<Значение>
								<Код>18</Код>
								<Наименование>ИнострАдресФизЛица -&gt; АдресЗаПределамиРФФизическиеЛица</Наименование>
								<Порядок>900</Порядок>
								<Источник>ИнострАдресФизЛица</Источник>
								<Приемник>АдресЗаПределамиРФФизическиеЛица</Приемник>
							</Значение>
							<Значение>
								<Код>19</Код>
								<Наименование>ИнформАдресФизЛица -&gt; АдресДляИнформированияФизическиеЛица</Наименование>
								<Порядок>950</Порядок>
								<Источник>ИнформАдресФизЛица</Источник>
								<Приемник>АдресДляИнформированияФизическиеЛица</Приемник>
							</Значение>
							<Значение>
								<Код>20</Код>
								<Наименование>ФаксКонтрагента -&gt; ФаксКонтрагенты</Наименование>
								<Порядок>1000</Порядок>
								<Источник>ФаксКонтрагента</Источник>
								<Приемник>ФаксКонтрагенты</Приемник>
							</Значение>
						</Значения>
					</Правило>
					<Правило>
						<Код>ВидыКонтактнойИнформацииПартнеры</Код>
						<Наименование>ВидыКонтактнойИнформацииПартнеры</Наименование>
						<Порядок>200</Порядок>
						<ПослеЗагрузки>Если Не Отказ Тогда
	Если ЗначениеЗаполнено(Объект.ИмяПредопределенныхДанных) Тогда
		ЗаполнитьЗначенияСвойств(Объект, Объект.Ссылка, "Тип, Родитель, Наименование");
	КонецЕсли;

	Выполнить(Алгоритмы.УстановитьЗначениеРеквизитаУпорядочивания);
КонецЕсли;</ПослеЗагрузки>
						<Источник>СправочникСсылка.ВидыКонтактнойИнформации</Источник>
						<Приемник>СправочникСсылка.ВидыКонтактнойИнформации</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Тип --&gt; Тип</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
								<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
								<КодПравилаКонвертации>ТипыКонтактнойИнформации</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование>--&gt; Родитель</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
								<ПередВыгрузкой>Значение = "СправочникПартнеры";</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>3</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>--&gt; Используется</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Используется" Вид="Реквизит" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения>
							<Значение>
								<Код>1</Код>
								<Наименование>АдресЭлектроннойПочтыКонтрагентаДляОбменаДокументами -&gt; EmailПартнера</Наименование>
								<Порядок>50</Порядок>
								<Источник>АдресЭлектроннойПочтыКонтрагентаДляОбменаДокументами</Источник>
								<Приемник>EmailПартнера</Приемник>
							</Значение>
							<Значение>
								<Код>2</Код>
								<Наименование>ФактАдресКонтрагента -&gt; АдресПартнера</Наименование>
								<Порядок>100</Порядок>
								<Источник>ФактАдресКонтрагента</Источник>
								<Приемник>АдресПартнера</Приемник>
							</Значение>
							<Значение>
								<Код>3</Код>
								<Наименование>ТелефонКонтрагента -&gt; ТелефонПартнера</Наименование>
								<Порядок>150</Порядок>
								<Источник>ТелефонКонтрагента</Источник>
								<Приемник>ТелефонПартнера</Приемник>
							</Значение>
						</Значения>
					</Правило>
				</Группа>
				<Группа Отключить="false">
					<Код>Выгрузка файлов</Код>
					<Наименование>Выгрузка файлов</Наименование>
					<Порядок>1250</Порядок>
					<Правило>
						<Код>ФайлыНоменклатуры</Код>
						<Наименование>ФайлыНоменклатуры</Наименование>
						<Порядок>50</Порядок>
						<ПередВыгрузкой>КлючВыгружаемыхДанных = Источник.Ссылка;
ВходящиеДанные.Вставить("ДанныеХранилища", Источник.Хранилище.Получить());</ПередВыгрузкой>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ПослеЗагрузкиПрисоединенногоФайла);

//Занесем данные об объекте в таблицу отложенной обработки 
НоваяСтрока = Параметры.ЗагруженныеОбъектыПереноса.Добавить();
НоваяСтрока.ИмяПКО = "ФайлыНоменклатуры";
НоваяСтрока.Объект = Объект;
НоваяСтрока.Параметры = ПараметрыОбъекта;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Источник>СправочникСсылка.ХранилищеДополнительнойИнформации</Источник>
						<Приемник>СправочникСсылка.НоменклатураПрисоединенныеФайлы</Приемник>
						<Свойства>
							<Свойство>
								<Код>5</Код>
								<Наименование>Объект --&gt; ВладелецФайла</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Объект" Вид="Реквизит"/>
								<Приемник Имя="ВладелецФайла" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
								<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>ИмяФайла --&gt; Расширение</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="ИмяФайла" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Расширение" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>ДанныеХранилища = ВходящиеДанные.ДанныеХранилища;
Если Источник.ВидДанных = Перечисления.ВидыДополнительнойИнформацииОбъектов.Изображение
	И ТипЗнч(ДанныеХранилища) = Тип("Картинка") Тогда
	ФорматХранимойКартинки = ДанныеХранилища.Формат();
	Значение = ?(ФорматХранимойКартинки = ФорматКартинки.НеизвестныйФормат, Неопределено, НРег(ФорматХранимойКартинки));
КонецЕсли;

Если Значение = Неопределено Тогда
	Значение = РаботаСФайлами.ПолучитьРасширениеФайла(Источник.ИмяФайла);
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>4</Код>
								<Наименование>Хранилище --&gt; ФайлХранилище</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Хранилище" Вид="Реквизит" Тип="ХранилищеЗначения"/>
								<Приемник Имя="ФайлХранилище" Вид="Реквизит" Тип="ХранилищеЗначения"/>
								<ПередВыгрузкой>ДанныеХранилища = ВходящиеДанные.ДанныеХранилища;
Если ТипЗнч(ДанныеХранилища) = Тип("Картинка") Тогда
	Значение = Новый ХранилищеЗначения(ДанныеХранилища.ПолучитьДвоичныеДанные(), Новый СжатиеДанных(9));
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>--&gt; Размер</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Размер" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>ДанныеХранилища = ВходящиеДанные.ДанныеХранилища;
Если ТипЗнч(ДанныеХранилища) = Тип("Картинка") Тогда
	Значение = ДанныеХранилища.ПолучитьДвоичныеДанные().Размер();
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование>--&gt; СтатусИзвлеченияТекста</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтатусИзвлеченияТекста" Вид="Реквизит" Тип="ПеречислениеСсылка.СтатусыИзвлеченияТекстаФайлов"/>
								<ПередВыгрузкой>Значение = "НеИзвлечен";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование>--&gt; ТекстХранилище</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ТекстХранилище" Вид="Реквизит" Тип="ХранилищеЗначения"/>
								<ПередВыгрузкой>Значение = Новый ХранилищеЗначения("");</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование>--&gt; ТипХраненияФайла</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ТипХраненияФайла" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыХраненияФайлов"/>
								<ПередВыгрузкой>Значение = "ВИнформационнойБазе";</ПередВыгрузкой>
							</Свойство>
							<Свойство Отключить="true">
								<Код>7</Код>
								<Наименование>--&gt; ДатаСоздания</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДатаСоздания" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>11</Код>
								<Наименование>--&gt; ДатаМодификацииУниверсальная</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДатаМодификацииУниверсальная" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>12</Код>
								<Наименование>--&gt; Автор</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>13</Код>
								<Наименование>--&gt; Изменил</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Изменил" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>10</Код>
								<Наименование>--&gt; ИндексКартинки</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ИндексКартинки" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ФайлыПартнеров</Код>
						<Наименование>ФайлыПартнеров</Наименование>
						<Порядок>100</Порядок>
						<ПередВыгрузкой>КлючВыгружаемыхДанных = Источник.Ссылка;
ВходящиеДанные.Вставить("ДанныеХранилища", Источник.Хранилище.Получить());</ПередВыгрузкой>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ПослеЗагрузкиПрисоединенногоФайла);

//Занесем данные об объекте в таблицу отложенной обработки 
НоваяСтрока = Параметры.ЗагруженныеОбъектыПереноса.Добавить();
НоваяСтрока.ИмяПКО = "ФайлыПартнеров";
НоваяСтрока.Объект = Объект;
НоваяСтрока.Параметры = ПараметрыОбъекта;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Источник>СправочникСсылка.ХранилищеДополнительнойИнформации</Источник>
						<Приемник>СправочникСсылка.ПартнерыПрисоединенныеФайлы</Приемник>
						<Свойства>
							<Свойство>
								<Код>4</Код>
								<Наименование>Объект --&gt; ВладелецФайла</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Объект" Вид="Реквизит"/>
								<Приемник Имя="ВладелецФайла" Вид="Реквизит" Тип="СправочникСсылка.Партнеры"/>
								<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>ИмяФайла --&gt; Расширение</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="ИмяФайла" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Расширение" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>ДанныеХранилища = ВходящиеДанные.ДанныеХранилища;
Если Источник.ВидДанных = Перечисления.ВидыДополнительнойИнформацииОбъектов.Изображение
	И ТипЗнч(ДанныеХранилища) = Тип("Картинка") Тогда
	ФорматХранимойКартинки = ДанныеХранилища.Формат();
	Значение = ?(ФорматХранимойКартинки = ФорматКартинки.НеизвестныйФормат, Неопределено, НРег(ФорматХранимойКартинки));
КонецЕсли;

Если Значение = Неопределено Тогда
	Значение = РаботаСФайлами.ПолучитьРасширениеФайла(Источник.ИмяФайла);
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Хранилище --&gt; ФайлХранилище</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Хранилище" Вид="Реквизит" Тип="ХранилищеЗначения"/>
								<Приемник Имя="ФайлХранилище" Вид="Реквизит" Тип="ХранилищеЗначения"/>
								<ПередВыгрузкой>ДанныеХранилища = ВходящиеДанные.ДанныеХранилища;
Если ТипЗнч(ДанныеХранилища) = Тип("Картинка") Тогда
	Значение = Новый ХранилищеЗначения(ДанныеХранилища.ПолучитьДвоичныеДанные(), Новый СжатиеДанных(9));
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>--&gt; Размер</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Размер" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>ДанныеХранилища = ВходящиеДанные.ДанныеХранилища;
Если ТипЗнч(ДанныеХранилища) = Тип("Картинка") Тогда
	Значение = ДанныеХранилища.ПолучитьДвоичныеДанные().Размер();
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>--&gt; СтатусИзвлеченияТекста</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтатусИзвлеченияТекста" Вид="Реквизит" Тип="ПеречислениеСсылка.СтатусыИзвлеченияТекстаФайлов"/>
								<ПередВыгрузкой>Значение = "НеИзвлечен";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>--&gt; ТекстХранилище</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ТекстХранилище" Вид="Реквизит" Тип="ХранилищеЗначения"/>
								<ПередВыгрузкой>Значение = Новый ХранилищеЗначения("");</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>--&gt; ТипХраненияФайла</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ТипХраненияФайла" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыХраненияФайлов"/>
								<ПередВыгрузкой>Значение = "ВИнформационнойБазе";</ПередВыгрузкой>
							</Свойство>
							<Свойство Отключить="true">
								<Код>5</Код>
								<Наименование>--&gt; ДатаСоздания</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДатаСоздания" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>7</Код>
								<Наименование>--&gt; ДатаМодификацииУниверсальная</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДатаМодификацииУниверсальная" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>8</Код>
								<Наименование>--&gt; Автор</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>9</Код>
								<Наименование>--&gt; Изменил</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Изменил" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>6</Код>
								<Наименование>--&gt; ИндексКартинки</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ИндексКартинки" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ФайлыПроектов</Код>
						<Наименование>ФайлыПроектов</Наименование>
						<Порядок>150</Порядок>
						<ПередВыгрузкой>КлючВыгружаемыхДанных = Источник.Ссылка;
ВходящиеДанные.Вставить("ДанныеХранилища", Источник.Хранилище.Получить());</ПередВыгрузкой>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ПослеЗагрузкиПрисоединенногоФайла);

//Занесем данные об объекте в таблицу отложенной обработки 
НоваяСтрока = Параметры.ЗагруженныеОбъектыПереноса.Добавить();
НоваяСтрока.ИмяПКО = "ФайлыПроектов";
НоваяСтрока.Объект = Объект;
НоваяСтрока.Параметры = ПараметрыОбъекта;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Источник>СправочникСсылка.ХранилищеДополнительнойИнформации</Источник>
						<Приемник>СправочникСсылка.ПроектыПрисоединенныеФайлы</Приемник>
						<Свойства>
							<Свойство>
								<Код>4</Код>
								<Наименование>Объект --&gt; ВладелецФайла</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Объект" Вид="Реквизит"/>
								<Приемник Имя="ВладелецФайла" Вид="Реквизит" Тип="СправочникСсылка.Проекты"/>
								<КодПравилаКонвертации>Проекты</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>ИмяФайла --&gt; Расширение</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="ИмяФайла" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Расширение" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>ДанныеХранилища = ВходящиеДанные.ДанныеХранилища;
Если Источник.ВидДанных = Перечисления.ВидыДополнительнойИнформацииОбъектов.Изображение
	И ТипЗнч(ДанныеХранилища) = Тип("Картинка") Тогда
	ФорматХранимойКартинки = ДанныеХранилища.Формат();
	Значение = ?(ФорматХранимойКартинки = ФорматКартинки.НеизвестныйФормат, Неопределено, НРег(ФорматХранимойКартинки));
КонецЕсли;

Если Значение = Неопределено Тогда
	Значение = РаботаСФайлами.ПолучитьРасширениеФайла(Источник.ИмяФайла);
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Хранилище --&gt; ФайлХранилище</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Хранилище" Вид="Реквизит" Тип="ХранилищеЗначения"/>
								<Приемник Имя="ФайлХранилище" Вид="Реквизит" Тип="ХранилищеЗначения"/>
								<ПередВыгрузкой>ДанныеХранилища = ВходящиеДанные.ДанныеХранилища;
Если ТипЗнч(ДанныеХранилища) = Тип("Картинка") Тогда
	Значение = Новый ХранилищеЗначения(ДанныеХранилища.ПолучитьДвоичныеДанные(), Новый СжатиеДанных(9));
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>--&gt; Размер</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Размер" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>ДанныеХранилища = ВходящиеДанные.ДанныеХранилища;
Если ТипЗнч(ДанныеХранилища) = Тип("Картинка") Тогда
	Значение = ДанныеХранилища.ПолучитьДвоичныеДанные().Размер();
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>--&gt; СтатусИзвлеченияТекста</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтатусИзвлеченияТекста" Вид="Реквизит" Тип="ПеречислениеСсылка.СтатусыИзвлеченияТекстаФайлов"/>
								<ПередВыгрузкой>Значение = "НеИзвлечен";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>--&gt; ТекстХранилище</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ТекстХранилище" Вид="Реквизит" Тип="ХранилищеЗначения"/>
								<ПередВыгрузкой>Значение = Новый ХранилищеЗначения("");</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>--&gt; ТипХраненияФайла</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ТипХраненияФайла" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыХраненияФайлов"/>
								<ПередВыгрузкой>Значение = "ВИнформационнойБазе";</ПередВыгрузкой>
							</Свойство>
							<Свойство Отключить="true">
								<Код>5</Код>
								<Наименование>--&gt; ДатаСоздания</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДатаСоздания" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>7</Код>
								<Наименование>--&gt; ДатаМодификацииУниверсальная</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДатаМодификацииУниверсальная" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>8</Код>
								<Наименование>--&gt; Автор</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>9</Код>
								<Наименование>--&gt; Изменил</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Изменил" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>6</Код>
								<Наименование>--&gt; ИндексКартинки</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ИндексКартинки" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ФайлыФизическихЛиц</Код>
						<Наименование>ФайлыФизическихЛиц</Наименование>
						<Порядок>200</Порядок>
						<ПередВыгрузкой>КлючВыгружаемыхДанных = Источник.Ссылка;
ВходящиеДанные.Вставить("ДанныеХранилища", Источник.Хранилище.Получить());</ПередВыгрузкой>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ПослеЗагрузкиПрисоединенногоФайла);

//Занесем данные об объекте в таблицу отложенной обработки 
НоваяСтрока = Параметры.ЗагруженныеОбъектыПереноса.Добавить();
НоваяСтрока.ИмяПКО = "ФайлыФизическихЛиц";
НоваяСтрока.Объект = Объект;
НоваяСтрока.Параметры = ПараметрыОбъекта;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Источник>СправочникСсылка.ХранилищеДополнительнойИнформации</Источник>
						<Приемник>СправочникСсылка.ФизическиеЛицаПрисоединенныеФайлы</Приемник>
						<Свойства>
							<Свойство>
								<Код>4</Код>
								<Наименование>Объект --&gt; ВладелецФайла</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Объект" Вид="Реквизит"/>
								<Приемник Имя="ВладелецФайла" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
								<КодПравилаКонвертации>ФизическиеЛица</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>ИмяФайла --&gt; Расширение</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="ИмяФайла" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Расширение" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>ДанныеХранилища = ВходящиеДанные.ДанныеХранилища;
Если Источник.ВидДанных = Перечисления.ВидыДополнительнойИнформацииОбъектов.Изображение
	И ТипЗнч(ДанныеХранилища) = Тип("Картинка") Тогда
	ФорматХранимойКартинки = ДанныеХранилища.Формат();
	Значение = ?(ФорматХранимойКартинки = ФорматКартинки.НеизвестныйФормат, Неопределено, НРег(ФорматХранимойКартинки));
КонецЕсли;

Если Значение = Неопределено Тогда
	Значение = РаботаСФайлами.ПолучитьРасширениеФайла(Источник.ИмяФайла);
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Хранилище --&gt; ФайлХранилище</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Хранилище" Вид="Реквизит" Тип="ХранилищеЗначения"/>
								<Приемник Имя="ФайлХранилище" Вид="Реквизит" Тип="ХранилищеЗначения"/>
								<ПередВыгрузкой>ДанныеХранилища = ВходящиеДанные.ДанныеХранилища;
Если ТипЗнч(ДанныеХранилища) = Тип("Картинка") Тогда
	Значение = Новый ХранилищеЗначения(ДанныеХранилища.ПолучитьДвоичныеДанные(), Новый СжатиеДанных(9));
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>--&gt; Размер</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Размер" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>ДанныеХранилища = ВходящиеДанные.ДанныеХранилища;
Если ТипЗнч(ДанныеХранилища) = Тип("Картинка") Тогда
	Значение = ДанныеХранилища.ПолучитьДвоичныеДанные().Размер();
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>--&gt; СтатусИзвлеченияТекста</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтатусИзвлеченияТекста" Вид="Реквизит" Тип="ПеречислениеСсылка.СтатусыИзвлеченияТекстаФайлов"/>
								<ПередВыгрузкой>Значение = "НеИзвлечен";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>--&gt; ТекстХранилище</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ТекстХранилище" Вид="Реквизит" Тип="ХранилищеЗначения"/>
								<ПередВыгрузкой>Значение = Новый ХранилищеЗначения("");</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>--&gt; ТипХраненияФайла</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ТипХраненияФайла" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыХраненияФайлов"/>
								<ПередВыгрузкой>Значение = "ВИнформационнойБазе";</ПередВыгрузкой>
							</Свойство>
							<Свойство Отключить="true">
								<Код>5</Код>
								<Наименование>--&gt; ДатаСоздания</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДатаСоздания" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>7</Код>
								<Наименование>--&gt; ДатаМодификацииУниверсальная</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДатаМодификацииУниверсальная" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>8</Код>
								<Наименование>--&gt; Автор</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Автор" Вид="Реквизит"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>9</Код>
								<Наименование>--&gt; Изменил</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Изменил" Вид="Реквизит"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>6</Код>
								<Наименование>--&gt; ИндексКартинки</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ИндексКартинки" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ФайлыСоглашенийСКлиентами</Код>
						<Наименование>ФайлыСоглашенийСКлиентами</Наименование>
						<Порядок>250</Порядок>
						<ПередВыгрузкой>КлючВыгружаемыхДанных = Источник.Ссылка;
ВходящиеДанные.Вставить("ДанныеХранилища", Источник.Хранилище.Получить());</ПередВыгрузкой>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ПослеЗагрузкиПрисоединенногоФайла);

//Занесем данные об объекте в таблицу отложенной обработки 
НоваяСтрока = Параметры.ЗагруженныеОбъектыПереноса.Добавить();
НоваяСтрока.ИмяПКО = "ФайлыСоглашенийСКлиентами";
НоваяСтрока.Объект = Объект;
НоваяСтрока.Параметры = ПараметрыОбъекта;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Источник>СправочникСсылка.ХранилищеДополнительнойИнформации</Источник>
						<Приемник>СправочникСсылка.СоглашенияСКлиентамиПрисоединенныеФайлы</Приемник>
						<Свойства>
							<Свойство>
								<Код>4</Код>
								<Наименование>Объект --&gt; ВладелецФайла</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Объект" Вид="Реквизит"/>
								<Приемник Имя="ВладелецФайла" Вид="Реквизит" Тип="СправочникСсылка.СоглашенияСКлиентами"/>
								<КодПравилаКонвертации>ДоговорСПокупателемСоглашениеСКлиентом</КодПравилаКонвертации>
								<ПередВыгрузкой>Если Источник.ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СПокупателем Тогда
	ИмяПКО = "ДоговорСПокупателемСоглашениеСКлиентом";
Иначе
	ИмяПКО = "ДоговорСПокупателемСоглашениеСКомиссионером";
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>ИмяФайла --&gt; Расширение</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="ИмяФайла" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Расширение" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>ДанныеХранилища = ВходящиеДанные.ДанныеХранилища;
Если Источник.ВидДанных = Перечисления.ВидыДополнительнойИнформацииОбъектов.Изображение
	И ТипЗнч(ДанныеХранилища) = Тип("Картинка") Тогда
	ФорматХранимойКартинки = ДанныеХранилища.Формат();
	Значение = ?(ФорматХранимойКартинки = ФорматКартинки.НеизвестныйФормат, Неопределено, НРег(ФорматХранимойКартинки));
КонецЕсли;

Если Значение = Неопределено Тогда
	Значение = РаботаСФайлами.ПолучитьРасширениеФайла(Источник.ИмяФайла);
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Хранилище --&gt; ФайлХранилище</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Хранилище" Вид="Реквизит" Тип="ХранилищеЗначения"/>
								<Приемник Имя="ФайлХранилище" Вид="Реквизит" Тип="ХранилищеЗначения"/>
								<ПередВыгрузкой>ДанныеХранилища = ВходящиеДанные.ДанныеХранилища;
Если ТипЗнч(ДанныеХранилища) = Тип("Картинка") Тогда
	Значение = Новый ХранилищеЗначения(ДанныеХранилища.ПолучитьДвоичныеДанные(), Новый СжатиеДанных(9));
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>--&gt; Размер</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Размер" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>ДанныеХранилища = ВходящиеДанные.ДанныеХранилища;
Если ТипЗнч(ДанныеХранилища) = Тип("Картинка") Тогда
	Значение = ДанныеХранилища.ПолучитьДвоичныеДанные().Размер();
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>--&gt; СтатусИзвлеченияТекста</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтатусИзвлеченияТекста" Вид="Реквизит" Тип="ПеречислениеСсылка.СтатусыИзвлеченияТекстаФайлов"/>
								<ПередВыгрузкой>Значение = "НеИзвлечен";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>--&gt; ТекстХранилище</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ТекстХранилище" Вид="Реквизит" Тип="ХранилищеЗначения"/>
								<ПередВыгрузкой>Значение = Новый ХранилищеЗначения("");</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>--&gt; ТипХраненияФайла</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ТипХраненияФайла" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыХраненияФайлов"/>
								<ПередВыгрузкой>Значение = "ВИнформационнойБазе";</ПередВыгрузкой>
							</Свойство>
							<Свойство Отключить="true">
								<Код>5</Код>
								<Наименование>--&gt; ДатаСоздания</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДатаСоздания" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>7</Код>
								<Наименование>--&gt; ДатаМодификацииУниверсальная</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДатаМодификацииУниверсальная" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>8</Код>
								<Наименование>--&gt; Автор</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>9</Код>
								<Наименование>--&gt; Изменил</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Изменил" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>6</Код>
								<Наименование>--&gt; ИндексКартинки</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ИндексКартинки" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ФайлыСоглашенийСПоставщиками</Код>
						<Наименование>ФайлыСоглашенийСПоставщиками</Наименование>
						<Порядок>300</Порядок>
						<ПередВыгрузкой>КлючВыгружаемыхДанных = Источник.Ссылка;
ВходящиеДанные.Вставить("ДанныеХранилища", Источник.Хранилище.Получить());</ПередВыгрузкой>
						<ПослеЗагрузки>Выполнить(Алгоритмы.ПослеЗагрузкиПрисоединенногоФайла);

//Занесем данные об объекте в таблицу отложенной обработки 
НоваяСтрока = Параметры.ЗагруженныеОбъектыПереноса.Добавить();
НоваяСтрока.ИмяПКО = "ФайлыСоглашенийСПоставщиками";
НоваяСтрока.Объект = Объект;
НоваяСтрока.Параметры = ПараметрыОбъекта;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
						<Источник>СправочникСсылка.ХранилищеДополнительнойИнформации</Источник>
						<Приемник>СправочникСсылка.СоглашенияСПоставщикамиПрисоединенныеФайлы</Приемник>
						<Свойства>
							<Свойство>
								<Код>4</Код>
								<Наименование>Объект --&gt; ВладелецФайла</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Объект" Вид="Реквизит"/>
								<Приемник Имя="ВладелецФайла" Вид="Реквизит" Тип="СправочникСсылка.СоглашенияСПоставщиками"/>
								<КодПравилаКонвертации>ДоговорСПоставщикомСоглашениеСПоставщиком</КодПравилаКонвертации>
								<ПередВыгрузкой>Если Источник.ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СПоставщиком Тогда
	ИмяПКО = "ДоговорСПоставщикомСоглашениеСПоставщиком";
Иначе
	ИмяПКО = "ДоговорСПоставщикомСоглашениеСКомитентом";
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>10</Код>
								<Наименование>ИмяФайла --&gt; Расширение</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="ИмяФайла" Вид="Реквизит" Тип="Строка"/>
								<Приемник Имя="Расширение" Вид="Реквизит" Тип="Строка"/>
								<ПередВыгрузкой>ДанныеХранилища = ВходящиеДанные.ДанныеХранилища;
Если Источник.ВидДанных = Перечисления.ВидыДополнительнойИнформацииОбъектов.Изображение
	И ТипЗнч(ДанныеХранилища) = Тип("Картинка") Тогда
	ФорматХранимойКартинки = ДанныеХранилища.Формат();
	Значение = ?(ФорматХранимойКартинки = ФорматКартинки.НеизвестныйФормат, Неопределено, НРег(ФорматХранимойКартинки));
КонецЕсли;

Если Значение = Неопределено Тогда
	Значение = РаботаСФайлами.ПолучитьРасширениеФайла(Источник.ИмяФайла);
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>Хранилище --&gt; ФайлХранилище</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="Хранилище" Вид="Реквизит" Тип="ХранилищеЗначения"/>
								<Приемник Имя="ФайлХранилище" Вид="Реквизит" Тип="ХранилищеЗначения"/>
								<ПередВыгрузкой>ДанныеХранилища = ВходящиеДанные.ДанныеХранилища;
Если ТипЗнч(ДанныеХранилища) = Тип("Картинка") Тогда
	Значение = Новый ХранилищеЗначения(ДанныеХранилища.ПолучитьДвоичныеДанные(), Новый СжатиеДанных(9));
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование>--&gt; Размер</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Размер" Вид="Реквизит" Тип="Число"/>
								<ПередВыгрузкой>ДанныеХранилища = ВходящиеДанные.ДанныеХранилища;
Если ТипЗнч(ДанныеХранилища) = Тип("Картинка") Тогда
	Значение = ДанныеХранилища.ПолучитьДвоичныеДанные().Размер();
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>11</Код>
								<Наименование>--&gt; СтатусИзвлеченияТекста</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="СтатусИзвлеченияТекста" Вид="Реквизит" Тип="ПеречислениеСсылка.СтатусыИзвлеченияТекстаФайлов"/>
								<ПередВыгрузкой>Значение = "НеИзвлечен";</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>12</Код>
								<Наименование>--&gt; ТекстХранилище</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ТекстХранилище" Вид="Реквизит" Тип="ХранилищеЗначения"/>
								<ПередВыгрузкой>Значение = Новый ХранилищеЗначения("");</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>--&gt; ТипХраненияФайла</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ТипХраненияФайла" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыХраненияФайлов"/>
								<ПередВыгрузкой>Значение = "ВИнформационнойБазе";</ПередВыгрузкой>
							</Свойство>
							<Свойство Отключить="true">
								<Код>5</Код>
								<Наименование>--&gt; ДатаСоздания</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДатаСоздания" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>7</Код>
								<Наименование>--&gt; ДатаМодификацииУниверсальная</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДатаМодификацииУниверсальная" Вид="Реквизит" Тип="Дата"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>8</Код>
								<Наименование>--&gt; Автор</Наименование>
								<Порядок>600</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Автор" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>9</Код>
								<Наименование>--&gt; Изменил</Наименование>
								<Порядок>650</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Изменил" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>6</Код>
								<Наименование>--&gt; ИндексКартинки</Наименование>
								<Порядок>700</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ИндексКартинки" Вид="Реквизит" Тип="Число"/>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
				<Группа Отключить="false">
					<Код>Группа пользователи</Код>
					<Наименование>Группа пользователи</Наименование>
					<Порядок>1300</Порядок>
					<Правило>
						<Код>Пользователи</Код>
						<Наименование>Пользователи</Наименование>
						<Порядок>50</Порядок>
						<ПослеЗагрузки>Если Объект.ЭтоНовый() Тогда
	Параметры.ЗагруженыНовыеПользователи = Истина;
КонецЕсли;</ПослеЗагрузки>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>СправочникСсылка.Пользователи</Источник>
						<Приемник>СправочникСсылка.Пользователи</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование>ФизЛицо --&gt; ФизическоеЛицо</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="ФизЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
								<Приемник Имя="ФизическоеЛицо" Вид="Реквизит" Тип=""/>
								<КодПравилаКонвертации>ФизическиеЛица</КодПравилаКонвертации>
							</Свойство>
							<Группа>
								<Код>6</Код>
								<Наименование> --&gt; КонтактнаяИнформация</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПереносКИ);</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>7</Код>
									<Наименование> --&gt; АдресЭП</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>8</Код>
									<Наименование>--&gt; Вид</Наименование>
									<Порядок>100</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
									<КодПравилаКонвертации>ВидыКонтактнойИнформацииВсе</КодПравилаКонвертации>
									<ПередВыгрузкой>Если ТипЗнч(ОбъектКоллекции.Вид) = Тип("Строка") Тогда
	Значение = Новый Структура("Тип, Наименование, ВидОбъектаКонтактнойИнформации", 
						ОбъектКоллекции.Тип, ОбъектКоллекции.Вид, Перечисления.ВидыОбъектовКонтактнойИнформации.Пользователи);
КонецЕсли;</ПередВыгрузкой>
								</Свойство>
								<Свойство>
									<Код>9</Код>
									<Наименование> --&gt; Город</Наименование>
									<Порядок>150</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>10</Код>
									<Наименование> --&gt; ДоменноеИмяСервера</Наименование>
									<Порядок>200</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>11</Код>
									<Наименование> --&gt; ЗначенияПолей</Наименование>
									<Порядок>250</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>12</Код>
									<Наименование> --&gt; НомерТелефона</Наименование>
									<Порядок>300</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>13</Код>
									<Наименование> --&gt; НомерТелефонаБезКодов</Наименование>
									<Порядок>350</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>14</Код>
									<Наименование> --&gt; Представление</Наименование>
									<Порядок>400</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>15</Код>
									<Наименование> --&gt; Регион</Наименование>
									<Порядок>450</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>16</Код>
									<Наименование> --&gt; Страна</Наименование>
									<Порядок>500</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
								</Свойство>
								<Свойство>
									<Код>17</Код>
									<Наименование> --&gt; Тип</Наименование>
									<Порядок>550</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>ГруппыПользователей</Код>
						<Наименование>ГруппыПользователей</Наименование>
						<Порядок>100</Порядок>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>СправочникСсылка.Пользователи</Источник>
						<Приемник>СправочникСсылка.ГруппыПользователей</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>2</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
							<Свойство>
								<Код>6</Код>
								<Наименование>Родитель --&gt; Родитель</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Пользователи"/>
								<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ГруппыПользователей"/>
								<КодПравилаКонвертации>ГруппыПользователей</КодПравилаКонвертации>
							</Свойство>
							<Группа>
								<Код>4</Код>
								<Наименование> --&gt; Состав</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Состав" Вид="ТабличнаяЧасть"/>
								<ПередОбработкойВыгрузки>Запрос = Новый Запрос;
Запрос.Текст = 
"ВЫБРАТЬ
|	Пользователи.Ссылка КАК Пользователь
|ИЗ
|	Справочник.Пользователи КАК Пользователи
|ГДЕ 
|	Пользователи.Родитель В ИЕРАРХИИ(&amp;Группа)
|	И Не Пользователи.ЭтоГруппа
|";
Запрос.УстановитьПараметр("Группа", Источник.Ссылка);

КоллекцияОбъектов = Запрос.Выполнить().Выгрузить();

Запрос = Новый Запрос;
Запрос.Текст = 
"ВЫБРАТЬ
|	&amp;Группа КАК ГруппаПользователей,
|	Пользователи.Ссылка КАК Пользователь
|ИЗ
|	Справочник.Пользователи КАК Пользователи
|ГДЕ 
|	Пользователи.Родитель В ИЕРАРХИИ(&amp;Группа)
|	И Не Пользователи.ЭтоГруппа
|";
Запрос.УстановитьПараметр("Группа", Источник.Ссылка);

КоллекцияОбъектов = Запрос.Выполнить().Выгрузить();

Для Каждого ОбъектВыгрузки ИЗ КоллекцияОбъектов Цикл
	ВыгрузитьПоПравилу(ОбъектВыгрузки,,,,"СоставГруппПользователей");	
КонецЦикла;</ПередОбработкойВыгрузки>
								<Свойство>
									<Код>5</Код>
									<Наименование> --&gt; Пользователь</Наименование>
									<Порядок>50</Порядок>
									<Источник Имя="" Вид=""/>
									<Приемник Имя="Пользователь" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
									<КодПравилаКонвертации>Пользователи</КодПравилаКонвертации>
								</Свойство>
							</Группа>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
				<Группа Отключить="false">
					<Код>Свойства</Код>
					<Наименование>Свойства</Наименование>
					<Порядок>1350</Порядок>
					<Правило>
						<Код>ЗначенияСвойствОбъектов</Код>
						<Наименование>ЗначенияСвойствОбъектов</Наименование>
						<Порядок>250</Порядок>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<Источник>СправочникСсылка.ЗначенияСвойствОбъектов</Источник>
						<Приемник>СправочникСсылка.ЗначенияСвойствОбъектов</Приемник>
						<Свойства>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Владелец --&gt; Владелец</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="Владелец" Вид="Свойство" Тип="ПланВидовХарактеристикСсылка.СвойстваОбъектов"/>
								<Приемник Имя="Владелец" Вид="Свойство" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
								<КодПравилаКонвертации>СвойстваОбъектов_ДополнительныеРеквизитыИСведения</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство Поиск="true" Обязательное="true">
								<Код>4</Код>
								<Наименование> --&gt; ЭтоГруппа</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>3</Код>
								<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>НаборыДополнительныхРеквизитовИСведений</Код>
						<Наименование>НаборыДополнительныхРеквизитовИСведений</Наименование>
						<Порядок>1950</Порядок>
						<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
						<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
						<Источник>ПланВидовХарактеристикСсылка.НазначенияСвойствКатегорийОбъектов</Источник>
						<Приемник>СправочникСсылка.НаборыДополнительныхРеквизитовИСведений</Приемник>
						<ОбъектСДвижениями>true</ОбъектСДвижениями>
						<Свойства>
							<Свойство>
								<Код>3</Код>
								<Наименование> --&gt; Родитель</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.НаборыДополнительныхРеквизитовИСведений"/>
								<КодПравилаКонвертации>НаборыДопРеквизитов_ПоискРодителя</КодПравилаКонвертации>
								<ПередВыгрузкой>Значение = Новый Структура("ЭтоГруппа, Наименование, Родитель", Истина, "", "");
Если Источник = ПланыВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_Номенклатура Тогда
    Значение.Наименование = "Номенклатура";
ИначеЕсли Источник = ПланыВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_ХарактеристикиНоменклатуры Тогда
    Значение.Наименование = "Характеристики номенклатуры";
ИначеЕсли Источник = ПланыВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_ДоговорыКонтрагентов Тогда
    Значение.Наименование = "Договоры с контрагентами";
ИначеЕсли Источник = ПланыВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_КонтактныеЛицаКонтрагентов Тогда
    Значение.Наименование = "Контактные лица";
ИначеЕсли Источник = ПланыВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_Контрагенты Тогда
    Значение.Наименование = "Контрагенты";
ИначеЕсли Источник = ПланыВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_Организации Тогда
    Значение.Наименование = "Организации";
ИначеЕсли Источник = ПланыВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_Склады Тогда
    Значение.Наименование = "Склады и магазины";
ИначеЕсли Источник = ПланыВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_ФизическиеЛица Тогда
    Значение.Наименование = "Физические лица";
КонецЕсли;
Если Значение.Наименование = "" Тогда 
    Отказ = Истина; 
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство Поиск="true">
								<Код>1</Код>
								<Наименование>Наименование --&gt; Наименование</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство Поиск="true" Обязательное="true">
								<Код>2</Код>
								<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
								<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
					<Правило>
						<Код>НаборыДопРеквизитов_ПоискРодителя</Код>
						<Наименование>НаборыДопРеквизитов_ПоискРодителя</Наименование>
						<Порядок>2000</Порядок>
						<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
						<НеВыгружатьОбъектыСвойствПоСсылкам>true</НеВыгружатьОбъектыСвойствПоСсылкам>
						<НеСоздаватьЕслиНеНайден>true</НеСоздаватьЕслиНеНайден>
						<Приемник>СправочникСсылка.НаборыДополнительныхРеквизитовИСведений</Приемник>
						<ОбъектСДвижениями>true</ОбъектСДвижениями>
						<Свойства>
							<Свойство Поиск="true">
								<Код>2</Код>
								<Наименование> --&gt; Наименование</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							</Свойство>
							<Свойство Отключить="true">
								<Код>3</Код>
								<Наименование> --&gt; Родитель</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.НаборыДополнительныхРеквизитовИСведений"/>
								<КодПравилаКонвертации>НаборыДопРеквизитов_ПоискРодителя</КодПравилаКонвертации>
							</Свойство>
							<Свойство Поиск="true" Обязательное="true">
								<Код>1</Код>
								<Наименование> --&gt; ЭтоГруппа</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
								<ПередВыгрузкой>Значение = Истина;</ПередВыгрузкой>
							</Свойство>
						</Свойства>
						<Значения/>
					</Правило>
				</Группа>
			</Группа>
			<Группа Отключить="false">
				<Код>СтруктураПредприятия</Код>
				<Наименование>СтруктураПредприятия</Наименование>
				<Порядок>1400</Порядок>
				<Правило>
					<Код>Организации</Код>
					<Наименование>Организации</Наименование>
					<Порядок>50</Порядок>
					<ПослеВыгрузки>Параметры.ВыгруженыОрганизации = Истина;</ПослеВыгрузки>
					<ПослеЗагрузки>Параметры.ЗагруженыОрганизации = Истина;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.Организации</Источник>
					<Приемник>СправочникСсылка.Организации</Приемник>
					<Свойства>
						<Свойство>
							<Код>28</Код>
							<Наименование> --&gt; СтранаРегистрации</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтранаРегистрации" Вид="Реквизит" Тип="СправочникСсылка.СтраныМира"/>
							<ПередВыгрузкой>Значение = "Россия";</ПередВыгрузкой>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ИНН --&gt; ИНН</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ИНН" Вид="Реквизит" Тип=""/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>5</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>КодПоОКАТО --&gt; КодПоОКАТО</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="КодПоОКАТО" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КодПоОКАТО" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>КодПоОКПО --&gt; КодПоОКПО</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КодПоОКПО" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>КПП --&gt; КПП</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>НаименованиеПолное --&gt; НаименованиеСокращенное</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НаименованиеСокращенное" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = СтрЗаменить(Источник.НаименованиеПолное, Символы.ПС, " ");</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>ОГРН --&gt; ОГРН</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="ОГРН" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ОГРН" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>Префикс --&gt; Префикс</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Префикс" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Префикс" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>ЮрФизЛицо --&gt; ЮрФизЛицо</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
							<Приемник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
							<КодПравилаКонвертации>ЮрФизЛицо</КодПравилаКонвертации>
							<ПередВыгрузкой>Если Источник.ЮрФизЛицо = Перечисления.ЮрФизЛицо.ФизЛицо Тогда
	Значение = "ИндивидуальныйПредприниматель";	
	ИмяПКО = "";	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>СвидетельствоДатаВыдачи --&gt; СвидетельствоДатаВыдачи</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="СвидетельствоДатаВыдачи" Вид="Реквизит" Тип="Дата"/>
							<Приемник Имя="СвидетельствоДатаВыдачи" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>СвидетельствоСерияНомер --&gt; СвидетельствоСерияНомер</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="СвидетельствоСерияНомер" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="СвидетельствоСерияНомер" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>26</Код>
							<Наименование>--&gt; РегистрацияВНалоговомОргане</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="РегистрацияВНалоговомОргане" Вид="Реквизит" Тип="СправочникСсылка.РегистрацииВНалоговомОргане"/>
							<КодПравилаКонвертации>РегистрацииВНалоговомОргане</КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Новый Структура("Код, НаименованиеИФНС, Владелец, КПП, Наименование, КодПоОКТМО", 
	Источник.КодИМНС, "", Источник.Ссылка, 
	Источник.КПП, Источник.КодИМНС, Источник.КодПоОКТМО);</ПередВыгрузкой>
						</Свойство>
						<Группа>
							<Код>11</Код>
							<Наименование>--&gt; КонтактнаяИнформация</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
							<ПередОбработкойВыгрузки>Выполнить(Алгоритмы.ПереносКИ);</ПередОбработкойВыгрузки>
							<Свойство>
								<Код>12</Код>
								<Наименование> --&gt; АдресЭП</Наименование>
								<Порядок>50</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>13</Код>
								<Наименование>--&gt; Вид</Наименование>
								<Порядок>100</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
								<КодПравилаКонвертации>ВидыКонтактнойИнформацииВсе</КодПравилаКонвертации>
								<ПередВыгрузкой>Если ТипЗнч(ОбъектКоллекции.Вид) = Тип("Строка") Тогда
	Значение = Новый Структура("Тип, Наименование, ВидОбъектаКонтактнойИнформации", 
						ОбъектКоллекции.Тип, ОбъектКоллекции.Вид, Перечисления.ВидыОбъектовКонтактнойИнформации.Организации);
КонецЕсли;</ПередВыгрузкой>
							</Свойство>
							<Свойство>
								<Код>14</Код>
								<Наименование> --&gt; Город</Наименование>
								<Порядок>150</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>15</Код>
								<Наименование> --&gt; ДоменноеИмяСервера</Наименование>
								<Порядок>200</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>16</Код>
								<Наименование> --&gt; ЗначенияПолей</Наименование>
								<Порядок>250</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>17</Код>
								<Наименование> --&gt; НомерТелефона</Наименование>
								<Порядок>300</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>18</Код>
								<Наименование> --&gt; НомерТелефонаБезКодов</Наименование>
								<Порядок>350</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>19</Код>
								<Наименование> --&gt; Представление</Наименование>
								<Порядок>400</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>20</Код>
								<Наименование> --&gt; Регион</Наименование>
								<Порядок>450</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Регион" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>21</Код>
								<Наименование> --&gt; Страна</Наименование>
								<Порядок>500</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
							</Свойство>
							<Свойство>
								<Код>22</Код>
								<Наименование> --&gt; Тип</Наименование>
								<Порядок>550</Порядок>
								<Источник Имя="" Вид=""/>
								<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							</Свойство>
						</Группа>
						<Свойство>
							<Код>27</Код>
							<Наименование>ЮрФизЛицо --&gt; ЮридическоеФизическоеЛицо</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
							<Приемник Имя="ЮридическоеФизическоеЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮридическоеФизическоеЛицо"/>
							<КодПравилаКонвертации>ЮрФизЛицо_ЮридическоеФизическоеЛицо</КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>Подразделения_СтруктураПредприятия</Код>
					<Наименование>Подразделения_СтруктураПредприятия</Наименование>
					<Порядок>100</Порядок>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.Подразделения</Источник>
					<Приемник>СправочникСсылка.СтруктураПредприятия</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Код --&gt; Код</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Подразделения"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтруктураПредприятия"/>
							<КодПравилаКонвертации>Подразделения_СтруктураПредприятия</КодПравилаКонвертации>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>Склады</Код>
					<Наименование>Склады</Наименование>
					<Порядок>150</Порядок>
					<ПослеЗагрузки>Параметры.ЗагруженыСклады = Истина;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.Склады</Источник>
					<Приемник>СправочникСсылка.Склады</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>Родитель --&gt; Родитель</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Склады"/>
							<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Склады"/>
							<КодПравилаКонвертации>Склады</КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true" Обязательное="true">
							<Код>4</Код>
							<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; ИспользоватьОрдернуюСхемуПриОтгрузке</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьОрдернуюСхемуПриОтгрузке" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Запрос = Новый Запрос("
		|ВЫБРАТЬ ПЕРВЫЕ 1
		|	1
		|ИЗ
		|	Документ.РасходныйОрдерНаТовары КАК РасходныйОрдерНаТовары
		|ГДЕ
		|	РасходныйОрдерНаТовары.Склад = &amp;Склад
		|	И РасходныйОрдерНаТовары.Проведен
		|");

Запрос.УстановитьПараметр("Склад", Источник.Ссылка);
Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; ИспользоватьОрдернуюСхемуПриПоступлении</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьОрдернуюСхемуПриПоступлении" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Запрос = Новый Запрос("
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	1
	|ИЗ
	|	Документ.ПриходныйОрдерНаТовары КАК ПриходныйОрдерНаТовары
	|ГДЕ
	|	ПриходныйОрдерНаТовары.Склад = &amp;Склад
	|	И ПриходныйОрдерНаТовары.Проведен
	|");

Запрос.УстановитьПараметр("Склад", Источник.Ссылка);

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>7</Код>
							<Наименование>ВидСклада --&gt; ТипСклада</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="ВидСклада" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыСкладов"/>
							<Приемник Имя="ТипСклада" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыСкладов"/>
							<КодПравилаКонвертации>ТипыСкладов</КодПравилаКонвертации>
						</Свойство>
						<Свойство Отключить="true">
							<Код>19</Код>
							<Наименование>--&gt; КонтролироватьОбеспечение</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КонтролироватьОбеспечение" Вид="Реквизит" Тип=""/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>ТипЦенРозничнойТорговли --&gt; РозничныйВидЦены</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="ТипЦенРозничнойТорговли" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
							<Приемник Имя="РозничныйВидЦены" Вид="Реквизит" Тип="СправочникСсылка.ВидыЦен"/>
							<КодПравилаКонвертации>ТипыЦенНоменклатуры_ВидыЦен</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; ТекущийОтветственный</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТекущийОтветственный" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
							<КодПравилаКонвертации>ФизическиеЛица</КодПравилаКонвертации>
							<ПередВыгрузкой>Запрос = Новый Запрос(
"ВЫБРАТЬ
|	ОтветственныеЛицаСрезПоследних.ФизическоеЛицо КАК ФизическоеЛицо
|ИЗ
|	РегистрСведений.ОтветственныеЛица.СрезПоследних(, СтруктурнаяЕдиница = &amp;Склад) КАК ОтветственныеЛицаСрезПоследних");
Запрос.УстановитьПараметр("Склад", Источник.Ссылка);

Выборка = Запрос.Выполнить().Выбрать();
Если Выборка.Следующий() Тогда
	Значение = Выборка.ФизическоеЛицо;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; ИспользоватьАдресноеХранение</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьАдресноеХранение" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; ИспользоватьАдресноеХранениеСправочно</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьАдресноеХранениеСправочно" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; НастройкаАдресногоХранения</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НастройкаАдресногоХранения" Вид="Реквизит" Тип="ПеречислениеСсылка.НастройкиАдресногоХранения"/>
							<ПередВыгрузкой>Значение = "НеИспользовать";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>--&gt; УровеньОбслуживания</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="УровеньОбслуживания" Вид="Реквизит" Тип="ПеречислениеСсылка.УровниОбслуживания"/>
							<ПередВыгрузкой>Значение = "УровеньОбслуживания84_0";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<НеЗамещать>true</НеЗамещать>
							<Код>17</Код>
							<Наименование>--&gt; ВыборГруппы</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВыборГруппы" Вид="Реквизит" Тип="ПеречислениеСсылка.ВыборГруппыСкладов"/>
							<ПередВыгрузкой>Значение = "Запретить";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; ИсточникИнформацииОЦенахДляПечати</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИсточникИнформацииОЦенахДляПечати" Вид="Реквизит" Тип="ПеречислениеСсылка.ИсточникиИнформацииОЦенахДляПечати"/>
							<ПередВыгрузкой>Значение = "ПоСебестоимости";</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>Кассы</Код>
					<Наименование>Кассы</Наименование>
					<Порядок>200</Порядок>
					<ПередВыгрузкой>Если Источник.ЭтоГруппа Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Параметры.ЗагруженыКассы = Истина;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Источник>СправочникСсылка.Кассы</Источник>
					<Приемник>СправочникСсылка.Кассы</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>ВалютаДенежныхСредств --&gt; ВалютаДенежныхСредств</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<Приемник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>Владелец --&gt; Владелец</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>КассыККМ</Код>
					<Наименование>КассыККМ</Наименование>
					<Порядок>250</Порядок>
					<ПередВыгрузкой>КлючВыгружаемыхДанных = Новый Массив;
КлючВыгружаемыхДанных.Добавить(Источник.Владелец);
КлючВыгружаемыхДанных.Добавить(Источник.Наименование);
КлючВыгружаемыхДанных.Добавить(Источник.Склад);
КлючВыгружаемыхДанных.Добавить(Источник.ТипКассы);

КлючВыгружаемыхДанных = ЗначениеВСтрокуВнутр(КлючВыгружаемыхДанных);</ПередВыгрузкой>
					<Источник>СправочникСсылка.КассыККМ</Источник>
					<Приемник>СправочникСсылка.КассыККМ</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>Владелец --&gt; Владелец</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Организации"/>
							<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>3</Код>
							<Наименование>Наименование --&gt; Наименование</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
							<ПриВыгрузке>Значение = Значение + ?(ЗначениеЗаполнено(Источник.Склад), " (" + Источник.Склад + ")", "");</ПриВыгрузке>
						</Свойство>
						<Свойство Поиск="true">
							<Код>6</Код>
							<Наименование>--&gt; Склад</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>7</Код>
							<Наименование>--&gt; ТипКассы</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипКассы" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКассККМ"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; ВалютаДенежныхСредств</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Константы.ВалютаРегламентированногоУчета.Получить();</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>БанковскиеСчетаОрганизаций</Код>
					<Наименование>БанковскиеСчетаОрганизаций</Наименование>
					<Порядок>300</Порядок>
					<ПередВыгрузкой>КлючВыгружаемыхДанных = Источник.Ссылка;</ПередВыгрузкой>
					<ПослеЗагрузки>Параметры.ЗагруженыРасчетныеСчета = Истина;</ПослеЗагрузки>
					<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
					<Приемник>СправочникСсылка.БанковскиеСчетаОрганизаций</Приемник>
					<Свойства>
						<Свойство>
							<Код>1</Код>
							<Наименование> --&gt; Банк</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Банк" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторБанков"/>
							<КодПравилаКонвертации>Банки</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование> --&gt; БанкДляРасчетов</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="БанкДляРасчетов" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторБанков"/>
							<КодПравилаКонвертации>Банки</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование> --&gt; ВалютаДенежныхСредств</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВалютаДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.Валюты"/>
							<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование> --&gt; НомерСчета</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НомерСчета" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование> --&gt; ТекстКорреспондента</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТекстКорреспондента" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование> --&gt; ТекстНазначения</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТекстНазначения" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство Поиск="true">
							<Код>7</Код>
							<Наименование> --&gt; Владелец</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>8</Код>
							<Наименование> --&gt; Наименование</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование> --&gt; ПометкаУдаления</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование> --&gt; ВариантВыводаМесяца</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВариантВыводаМесяца" Вид="Реквизит" Тип="ПеречислениеСсылка.ВариантыВыводаМесяцаВДатеДокумента"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование> --&gt; ВыводитьСуммуБезКопеек</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВыводитьСуммуБезКопеек" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование> --&gt; ИспользоватьОбменСБанком</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ИспользоватьОбменСБанком" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Запрос = Новый Запрос(
"ВЫБРАТЬ ПЕРВЫЕ 1
|	НастройкиОбменаСКлиентомБанка.Программа,
|	НастройкиОбменаСКлиентомБанка.Кодировка,
|	НастройкиОбменаСКлиентомБанка.ВидыВыгружаемыхПлатДокументов,
|	НастройкиОбменаСКлиентомБанка.ФайлЗагрузки,
|	НастройкиОбменаСКлиентомБанка.ФайлВыгрузки
|ИЗ
|	РегистрСведений.НастройкиОбменаСКлиентомБанка КАК НастройкиОбменаСКлиентомБанка
|ГДЕ
|	НастройкиОбменаСКлиентомБанка.БанковскийСчет = &amp;БанковскийСчет
|");
Запрос.УстановитьПараметр("БанковскийСчет", Источник.Ссылка);

Значение = Не Запрос.Выполнить().Пустой();</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование> --&gt; Кодировка</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Кодировка" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Запрос = Новый Запрос(
"ВЫБРАТЬ ПЕРВЫЕ 1
|	НастройкиОбменаСКлиентомБанка.Программа,
|	НастройкиОбменаСКлиентомБанка.Кодировка,
|	НастройкиОбменаСКлиентомБанка.ВидыВыгружаемыхПлатДокументов,
|	НастройкиОбменаСКлиентомБанка.ФайлЗагрузки,
|	НастройкиОбменаСКлиентомБанка.ФайлВыгрузки
|ИЗ
|	РегистрСведений.НастройкиОбменаСКлиентомБанка КАК НастройкиОбменаСКлиентомБанка
|ГДЕ
|	НастройкиОбменаСКлиентомБанка.БанковскийСчет = &amp;БанковскийСчет
|");
Запрос.УстановитьПараметр("БанковскийСчет", Источник.Ссылка);

Выборка = Запрос.Выполнить().Выбрать();
Если Выборка.Следующий() Тогда
	Значение = Выборка.Кодировка;	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование> --&gt; Программа</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Программа" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Запрос = Новый Запрос(
"ВЫБРАТЬ ПЕРВЫЕ 1
|	НастройкиОбменаСКлиентомБанка.Программа,
|	НастройкиОбменаСКлиентомБанка.Кодировка,
|	НастройкиОбменаСКлиентомБанка.ВидыВыгружаемыхПлатДокументов,
|	НастройкиОбменаСКлиентомБанка.ФайлЗагрузки,
|	НастройкиОбменаСКлиентомБанка.ФайлВыгрузки
|ИЗ
|	РегистрСведений.НастройкиОбменаСКлиентомБанка КАК НастройкиОбменаСКлиентомБанка
|ГДЕ
|	НастройкиОбменаСКлиентомБанка.БанковскийСчет = &amp;БанковскийСчет
|");
Запрос.УстановитьПараметр("БанковскийСчет", Источник.Ссылка);

Выборка = Запрос.Выполнить().Выбрать();
Если Выборка.Следующий() Тогда
	Значение = Выборка.Программа;	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование> --&gt; ФайлВыгрузки</Наименование>
							<Порядок>750</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ФайлВыгрузки" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Запрос = Новый Запрос(
"ВЫБРАТЬ ПЕРВЫЕ 1
|	НастройкиОбменаСКлиентомБанка.Программа,
|	НастройкиОбменаСКлиентомБанка.Кодировка,
|	НастройкиОбменаСКлиентомБанка.ВидыВыгружаемыхПлатДокументов,
|	НастройкиОбменаСКлиентомБанка.ФайлЗагрузки,
|	НастройкиОбменаСКлиентомБанка.ФайлВыгрузки
|ИЗ
|	РегистрСведений.НастройкиОбменаСКлиентомБанка КАК НастройкиОбменаСКлиентомБанка
|ГДЕ
|	НастройкиОбменаСКлиентомБанка.БанковскийСчет = &amp;БанковскийСчет
|");
Запрос.УстановитьПараметр("БанковскийСчет", Источник.Ссылка);

Выборка = Запрос.Выполнить().Выбрать();
Если Выборка.Следующий() Тогда
	Значение = Выборка.ФайлВыгрузки;	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование> --&gt; ФайлЗагрузки</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ФайлЗагрузки" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Запрос = Новый Запрос(
"ВЫБРАТЬ ПЕРВЫЕ 1
|	НастройкиОбменаСКлиентомБанка.Программа,
|	НастройкиОбменаСКлиентомБанка.Кодировка,
|	НастройкиОбменаСКлиентомБанка.ВидыВыгружаемыхПлатДокументов,
|	НастройкиОбменаСКлиентомБанка.ФайлЗагрузки,
|	НастройкиОбменаСКлиентомБанка.ФайлВыгрузки
|ИЗ
|	РегистрСведений.НастройкиОбменаСКлиентомБанка КАК НастройкиОбменаСКлиентомБанка
|ГДЕ
|	НастройкиОбменаСКлиентомБанка.БанковскийСчет = &amp;БанковскийСчет
|");
Запрос.УстановитьПараметр("БанковскийСчет", Источник.Ссылка);

Выборка = Запрос.Выполнить().Выбрать();
Если Выборка.Следующий() Тогда
	Значение = Выборка.ФайлЗагрузки;	
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; ТипСчета</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипСчета" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыБанковскихСчетов"/>
							<ПередВыгрузкой>Значение = "Расчетный";</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>ОтветственныеЛицаОрганизаций</Код>
					<Наименование>ОтветственныеЛицаОрганизаций</Наименование>
					<Порядок>350</Порядок>
					<Приемник>СправочникСсылка.ОтветственныеЛицаОрганизаций</Приемник>
					<Свойства>
						<Свойство Поиск="true">
							<Код>7</Код>
							<Наименование> --&gt; Владелец</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>4</Код>
							<Наименование>--&gt; ОтветственноеЛицо</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ОтветственноеЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ОтветственныеЛицаОрганизаций"/>
							<КодПравилаКонвертации>Перечисление_ОтветственныеЛицаОрганизаций</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>1</Код>
							<Наименование>--&gt; ДатаНачала</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДатаНачала" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>--&gt; ДатаОкончания</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДатаОкончания" Вид="Реквизит" Тип="Дата"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; ПравоПодписиПоДоверенности</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ПравоПодписиПоДоверенности" Вид="Реквизит" Тип="Булево"/>
							<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; ФизическоеЛицо</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ФизическоеЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
							<КодПравилаКонвертации>ФизическиеЛица</КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>8</Код>
							<Наименование>--&gt; Наименование</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>9</Код>
							<Наименование>--&gt; Должность</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Должность" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = СокрЛП(Источник.ОтветственноеЛицо);</ПередВыгрузкой>
						</Свойство>
						<Свойство Отключить="true">
							<Код>10</Код>
							<Наименование>--&gt; ДолжностьСсылка</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДолжностьСсылка" Вид="Реквизит" Тип="Строка"/>
							<ПередВыгрузкой>Значение = СокрЛП(Источник.ОтветственноеЛицо);</ПередВыгрузкой>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
				<Правило>
					<Код>РегистрацииВНалоговомОргане</Код>
					<Наименование>РегистрацииВНалоговомОргане</Наименование>
					<Порядок>400</Порядок>
					<ПередВыгрузкой>Если Параметры.Организации.Количество() &gt; 0 И Параметры.Организации.Найти(Источник.Владелец) = Неопределено Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
					<ПослеЗагрузки>Организация = Объект.Владелец;
Период = НачалоГода(ТекущаяДатаСеанса());
Если ПараметрыОбъекта &lt;&gt; Неопределено Тогда
    Если ПараметрыОбъекта["Период"] &lt;&gt; Неопределено Тогда
        Период = ПараметрыОбъекта["Период"];
    КонецЕсли;
КонецЕсли;
НаборЗаписей = РегистрыСведений.РегистрацииВНалоговомОргане.СоздатьНаборЗаписей();
НаборЗаписей.Отбор.Организация.Установить(Организация);

Запись = НаборЗаписей.Добавить();
Запись.Организация = Организация; 
Запись.Период = Период;

Запись.РегистрацияВНалоговомОргане = Объект.Ссылка;

НаборЗаписей.Записать();</ПослеЗагрузки>
					<Приемник>СправочникСсылка.РегистрацииВНалоговомОргане</Приемник>
					<Свойства>
						<Свойство>
							<Код>7</Код>
							<Наименование> --&gt; </Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="" Вид=""/>
							<ИмяПараметраДляПередачи>Период</ИмяПараметраДляПередачи>
							<ПриВыгрузке>Значение = Параметры.ДатаОстатков;</ПриВыгрузке>
						</Свойство>
						<Свойство Поиск="true">
							<Код>1</Код>
							<Наименование>--&gt; Владелец</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Организации"/>
							<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
						</Свойство>
						<Свойство Поиск="true">
							<Код>2</Код>
							<Наименование>--&gt; Код</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>3</Код>
							<Наименование>--&gt; КодПоОКТМО</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КодПоОКТМО" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>--&gt; КПП</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КПП" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>--&gt; Наименование</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>--&gt; НаименованиеИФНС</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="НаименованиеИФНС" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Свойства>
					<Значения/>
				</Правило>
			</Группа>
		</Группа>
	</ПравилаКонвертацииОбъектов>
	<ПравилаВыгрузкиДанных>
		<Правило Отключить="false">
			<Код>КонстантыНабор</Код>
			<Наименование>КонстантыНабор</Наименование>
			<Порядок>50</Порядок>
			<КодПравилаКонвертации>КонстантыНабор</КодПравилаКонвертации>
			<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
			<ОбъектВыборки>КонстантыНабор</ОбъектВыборки>
		</Правило>
		<Группа Отключить="false">
			<Код>ВводОстатков</Код>
			<Наименование>ВводОстатков</Наименование>
			<Порядок>50</Порядок>
			<Группа Отключить="false">
				<Код>ВводОстатковТоваров</Код>
				<Наименование>ВводОстатковТоваров</Наименование>
				<Порядок>100</Порядок>
				<Правило Отключить="false">
					<Код>ВводОстатковСобственныеТоварыНаСкладах</Код>
					<Наименование>ВводОстатковСобственныеТоварыНаСкладах</Наименование>
					<Порядок>50</Порядок>
					<КодПравилаКонвертации>ВводОстатковСобственныеТоварыНаСкладах</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Выполнить(Алгоритмы.СобственныеТоварыВыборка);</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ВводОстатковТоварыПринятыеНаКомиссию</Код>
					<Наименование>ВводОстатковТоварыПринятыеНаКомиссию</Наименование>
					<Порядок>100</Порядок>
					<КодПравилаКонвертации>ВводОстатковТоварыПринятыеНаКомиссию</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ЕСТЬNULL(ПартииТоваровНаСкладахОстатки.ДокументОприходования.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)) КАК Организация,
	|	ЕСТЬNULL(ПартииТоваровНаСкладахОстатки.ДокументОприходования.ДоговорКонтрагента, ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка)) КАК ДоговорКонтрагента,
	|	ЕСТЬNULL(ПартииТоваровНаСкладахОстатки.ДокументОприходования.Контрагент, ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка)) КАК Контрагент,
	|	ЕСТЬNULL(ПартииТоваровНаСкладахОстатки.ДокументОприходования.ДоговорКонтрагента.ВалютаВзаиморасчетов, ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка)) КАК ВалютаВзаиморасчетов,
	|	ПартииТоваровНаСкладахОстатки.Склад КАК Склад,
	|	ПартииТоваровНаСкладахОстатки.Номенклатура КАК Номенклатура,
	|	ПартииТоваровНаСкладахОстатки.Номенклатура.СтавкаНДС КАК СтавкаНДС,
	|	ПартииТоваровНаСкладахОстатки.Номенклатура.ВестиУчетПоСериям КАК ВестиУчетПоСериям,
	|	ПартииТоваровНаСкладахОстатки.ХарактеристикаНоменклатуры КАК Характеристика,
	|	ПартииТоваровНаСкладахОстатки.СерияНоменклатуры КАК Серия,
	|	ПартииТоваровНаСкладахОстатки.СерияНоменклатуры.НомерГТД КАК НомерГТД,
	|	ПартииТоваровНаСкладахОстатки.СерияНоменклатуры.СтранаПроисхождения КАК СтранаПроисхождения,
	|	ПартииТоваровНаСкладахОстатки.СерияНоменклатуры.ПометкаУдаления КАК ПометкаУдаления,
	|	ПартииТоваровНаСкладахОстатки.Качество КАК Качество,
	|	ПартииТоваровНаСкладахОстатки.ДокументОприходования,
	|	СУММА(ВЫБОР
	|			КОГДА ПартииТоваровНаСкладахОстатки.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент &gt; 0
	|				ТОГДА ПартииТоваровНаСкладахОстатки.КоличествоОстаток * ПартииТоваровНаСкладахОстатки.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент
	|			ИНАЧЕ ПартииТоваровНаСкладахОстатки.КоличествоОстаток
	|		КОНЕЦ) КАК Количество
	|ИЗ
	|	РегистрНакопления.ПартииТоваровНаСкладах.Остатки(
	|			&amp;ДатаОстатков,
	|			СтатусПартии = ЗНАЧЕНИЕ(Перечисление.СтатусыПартийТоваров.НаКомиссию)
	|				И Номенклатура.ВидНоменклатуры.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)) КАК ПартииТоваровНаСкладахОстатки
	|
	|СГРУППИРОВАТЬ ПО
	|	ПартииТоваровНаСкладахОстатки.Номенклатура,
	|	ПартииТоваровНаСкладахОстатки.Склад,
	|	ПартииТоваровНаСкладахОстатки.ХарактеристикаНоменклатуры,
	|	ЕСТЬNULL(ПартииТоваровНаСкладахОстатки.ДокументОприходования.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)),
	|	ПартииТоваровНаСкладахОстатки.СерияНоменклатуры.НомерГТД,
	|	ПартииТоваровНаСкладахОстатки.СерияНоменклатуры.СтранаПроисхождения,
	|	ПартииТоваровНаСкладахОстатки.СерияНоменклатуры.ПометкаУдаления,
	|	ПартииТоваровНаСкладахОстатки.ДокументОприходования,
	|	ЕСТЬNULL(ПартииТоваровНаСкладахОстатки.ДокументОприходования.Контрагент, ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка)),
	|	ЕСТЬNULL(ПартииТоваровНаСкладахОстатки.ДокументОприходования.ДоговорКонтрагента, ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка)),
	|	ЕСТЬNULL(ПартииТоваровНаСкладахОстатки.ДокументОприходования.ДоговорКонтрагента.ВалютаВзаиморасчетов, ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка)),
	|	ПартииТоваровНаСкладахОстатки.Качество,
	|	ПартииТоваровНаСкладахОстатки.СерияНоменклатуры,
	|	ПартииТоваровНаСкладахОстатки.Номенклатура.ВестиУчетПоСериям
	|
	|УПОРЯДОЧИТЬ ПО
	|	ПартииТоваровНаСкладахОстатки.Склад.Наименование,
	|	ПартииТоваровНаСкладахОстатки.Номенклатура.Наименование,
	|	ПартииТоваровНаСкладахОстатки.ХарактеристикаНоменклатуры.Наименование
	|ИТОГИ
	|	СУММА(Количество)
	|ПО
	|	Организация,
	|	Склад,
	|	ПартииТоваровНаСкладахОстатки.ДокументОприходования.Контрагент,
	|	ПартииТоваровНаСкладахОстатки.ДокументОприходования.ДоговорКонтрагента");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "КАК ПартииТоваровНаСкладахОстатки",
		"КАК ПартииТоваровНаСкладахОстатки
		| ГДЕ
		|	ЕСТЬNULL(ПартииТоваровНаСкладахОстатки.ДокументОприходования.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)) В (&amp;МассивОрганизаций) ");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);	
КонецЕсли;
							
Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("Склад");
ВыборкаДанных.Колонки.Добавить("Партнер");
ВыборкаДанных.Колонки.Добавить("Контрагент");
ВыборкаДанных.Колонки.Добавить("СоглашениеСКомитентом");
ВыборкаДанных.Колонки.Добавить("Договор");
ВыборкаДанных.Колонки.Добавить("Валюта");
ВыборкаДанных.Колонки.Добавить("Товары");
ВыборкаДанных.Колонки.Добавить("Серии");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	ВыборкаПоСкладам = ВыборкаПоОрганизациям.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	Пока ВыборкаПоСкладам.Следующий() Цикл
		
		ВыборкаПоКонтрагентам = ВыборкаПоСкладам.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
		Пока ВыборкаПоКонтрагентам.Следующий() Цикл
			
			ВыборкаПоДоговорамКонтрагента = ВыборкаПоКонтрагентам.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
			Пока ВыборкаПоДоговорамКонтрагента.Следующий() Цикл
				
				НоваяСтрока = ВыборкаДанных.Добавить();
				НоваяСтрока.Дата                  = КонецДня(Параметры.ДатаОстатков); 
				НоваяСтрока.Организация           = ВыборкаПоОрганизациям.Организация; 
				НоваяСтрока.Склад                 = ВыборкаПоСкладам.Склад; 
				НоваяСтрока.Партнер               = ВыборкаПоКонтрагентам.Контрагент; 
				НоваяСтрока.Контрагент            = ВыборкаПоКонтрагентам.Контрагент; 
				НоваяСтрока.СоглашениеСКомитентом = ВыборкаПоДоговорамКонтрагента.ДоговорКонтрагента; 
				НоваяСтрока.Договор               = ВыборкаПоДоговорамКонтрагента.ДоговорКонтрагента; 
				НоваяСтрока.Валюта                = ВыборкаПоДоговорамКонтрагента.ВалютаВзаиморасчетов; 
				
				НоваяСтрока.Товары = Новый ТаблицаЗначений;
				НоваяСтрока.Товары.Колонки.Добавить("Номенклатура");
				НоваяСтрока.Товары.Колонки.Добавить("Характеристика");
				НоваяСтрока.Товары.Колонки.Добавить("Качество");
				НоваяСтрока.Товары.Колонки.Добавить("Количество");
				НоваяСтрока.Товары.Колонки.Добавить("КоличествоУпаковок");
				НоваяСтрока.Товары.Колонки.Добавить("СтавкаНДС");
				НоваяСтрока.Товары.Колонки.Добавить("НомерГТД");
				НоваяСтрока.Товары.Колонки.Добавить("Серия");
				
				НоваяСтрока.Серии = Новый ТаблицаЗначений;
				НоваяСтрока.Серии.Колонки.Добавить("Номенклатура");
				НоваяСтрока.Серии.Колонки.Добавить("Характеристика");
				НоваяСтрока.Серии.Колонки.Добавить("Качество");
				НоваяСтрока.Серии.Колонки.Добавить("Серия");
				НоваяСтрока.Серии.Колонки.Добавить("Количество");
				НоваяСтрока.Серии.Колонки.Добавить("КоличествоУпаковок");
				
				ВыборкаДетальныеЗаписи = ВыборкаПоДоговорамКонтрагента.Выбрать(); 
				Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
					
					Если ВыборкаДетальныеЗаписи.Количество &lt; 0 Тогда
						СтрокаСообщения = НСтр("ru = 'Обнаружен отрицательный остаток на складе ""%1"" по товару ""%2"" при выгрузке по правилу: ""%3""'");
						СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%1", ВыборкаПоСкладам.Склад);
						СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%2", ВыборкаДетальныеЗаписи.Номенклатура);
						СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%3", НСтр("ru = 'Ввод остатков товаров, принятых на комиссию'"));
						
						Если Не ЗначениеЗаполнено(ВыборкаПоСкладам.Склад) Тогда
							СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "на складе """" ", "");
						КонецЕсли;
						
						ЗаписатьВПротоколВыполнения(СтрокаСообщения,,Ложь);
						Продолжить;
					КонецЕсли;
					
					НоваяСтрокаТовары = НоваяСтрока.Товары.Добавить();
					ЗаполнитьЗначенияСвойств(НоваяСтрокаТовары, ВыборкаДетальныеЗаписи);
					Если ВыборкаДетальныеЗаписи.Количество &lt;&gt; 0 Тогда 
						НоваяСтрокаТовары.КоличествоУпаковок = ВыборкаДетальныеЗаписи.Количество;
					КонецЕсли;

					Если ЗначениеЗаполнено(ВыборкаДетальныеЗаписи.НомерГТД) Тогда
						НоваяСтрокаТовары.НомерГТД = Новый Структура;
						НоваяСтрокаТовары.НомерГТД.Вставить("Владелец", ВыборкаДетальныеЗаписи.Номенклатура);
						НоваяСтрокаТовары.НомерГТД.Вставить("СтранаПроисхождения", ВыборкаДетальныеЗаписи.СтранаПроисхождения);
						НоваяСтрокаТовары.НомерГТД.Вставить("ПометкаУдаления", ВыборкаДетальныеЗаписи.ПометкаУдаления);
						НоваяСтрокаТовары.НомерГТД.Вставить("Код", ВыборкаДетальныеЗаписи.НомерГТД);
					КонецЕсли;
					
					// Запоминаем серии номенклатуры, если для нее ведется учет серий
					Если ВыборкаДетальныеЗаписи.ВестиУчетПоСериям Тогда
						Если Параметры.РежимВыгрузкиСерий = 1 Тогда
							НоваяСтрокаСерии = НоваяСтрока.Серии.Добавить();
							НоваяСтрокаСерии.КоличествоУпаковок = ВыборкаДетальныеЗаписи.Количество;
							ЗаполнитьЗначенияСвойств(НоваяСтрокаСерии, ВыборкаДетальныеЗаписи);
						ИначеЕсли Параметры.РежимВыгрузкиСерий = 2 Тогда
							НоваяСтрокаТовары.Серия = ВыборкаДетальныеЗаписи.Серия;
						КонецЕсли;
					КонецЕсли;
					
				КонецЦикла;
				
				Если НоваяСтрока.Товары.Количество() = 0 Тогда
					ВыборкаДанных.Удалить(НоваяСтрока);
				Иначе
					Если Параметры.РежимВыгрузкиСерий = 1 Тогда
						НоваяСтрока.Серии.Свернуть("Номенклатура,Характеристика,Качество,Серия", "Количество,КоличествоУпаковок");
					Иначе
						НоваяСтрока.Серии.Очистить();
					КонецЕсли;
				КонецЕсли;
				
			КонецЦикла;
		КонецЦикла;
	КонецЦикла;
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ВводОстатковТоварыПереданныеНаКомиссию</Код>
					<Наименование>ВводОстатковТоварыПереданныеНаКомиссию</Наименование>
					<Порядок>150</Порядок>
					<КодПравилаКонвертации>ВводОстатковТоварыПереданныеНаКомиссию</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ЕСТЬNULL(ПартииТоваровПереданныеОстатки.ДокументПередачи.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)) КАК Организация,
	|	ЕСТЬNULL(ПартииТоваровПереданныеОстатки.ДоговорКонтрагента.Владелец, ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка)) КАК Контрагент,
	|	ЕСТЬNULL(ПартииТоваровПереданныеОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов, ЗНАЧЕНИЕ(Справочник.Валюты.ПустаяСсылка)) КАК ВалютаВзаиморасчетов,
	|	ПартииТоваровПереданныеОстатки.ДоговорКонтрагента КАК ДоговорКонтрагента,
	|	ПартииТоваровПереданныеОстатки.Номенклатура КАК Номенклатура,
	|	ПартииТоваровПереданныеОстатки.Номенклатура.СтавкаНДС КАК СтавкаНДС,
	|	ПартииТоваровПереданныеОстатки.ХарактеристикаНоменклатуры КАК Характеристика,
	|	ЕСТЬNULL(ТоварыПереданныеОстатки.КоличествоОстаток, 0) * ЕСТЬNULL(ПартииТоваровПереданныеОстатки.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1) КАК Количество,
	|	ВЫБОР
	|		КОГДА ЕСТЬNULL(ПартииТоваровПереданныеОстатки.КоличествоОстаток, 0) = 0
	|			ТОГДА 0
	|		ИНАЧЕ ЕСТЬNULL(ПартииТоваровПереданныеОстатки.СтоимостьОстаток, 0)
	|			* ЕСТЬNULL(ТоварыПереданныеОстатки.КоличествоОстаток, 0)
	|			/ ПартииТоваровПереданныеОстатки.КоличествоОстаток
	|	КОНЕЦ КАК Сумма,
	|	ВЫБОР
	|		КОГДА ЕСТЬNULL(ПартииТоваровПереданныеОстатки.КоличествоОстаток, 0) = 0
	|			ТОГДА 0
	|		ИНАЧЕ ЕСТЬNULL(ПартииТоваровПереданныеОстатки.СтоимостьОстаток, 0)
	|			* ЕСТЬNULL(ТоварыПереданныеОстатки.КоличествоОстаток, 0)
	|			/ ПартииТоваровПереданныеОстатки.КоличествоОстаток
	|	КОНЕЦ * ВЫБОР
	|		КОГДА ЕСТЬNULL(КурсыВалютСрезПоследних.Курс, 0) &gt; 0
	|			И ЕСТЬNULL(КурсыВалютСрезПоследних.Кратность, 0) &gt; 0
	|			ТОГДА КурсыВалютСрезПоследних.Курс / КурсыВалютСрезПоследних.Кратность
	|		ИНАЧЕ 0
	|	КОНЕЦ КАК СуммаСНДСРегл,
	|	ЕСТЬNULL(ТоварыПереданныеОстатки.СерияНоменклатуры.НомерГТД, ЗНАЧЕНИЕ(Справочник.НомераГТД.ПустаяСсылка)) КАК НомерГТД,
	|	ЕСТЬNULL(ТоварыПереданныеОстатки.СерияНоменклатуры.СтранаПроисхождения, ЗНАЧЕНИЕ(Справочник.КлассификаторСтранМира.ПустаяСсылка)) КАК СтранаПроисхождения,
	|	ЕСТЬNULL(ТоварыПереданныеОстатки.СерияНоменклатуры.ПометкаУдаления, ЛОЖЬ) КАК ПометкаУдаления
	|ИЗ
	|	РегистрНакопления.ПартииТоваровПереданные.Остатки(&amp;ДатаОстатков, СтатусПередачи = ЗНАЧЕНИЕ(Перечисление.СтатусыПолученияПередачиТоваров.НаКомиссию)) КАК ПартииТоваровПереданныеОстатки
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ТоварыПереданные.Остатки КАК ТоварыПереданныеОстатки
	|		ПО ПартииТоваровПереданныеОстатки.Номенклатура = ТоварыПереданныеОстатки.Номенклатура
	|			И ПартииТоваровПереданныеОстатки.ХарактеристикаНоменклатуры = ТоварыПереданныеОстатки.ХарактеристикаНоменклатуры
	|			И ПартииТоваровПереданныеОстатки.ДоговорКонтрагента = ТоварыПереданныеОстатки.ДоговорКонтрагента
	|			И ПартииТоваровПереданныеОстатки.ДокументПередачи.Организация = ТоварыПереданныеОстатки.Организация
	|	ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, Валюта = &amp;ВалютаУпрУчета) КАК КурсыВалютСрезПоследних
	|	ПО (ИСТИНА)
	|
	|УПОРЯДОЧИТЬ ПО
	|	ПартииТоваровПереданныеОстатки.Номенклатура.Наименование,
	|	ПартииТоваровПереданныеОстатки.ХарактеристикаНоменклатуры.Наименование
	|ИТОГИ ПО
	|	Организация,
	|	Контрагент,
	|	ДоговорКонтрагента");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ПО (ИСТИНА)",
		"ПО (ИСТИНА)
		| ГДЕ
		|	ЕСТЬNULL(ПартииТоваровПереданныеОстатки.ДокументПередачи.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)) В (&amp;МассивОрганизаций) ");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);	
КонецЕсли;	

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(ТекущаяДата()));
Запрос.УстановитьПараметр("ВалютаУпрУчета", Константы.ВалютаУправленческогоУчета.Получить());

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("Партнер");
ВыборкаДанных.Колонки.Добавить("СоглашениеСКомиссионером");
ВыборкаДанных.Колонки.Добавить("Валюта");
ВыборкаДанных.Колонки.Добавить("Товары");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	ВыборкаПоКонтрагентам = ВыборкаПоОрганизациям.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	Пока ВыборкаПоКонтрагентам.Следующий() Цикл
		
		ВыборкаПоДоговорамКонтрагента = ВыборкаПоКонтрагентам.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
		Пока ВыборкаПоДоговорамКонтрагента.Следующий() Цикл
			
			НоваяСтрока = ВыборкаДанных.Добавить();
			НоваяСтрока.Дата                     = КонецДня(ТекущаяДата()); 
			НоваяСтрока.Организация              = ВыборкаПоОрганизациям.Организация; 
			НоваяСтрока.Партнер                  = ВыборкаПоКонтрагентам.Контрагент; 
			НоваяСтрока.СоглашениеСКомиссионером = ВыборкаПоДоговорамКонтрагента.ДоговорКонтрагента; 
			НоваяСтрока.Валюта                   = ВыборкаПоДоговорамКонтрагента.ВалютаВзаиморасчетов; 
			
			НоваяСтрока.Товары = Новый ТаблицаЗначений;
			НоваяСтрока.Товары.Колонки.Добавить("Номенклатура");
			НоваяСтрока.Товары.Колонки.Добавить("Характеристика");
			НоваяСтрока.Товары.Колонки.Добавить("Количество");
			НоваяСтрока.Товары.Колонки.Добавить("КоличествоУпаковок");
			НоваяСтрока.Товары.Колонки.Добавить("СтавкаНДС");
			НоваяСтрока.Товары.Колонки.Добавить("Сумма");
			НоваяСтрока.Товары.Колонки.Добавить("СуммаБезНДС");
			НоваяСтрока.Товары.Колонки.Добавить("СуммаНДС");
			НоваяСтрока.Товары.Колонки.Добавить("СуммаРегл");
			НоваяСтрока.Товары.Колонки.Добавить("НДСРегл");
			НоваяСтрока.Товары.Колонки.Добавить("Цена");
			НоваяСтрока.Товары.Колонки.Добавить("НомерГТД");
			
			ВыборкаДетальныеЗаписи = ВыборкаПоДоговорамКонтрагента.Выбрать(); 
			Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
				
				СтрокаСообщения = "";
				Если ВыборкаДетальныеЗаписи.Количество &lt; 0 Тогда
					СтрокаСообщения = НСтр("ru = 'Обнаружен отрицательный остаток по товару ""%2"" при выгрузке по правилу: ""%3""'");
				ИначеЕсли ВыборкаДетальныеЗаписи.Сумма &lt;= 0 ИЛИ ВыборкаДетальныеЗаписи.Количество = 0 Тогда
					СтрокаСообщения = НСтр("ru = 'Обнаружен некорректный суммовой остаток по товару ""%2"" при выгрузке по правилу: ""%3""'");
				КонецЕсли;
				
				Если ЗначениеЗаполнено(СтрокаСообщения) Тогда
					СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%2", ВыборкаДетальныеЗаписи.Номенклатура);
					СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%3", НСтр("ru = 'Товары, переданные на комиссию'"));
					
					ЗаписатьВПротоколВыполнения(СтрокаСообщения,,Ложь);
					Продолжить;
				КонецЕсли;
				
				НоваяСтрокаТовары = НоваяСтрока.Товары.Добавить();
				ЗаполнитьЗначенияСвойств(НоваяСтрокаТовары, ВыборкаДетальныеЗаписи);
				НоваяСтрокаТовары.Цена = ВыборкаДетальныеЗаписи.Сумма / ВыборкаДетальныеЗаписи.Количество;
				НоваяСтрокаТовары.КоличествоУпаковок = ВыборкаДетальныеЗаписи.Количество;
				
				СтавкаНДСЧислом = УчетНДС.ПолучитьСтавкуНДС(ВыборкаДетальныеЗаписи.СтавкаНДС) / 100;
				
				НоваяСтрокаТовары.СуммаНДС    = НоваяСтрокаТовары.Сумма / (СтавкаНДСЧислом + 1) * СтавкаНДСЧислом;
				НоваяСтрокаТовары.НДСРегл     = ВыборкаДетальныеЗаписи.СуммаСНДСРегл / (СтавкаНДСЧислом + 1) * СтавкаНДСЧислом;
				НоваяСтрокаТовары.СуммаБезНДС = НоваяСтрокаТовары.Сумма - НоваяСтрокаТовары.СуммаНДС;
				НоваяСтрокаТовары.СуммаРегл   = ВыборкаДетальныеЗаписи.СуммаСНДСРегл - НоваяСтрокаТовары.НДСРегл;
				
				Если ЗначениеЗаполнено(ВыборкаДетальныеЗаписи.НомерГТД) Тогда
					НоваяСтрокаТовары.НомерГТД = Новый Структура;
					НоваяСтрокаТовары.НомерГТД.Вставить("Владелец", ВыборкаДетальныеЗаписи.Номенклатура);
					НоваяСтрокаТовары.НомерГТД.Вставить("СтранаПроисхождения", ВыборкаДетальныеЗаписи.СтранаПроисхождения);
					НоваяСтрокаТовары.НомерГТД.Вставить("ПометкаУдаления", ВыборкаДетальныеЗаписи.ПометкаУдаления);
					НоваяСтрокаТовары.НомерГТД.Вставить("Код", ВыборкаДетальныеЗаписи.НомерГТД);
				КонецЕсли;
				
			КонецЦикла;
			
			Если НоваяСтрока.Товары.Количество() = 0 Тогда
				ВыборкаДанных.Удалить(НоваяСтрока);
			КонецЕсли;
			
		КонецЦикла;
	КонецЦикла;
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ВводОстатковВозвратнаяТараПринятая</Код>
					<Наименование>ВводОстатковВозвратнаяТараПринятая</Наименование>
					<Порядок>200</Порядок>
					<КодПравилаКонвертации>ВводОстатковВозвратнаяТараПринятая</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос(
	"ВЫБРАТЬ
	|	ЕСТЬNULL(ОстаткиВозвратнойТары.ДокументОприходования.Организация,
	|		ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка))                                            КАК Организация,
	|	
	|	ЕСТЬNULL(ОстаткиВозвратнойТары.ДокументОприходования.ДоговорКонтрагента.Владелец,
	|		ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка))                                            КАК Контрагент,
	|	
	|	ОстаткиВозвратнойТары.Склад                                                                   КАК Склад,
	|	ОстаткиВозвратнойТары.Номенклатура                                                            КАК Номенклатура,
	|	ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.БезНДС)                                                       КАК СтавкаНДС,
	|	
	|	СУММА(ЕСТЬNULL(ОстаткиВозвратнойТары.КоличествоОстаток, 0)
	|		* ЕСТЬNULL(ОстаткиВозвратнойТары.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1))    КАК Количество,
	|	
	|	СУММА(ЕСТЬNULL(ОстаткиВозвратнойТары.СтоимостьОстаток, 0))                                    КАК Сумма,
	|	СУММА(ЕСТЬNULL(ОстаткиВозвратнойТары.СтоимостьОстаток, 0))                                    КАК СуммаБезНДС,
	|	СУММА(ЕСТЬNULL(ОстаткиВозвратнойТары.СтоимостьОстаток, 0) * ВЫБОР
	|		КОГДА ЕСТЬNULL(КурсыВалютСрезПоследних.Курс, 0) &gt; 0
	|			И ЕСТЬNULL(КурсыВалютСрезПоследних.Кратность, 0) &gt; 0
	|			ТОГДА КурсыВалютСрезПоследних.Курс / КурсыВалютСрезПоследних.Кратность
	|		ИНАЧЕ 0
	|	КОНЕЦ)                                                                                        КАК СуммаРегл,
	|	
	|	ВЫБОР
	|		КОГДА ЕСТЬNULL(ОстаткиВозвратнойТары.КоличествоОстаток, 0) = 0
	|			ТОГДА 0
	|		ИНАЧЕ ЕСТЬNULL(ОстаткиВозвратнойТары.СтоимостьОстаток, 0)
	|			/ ОстаткиВозвратнойТары.КоличествоОстаток
	|			/ ЕСТЬNULL(ОстаткиВозвратнойТары.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
	|	КОНЕЦ                                                                                         КАК Цена
	|	
	|ИЗ
	|	РегистрНакопления.ПартииТоваровНаСкладах.Остатки(
	|			&amp;ДатаОстатков,
	|			СтатусПартии = ЗНАЧЕНИЕ(Перечисление.СтатусыПартийТоваров.ВозвратнаяТара)
	|				И Номенклатура.ВидНоменклатуры.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)) КАК ОстаткиВозвратнойТары
	|	ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, Валюта = &amp;ВалютаУпрУчета) КАК КурсыВалютСрезПоследних
	|	ПО (ИСТИНА)
	|	
	|СГРУППИРОВАТЬ ПО
	|	ЕСТЬNULL(ОстаткиВозвратнойТары.ДокументОприходования.Организация,
	|		ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)),
	|	ЕСТЬNULL(ОстаткиВозвратнойТары.ДокументОприходования.ДоговорКонтрагента.Владелец,
	|		ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка)),
	|	ОстаткиВозвратнойТары.Склад,
	|	ОстаткиВозвратнойТары.Номенклатура,
	|	ВЫБОР
	|		КОГДА ЕСТЬNULL(ОстаткиВозвратнойТары.КоличествоОстаток, 0) = 0
	|			ТОГДА 0
	|		ИНАЧЕ ЕСТЬNULL(ОстаткиВозвратнойТары.СтоимостьОстаток, 0)
	|			/ ОстаткиВозвратнойТары.КоличествоОстаток
	|			/ ЕСТЬNULL(ОстаткиВозвратнойТары.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
	|	КОНЕЦ
	|	
	|ИТОГИ ПО
	|	Организация,
	|	Контрагент,
	|	Склад
	|	
	|АВТОУПОРЯДОЧИВАНИЕ");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ПО (ИСТИНА)",
		"ПО (ИСТИНА)
		| ГДЕ
		|	ЕСТЬNULL(ОстаткиВозвратнойТары.ДокументОприходования.Организация,
		|	ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)) В (&amp;МассивОрганизаций) ");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);	
КонецЕсли;	

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));
Запрос.УстановитьПараметр("ВалютаУпрУчета", Константы.ВалютаУправленческогоУчета.Получить());

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("Склад");
ВыборкаДанных.Колонки.Добавить("Партнер");
ВыборкаДанных.Колонки.Добавить("Контрагент");
ВыборкаДанных.Колонки.Добавить("Валюта");
ВыборкаДанных.Колонки.Добавить("Товары");

РезультатЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	ВыборкаПоКонтрагентам = ВыборкаПоОрганизациям.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	Пока ВыборкаПоКонтрагентам.Следующий() Цикл
		
		ВыборкаПоСкладам = ВыборкаПоКонтрагентам.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
		Пока ВыборкаПоСкладам.Следующий() Цикл
			
			НоваяСтрока = ВыборкаДанных.Добавить();
			НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков);
			НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация;
			НоваяСтрока.Склад       = ВыборкаПоСкладам.Склад;
			НоваяСтрока.Партнер     = ВыборкаПоКонтрагентам.Контрагент;
			НоваяСтрока.Контрагент  = ВыборкаПоКонтрагентам.Контрагент;
			НоваяСтрока.Валюта      = Константы.ВалютаУправленческогоУчета.Получить();
			
			НоваяСтрока.Товары = Новый ТаблицаЗначений;
			НоваяСтрока.Товары.Колонки.Добавить("Номенклатура");
			НоваяСтрока.Товары.Колонки.Добавить("Количество");
			НоваяСтрока.Товары.Колонки.Добавить("КоличествоУпаковок");
			НоваяСтрока.Товары.Колонки.Добавить("Цена");
			НоваяСтрока.Товары.Колонки.Добавить("Сумма");
			НоваяСтрока.Товары.Колонки.Добавить("СуммаБезНДС");
			НоваяСтрока.Товары.Колонки.Добавить("СуммаРегл");
			НоваяСтрока.Товары.Колонки.Добавить("СтавкаНДС");
			
			ВыборкаДетальныеЗаписи = ВыборкаПоСкладам.Выбрать(); 
			Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
				
				Если ВыборкаДетальныеЗаписи.Количество &lt; 0 Тогда
					СтрокаСообщения = НСтр("ru = 'Обнаружен отрицательный остаток на складе ""%1"" по возвратной таре ""%2"" при выгрузке по правилу: ""%3""'");
					СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%1", ВыборкаПоСкладам.Склад);
					СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%2", ВыборкаДетальныеЗаписи.Номенклатура);
					СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%3", НСтр("ru = 'Возвратная тара, принятая от поставщиков'"));
					
					Если Не ЗначениеЗаполнено(ВыборкаПоСкладам.Склад) Тогда
						СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "на складе """" ", "");
					КонецЕсли;
					
					ЗаписатьВПротоколВыполнения(СтрокаСообщения,,Ложь);
					Продолжить;
				КонецЕсли;
				
				НоваяСтрокаТовары = НоваяСтрока.Товары.Добавить();
				ЗаполнитьЗначенияСвойств(НоваяСтрокаТовары, ВыборкаДетальныеЗаписи);
				НоваяСтрокаТовары.КоличествоУпаковок = ВыборкаДетальныеЗаписи.Количество;
				
			КонецЦикла;
			
			Если НоваяСтрока.Товары.Количество() = 0 Тогда
				ВыборкаДанных.Удалить(НоваяСтрока);
			КонецЕсли;
			
		КонецЦикла;
	КонецЦикла;
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ВводОстатковВозвратнаяТараПереданная</Код>
					<Наименование>ВводОстатковВозвратнаяТараПереданная</Наименование>
					<Порядок>250</Порядок>
					<КодПравилаКонвертации>ВводОстатковВозвратнаяТараПереданная</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос(
	"ВЫБРАТЬ
	|	ОстаткиВозвратнойТары.Организация                                                             КАК Организация,
	|	ОстаткиВозвратнойТары.Контрагент                                                              КАК Контрагент,
	|	ОстаткиВозвратнойТары.Номенклатура                                                            КАК Номенклатура,
	|	ЗНАЧЕНИЕ(Перечисление.СтавкиНДС.БезНДС)                                                       КАК СтавкаНДС,
	|	
	|	СУММА(ЕСТЬNULL(ОстаткиВозвратнойТары.КоличествоОстаток, 0)
	|		* ЕСТЬNULL(ОстаткиВозвратнойТары.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1))    КАК Количество,
	|	
	|	СУММА(ЕСТЬNULL(ОстаткиВозвратнойТары.СуммаВзаиморасчетовОстаток, 0))                          КАК Сумма,
	|	СУММА(ЕСТЬNULL(ОстаткиВозвратнойТары.СуммаВзаиморасчетовОстаток, 0))                          КАК СуммаБезНДС,
	|	СУММА(ЕСТЬNULL(ОстаткиВозвратнойТары.СуммаВзаиморасчетовОстаток, 0) * ВЫБОР
	|		КОГДА ЕСТЬNULL(КурсыВалютСрезПоследних.Курс, 0) &gt; 0
	|			И ЕСТЬNULL(КурсыВалютСрезПоследних.Кратность, 0) &gt; 0
	|			ТОГДА КурсыВалютСрезПоследних.Курс / КурсыВалютСрезПоследних.Кратность
	|		ИНАЧЕ 0
	|	КОНЕЦ)                                                                                        КАК СуммаРегл,
	|	
	|	ВЫБОР
	|		КОГДА ЕСТЬNULL(ОстаткиВозвратнойТары.КоличествоОстаток, 0) = 0
	|			ТОГДА 0
	|		ИНАЧЕ ЕСТЬNULL(ОстаткиВозвратнойТары.СуммаВзаиморасчетовОстаток, 0)
	|			/ ОстаткиВозвратнойТары.КоличествоОстаток
	|			/ ЕСТЬNULL(ОстаткиВозвратнойТары.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
	|	КОНЕЦ                                                                                         КАК Цена
	|	
	|ИЗ
	|	РегистрНакопления.ТоварыПереданные.Остатки(
	|			&amp;ДатаОстатков,
	|			СтатусПередачи = ЗНАЧЕНИЕ(Перечисление.СтатусыПолученияПередачиТоваров.ВозвратнаяТара)
	|				И Номенклатура.ВидНоменклатуры.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)) КАК ОстаткиВозвратнойТары
	|	ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, Валюта = &amp;ВалютаУпрУчета) КАК КурсыВалютСрезПоследних
	|	ПО (ИСТИНА)
	|	
	|СГРУППИРОВАТЬ ПО
	|	ОстаткиВозвратнойТары.Организация,
	|	ОстаткиВозвратнойТары.Контрагент,
	|	ОстаткиВозвратнойТары.Номенклатура,
	|	ВЫБОР
	|		КОГДА ЕСТЬNULL(ОстаткиВозвратнойТары.КоличествоОстаток, 0) = 0
	|			ТОГДА 0
	|		ИНАЧЕ ЕСТЬNULL(ОстаткиВозвратнойТары.СуммаВзаиморасчетовОстаток, 0)
	|			/ ОстаткиВозвратнойТары.КоличествоОстаток
	|			/ ЕСТЬNULL(ОстаткиВозвратнойТары.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
	|	КОНЕЦ
	|	
	|ИТОГИ ПО
	|	Организация,
	|	Контрагент
	|	
	|АВТОУПОРЯДОЧИВАНИЕ");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ПО (ИСТИНА)",
		"ПО (ИСТИНА)
		| ГДЕ
		|	ОстаткиВозвратнойТары.Организация В (&amp;МассивОрганизаций) ");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);	
КонецЕсли;	

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));
Запрос.УстановитьПараметр("ВалютаУпрУчета", Константы.ВалютаУправленческогоУчета.Получить());

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("Партнер");
ВыборкаДанных.Колонки.Добавить("Валюта");
ВыборкаДанных.Колонки.Добавить("Товары");

РезультатЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	ВыборкаПоКонтрагентам = ВыборкаПоОрганизациям.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	Пока ВыборкаПоКонтрагентам.Следующий() Цикл
		
		НоваяСтрока = ВыборкаДанных.Добавить();
		НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков);
		НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация;
		НоваяСтрока.Партнер     = ВыборкаПоКонтрагентам.Контрагент;
		НоваяСтрока.Валюта      = Константы.ВалютаУправленческогоУчета.Получить();
		
		НоваяСтрока.Товары = Новый ТаблицаЗначений;
		НоваяСтрока.Товары.Колонки.Добавить("Номенклатура");
		НоваяСтрока.Товары.Колонки.Добавить("Количество");
		НоваяСтрока.Товары.Колонки.Добавить("КоличествоУпаковок");
		НоваяСтрока.Товары.Колонки.Добавить("Цена");
		НоваяСтрока.Товары.Колонки.Добавить("Сумма");
		НоваяСтрока.Товары.Колонки.Добавить("СуммаБезНДС");
		НоваяСтрока.Товары.Колонки.Добавить("СуммаРегл");
		НоваяСтрока.Товары.Колонки.Добавить("СтавкаНДС");
		
		ВыборкаДетальныеЗаписи = ВыборкаПоКонтрагентам.Выбрать(); 
		Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
			
			Если ВыборкаДетальныеЗаписи.Количество &lt; 0 Тогда
				СтрокаСообщения = НСтр("ru = 'Обнаружен отрицательный остаток по возвратной таре ""%1"" при выгрузке по правилу: ""%2""'");
				СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%1", ВыборкаДетальныеЗаписи.Номенклатура);
				СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%2", НСтр("ru = 'Возвратная тара, переданная клиентам'"));
				ЗаписатьВПротоколВыполнения(СтрокаСообщения,,Ложь);
				Продолжить;
			КонецЕсли;
			
			НоваяСтрокаТовары = НоваяСтрока.Товары.Добавить();
			ЗаполнитьЗначенияСвойств(НоваяСтрокаТовары, ВыборкаДетальныеЗаписи);
			НоваяСтрокаТовары.КоличествоУпаковок = ВыборкаДетальныеЗаписи.Количество;
			
		КонецЦикла;
		
		Если НоваяСтрока.Товары.Количество() = 0 Тогда
			ВыборкаДанных.Удалить(НоваяСтрока);
		КонецЕсли;
		
	КонецЦикла;
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>ВзаиморасчетыСПодотчетнымиЛицами</Код>
				<Наименование>ВзаиморасчетыСПодотчетнымиЛицами</Наименование>
				<Порядок>150</Порядок>
				<Правило Отключить="false">
					<Код>ВводОстатковДолгПодотчетников</Код>
					<Наименование>ВводОстатковДолгПодотчетников</Наименование>
					<Порядок>50</Порядок>
					<КодПравилаКонвертации>ВводОстатковДолгПодотчетников</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ВзаиморасчетыСПодотчетнымиЛицамиОстатки.Организация                        КАК Организация,
	|	ВзаиморасчетыСПодотчетнымиЛицамиОстатки.ФизЛицо                            КАК ПодотчетноеЛицо,
	|	ВзаиморасчетыСПодотчетнымиЛицамиОстатки.РасчетныйДокумент                  КАК РасчетныйДокумент,
	|	ВзаиморасчетыСПодотчетнымиЛицамиОстатки.РасчетныйДокумент.Номер            КАК НомерРасчетногоДокумента,
	|	ВзаиморасчетыСПодотчетнымиЛицамиОстатки.РасчетныйДокумент.Дата             КАК ДатаРасчетногоДокумента,
	|	ВзаиморасчетыСПодотчетнымиЛицамиОстатки.СуммаВзаиморасчетовОстаток         КАК Сумма,
	|	
	|	ВзаиморасчетыСПодотчетнымиЛицамиОстатки.СуммаВзаиморасчетовОстаток * ВЫБОР
	|		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
	|				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
	|			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
	|		ИНАЧЕ 0
	|	КОНЕЦ                                                                      КАК СуммаРегл,
	|	ВзаиморасчетыСПодотчетнымиЛицамиОстатки.СуммаУпрОстаток					   КАК СуммаУпр,
	|	
	|	ВзаиморасчетыСПодотчетнымиЛицамиОстатки.Валюта                             КАК Валюта
	|	
	|ИЗ
	|	РегистрНакопления.ВзаиморасчетыСПодотчетнымиЛицами.Остатки(&amp;ДатаОстатков) КАК ВзаиморасчетыСПодотчетнымиЛицамиОстатки
	|	
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков) КАК КурсыВалют
	|		ПО ВзаиморасчетыСПодотчетнымиЛицамиОстатки.Валюта = КурсыВалют.Валюта
	|	
	|ГДЕ
	|	ВзаиморасчетыСПодотчетнымиЛицамиОстатки.РасчетныйДокумент ССЫЛКА Документ.РасходныйКассовыйОрдер
	|		ИЛИ ВзаиморасчетыСПодотчетнымиЛицамиОстатки.РасчетныйДокумент ССЫЛКА Документ.ПриходныйКассовыйОрдер ИЛИ
	|	ВзаиморасчетыСПодотчетнымиЛицамиОстатки.РасчетныйДокумент ССЫЛКА Документ.ПлатежныйОрдерСписаниеДенежныхСредств
	|		ИЛИ ВзаиморасчетыСПодотчетнымиЛицамиОстатки.РасчетныйДокумент ССЫЛКА Документ.ПлатежноеПоручениеИсходящее
	|	
	|УПОРЯДОЧИТЬ ПО
	|	ВзаиморасчетыСПодотчетнымиЛицамиОстатки.ФизЛицо
	|ИТОГИ ПО
	|	Организация
	|АВТОУПОРЯДОЧИВАНИЕ");

Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "и(&amp;ДатаОстатков)", 
								"и(&amp;ДатаОстатков, Организация В (&amp;МассивОрганизаций))");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПодотчетниками");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	НоваяСтрока.РасчетыСПодотчетниками = Новый ТаблицаЗначений;
	НоваяСтрока.РасчетыСПодотчетниками.Колонки.Добавить("ПодотчетноеЛицо");
	НоваяСтрока.РасчетыСПодотчетниками.Колонки.Добавить("ДатаРасчетногоДокумента");
	НоваяСтрока.РасчетыСПодотчетниками.Колонки.Добавить("НомерРасчетногоДокумента");
	НоваяСтрока.РасчетыСПодотчетниками.Колонки.Добавить("Сумма");
	НоваяСтрока.РасчетыСПодотчетниками.Колонки.Добавить("СуммаРегл");
	НоваяСтрока.РасчетыСПодотчетниками.Колонки.Добавить("СуммаУпр");
	НоваяСтрока.РасчетыСПодотчетниками.Колонки.Добавить("Валюта");
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		Если ВыборкаДетальныеЗаписи.Сумма &lt; 0 Тогда
			СтрокаСообщения = НСтр("ru = 'Обнаружен отрицательный остаток по подотчетному лицу ""%1"" при выгрузке по правилу: ""%2""'");
			СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%1", ВыборкаДетальныеЗаписи.ПодотчетноеЛицо);
			СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%2", НСтр("ru = 'Долги подотчетников'"));
			ЗаписатьВПротоколВыполнения(СтрокаСообщения,,Ложь);
			Продолжить;
		КонецЕсли;
		Если ТипЗнч(ВыборкаДетальныеЗаписи.РасчетныйДокумент) = Тип("ДокументСсылка.ПриходныйКассовыйОрдер") Тогда
			СтрокаСообщения = НСтр("ru = 'Обнаружен остаток по расчетному документу вида ""Приходный кассовый ордер""
										 |по подотчетному лицу ""%1"" при выгрузке по правилу: ""%2""'");
			СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%1", ВыборкаДетальныеЗаписи.ПодотчетноеЛицо);
			СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%2", НСтр("ru = 'Долги подотчетников'"));
			ЗаписатьВПротоколВыполнения(СтрокаСообщения,,Ложь);
			Продолжить;
		КонецЕсли;
		
		НоваяСтрокаРасчетыСПодотчетниками = НоваяСтрока.РасчетыСПодотчетниками.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПодотчетниками, ВыборкаДетальныеЗаписи);
				
	КонецЦикла;
	
	Если НоваяСтрока.РасчетыСПодотчетниками.Количество() = 0 Тогда
		ВыборкаДанных.Удалить(НоваяСтрока);
	КонецЕсли;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ВводОстатковПерерасходПодотчетныхСредств</Код>
					<Наименование>ВводОстатковПерерасходПодотчетныхСредств</Наименование>
					<Порядок>150</Порядок>
					<КодПравилаКонвертации>ВводОстатковПерерасходПодотчетныхСредств</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ВзаиморасчетыСПодотчетнымиЛицамиОстатки.Организация                         КАК Организация,
	|	ВзаиморасчетыСПодотчетнымиЛицамиОстатки.ФизЛицо                             КАК ПодотчетноеЛицо,
	|	ВзаиморасчетыСПодотчетнымиЛицамиОстатки.РасчетныйДокумент.Номер             КАК НомерРасчетногоДокумента,
	|	ВзаиморасчетыСПодотчетнымиЛицамиОстатки.РасчетныйДокумент.Дата              КАК ДатаРасчетногоДокумента,
	|	-ВзаиморасчетыСПодотчетнымиЛицамиОстатки.СуммаВзаиморасчетовОстаток         КАК Сумма,
	|	
	|	-ВзаиморасчетыСПодотчетнымиЛицамиОстатки.СуммаВзаиморасчетовОстаток * ВЫБОР
	|		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
	|				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
	|			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
	|		ИНАЧЕ 0
	|	КОНЕЦ                                                                       КАК СуммаРегл,
	|	-ВзаиморасчетыСПодотчетнымиЛицамиОстатки.СуммаУпрОстаток					КАК СуммаУпр,
	|	
	|	ВзаиморасчетыСПодотчетнымиЛицамиОстатки.Валюта                              КАК Валюта
	|ИЗ
	|	РегистрНакопления.ВзаиморасчетыСПодотчетнымиЛицами.Остатки(&amp;ДатаОстатков) КАК ВзаиморасчетыСПодотчетнымиЛицамиОстатки
	|	
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков) КАК КурсыВалют
	|		ПО ВзаиморасчетыСПодотчетнымиЛицамиОстатки.Валюта = КурсыВалют.Валюта
	|	
	|ГДЕ
	|	ВзаиморасчетыСПодотчетнымиЛицамиОстатки.РасчетныйДокумент ССЫЛКА Документ.АвансовыйОтчет
	|
	|УПОРЯДОЧИТЬ ПО
	|	ВзаиморасчетыСПодотчетнымиЛицамиОстатки.ФизЛицо.Наименование 	
	|ИТОГИ ПО
	|	Организация
	|АВТОУПОРЯДОЧИВАНИЕ");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "и(&amp;ДатаОстатков)", 
								"и(&amp;ДатаОстатков, Организация В (&amp;МассивОрганизаций))");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;	

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПодотчетниками");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	НоваяСтрока.РасчетыСПодотчетниками = Новый ТаблицаЗначений;
	НоваяСтрока.РасчетыСПодотчетниками.Колонки.Добавить("ПодотчетноеЛицо");
	НоваяСтрока.РасчетыСПодотчетниками.Колонки.Добавить("ДатаРасчетногоДокумента");
	НоваяСтрока.РасчетыСПодотчетниками.Колонки.Добавить("НомерРасчетногоДокумента");
	НоваяСтрока.РасчетыСПодотчетниками.Колонки.Добавить("Сумма");
	НоваяСтрока.РасчетыСПодотчетниками.Колонки.Добавить("СуммаРегл");
	НоваяСтрока.РасчетыСПодотчетниками.Колонки.Добавить("СуммаУпр");
	НоваяСтрока.РасчетыСПодотчетниками.Колонки.Добавить("Валюта");
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		
		Если ВыборкаДетальныеЗаписи.Сумма &lt; 0 Тогда
			СтрокаСообщения = НСтр("ru = 'Обнаружен отрицательный остаток по подотчетному лицу ""%1"" при выгрузке по правилу: ""%2""'");
			СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%1", ВыборкаДетальныеЗаписи.ПодотчетноеЛицо);
			СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%2", НСтр("ru = 'Перерасход подотчетных средств'"));
			ЗаписатьВПротоколВыполнения(СтрокаСообщения,,Ложь);
			Продолжить;
		КонецЕсли;
		
		НоваяСтрокаРасчетыСПодотчетниками = НоваяСтрока.РасчетыСПодотчетниками.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПодотчетниками, ВыборкаДетальныеЗаписи);		
		
	КонецЦикла;
	
	Если НоваяСтрока.РасчетыСПодотчетниками.Количество() = 0 Тогда
		ВыборкаДанных.Удалить(НоваяСтрока);
	КонецЕсли;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>ДенежныеСредства</Код>
				<Наименование>ДенежныеСредства</Наименование>
				<Порядок>200</Порядок>
				<Правило Отключить="false">
					<Код>ВводОстатковДенежныеСредстваНаБанковскихСчетах</Код>
					<Наименование>ВводОстатковДенежныеСредстваНаБанковскихСчетах</Наименование>
					<Порядок>350</Порядок>
					<КодПравилаКонвертации>ВводОстатковДенежныхСредствНаБанковскихСчетах</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ОстаткиВКассах.Организация                                                         КАК Организация,
	|	ОстаткиВКассах.БанковскийСчетКасса                                                 КАК БанковскийСчет,
	|	ОстаткиВКассах.СуммаОстаток                                                        КАК Сумма,
	|	ОстаткиВКассах.СуммаОстаток * ВЫБОР
	|		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
	|				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
	|			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
	|		ИНАЧЕ 0
	|	КОНЕЦ                                                                              КАК СуммаРегл,
	|	ОстаткиВКассах.СуммаУпрОстаток													   КАК СуммаУпр
	|	
	|ИЗ
	|	РегистрНакопления.ДенежныеСредства.Остатки(
	|		&amp;ДатаОстатков,
	|		ВидДенежныхСредств = ЗНАЧЕНИЕ(Перечисление.ВидыДенежныхСредств.Безналичные)) КАК ОстаткиВКассах
	|	
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков) КАК КурсыВалют
	|		ПО ОстаткиВКассах.БанковскийСчетКасса.ВалютаДенежныхСредств = КурсыВалют.Валюта
	|	
	|УПОРЯДОЧИТЬ ПО
	|	ОстаткиВКассах.БанковскийСчетКасса
	|ИТОГИ ПО
	|	Организация
	|АВТОУПОРЯДОЧИВАНИЕ");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ВидДенежныхСредств = ЗНАЧЕНИЕ(Перечисление.ВидыДенежныхСредств.Безналичные)", 
								"ВидДенежныхСредств = ЗНАЧЕНИЕ(Перечисление.ВидыДенежныхСредств.Безналичные) И Организация В (&amp;МассивОрганизаций)");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;	

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("БанковскиеСчета");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	НоваяСтрока.БанковскиеСчета = Новый ТаблицаЗначений;
	НоваяСтрока.БанковскиеСчета.Колонки.Добавить("БанковскийСчет");
	НоваяСтрока.БанковскиеСчета.Колонки.Добавить("Сумма");
	НоваяСтрока.БанковскиеСчета.Колонки.Добавить("СуммаРегл");
	НоваяСтрока.БанковскиеСчета.Колонки.Добавить("СуммаУпр");
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		
		Если ВыборкаДетальныеЗаписи.Сумма &lt; 0 Тогда
			СтрокаСообщения = НСтр("ru = 'Обнаружены отрицательные остатки на банковском счете ""%1"" при выгрузке по правилу: ""%2""'");
			СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%1", ВыборкаДетальныеЗаписи.БанковскийСчет);
			СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%2", НСтр("ru = 'Денежные cредства на банковских счетах'"));
			ЗаписатьВПротоколВыполнения(СтрокаСообщения,,Ложь);
			Продолжить;
		КонецЕсли;
		
		ВалютаДенежныхСредств = ОбщегоНазначения.ПолучитьЗначениеРеквизита(ВыборкаДетальныеЗаписи.БанковскийСчет, "ВалютаДенежныхСредств");
			
		НоваяСтрокаБанковскиеСчета = НоваяСтрока.БанковскиеСчета.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаБанковскиеСчета, ВыборкаДетальныеЗаписи);
		
	КонецЦикла;
	
	Если НоваяСтрока.БанковскиеСчета.Количество() = 0 Тогда
		ВыборкаДанных.Удалить(НоваяСтрока);
	КонецЕсли;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ВводОстатковДенежныеСредстваВКассах</Код>
					<Наименование>ВводОстатковДенежныеСредстваВКассах</Наименование>
					<Порядок>400</Порядок>
					<КодПравилаКонвертации>ВводОстатковДенежныеСредстваВКассах</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ОстаткиВКассах.Организация                                                         КАК Организация,
	|	ОстаткиВКассах.БанковскийСчетКасса                                                 КАК Касса,
	|	ОстаткиВКассах.СуммаОстаток                                                        КАК Сумма,
	|	ОстаткиВКассах.СуммаОстаток * ВЫБОР
	|		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
	|				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
	|			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
	|		ИНАЧЕ 0
	|	КОНЕЦ                                                                              КАК СуммаРегл,
	|	ОстаткиВКассах.СуммаУпрОстаток													   КАК СуммаУпр
	|ИЗ
	|	РегистрНакопления.ДенежныеСредства.Остатки(
	|		&amp;ДатаОстатков,
	|		ВидДенежныхСредств = ЗНАЧЕНИЕ(Перечисление.ВидыДенежныхСредств.Наличные)) КАК ОстаткиВКассах
	|	
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков) КАК КурсыВалют
	|		ПО ОстаткиВКассах.БанковскийСчетКасса.ВалютаДенежныхСредств = КурсыВалют.Валюта
	|	
	|УПОРЯДОЧИТЬ ПО
	|	ОстаткиВКассах.БанковскийСчетКасса
	|ИТОГИ ПО
	|	Организация
	|АВТОУПОРЯДОЧИВАНИЕ");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ВидДенежныхСредств = ЗНАЧЕНИЕ(Перечисление.ВидыДенежныхСредств.Наличные)", 
								"ВидДенежныхСредств = ЗНАЧЕНИЕ(Перечисление.ВидыДенежныхСредств.Наличные) И Организация В (&amp;МассивОрганизаций)");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;	

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("Кассы");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	НоваяСтрока.Кассы = Новый ТаблицаЗначений;
	НоваяСтрока.Кассы.Колонки.Добавить("Касса");
	НоваяСтрока.Кассы.Колонки.Добавить("Сумма");
	НоваяСтрока.Кассы.Колонки.Добавить("СуммаРегл");
	НоваяСтрока.Кассы.Колонки.Добавить("СуммаУпр");
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		
		Если ВыборкаДетальныеЗаписи.Сумма &lt; 0 Тогда
			СтрокаСообщения = НСтр("ru = 'Обнаружены отрицательные остатки по кассе ""%1"" при выгрузке по правилу: ""%2""'");
			СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%1", ВыборкаДетальныеЗаписи.Касса);
			СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%2", НСтр("ru = 'Денежные средства в кассах'"));
			ЗаписатьВПротоколВыполнения(СтрокаСообщения,,Ложь);
			Продолжить;
		КонецЕсли;
		
		ВалютаДенежныхСредств = ОбщегоНазначения.ПолучитьЗначениеРеквизита(ВыборкаДетальныеЗаписи.Касса, "ВалютаДенежныхСредств");		
		
		НоваяСтрокаКассы = НоваяСтрока.Кассы.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаКассы, ВыборкаДетальныеЗаписи);
			
	КонецЦикла;
	
	Если НоваяСтрока.Кассы.Количество() = 0 Тогда
		ВыборкаДанных.Удалить(НоваяСтрока);
	КонецЕсли;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>Заказы</Код>
				<Наименование>Заказы</Наименование>
				<Порядок>250</Порядок>
				<Правило Отключить="false">
					<Код>ЗаказПокупателя</Код>
					<Наименование>ЗаказПокупателя</Наименование>
					<Порядок>50</Порядок>
					<КодПравилаКонвертации>ЗаказКлиента</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ЗаказПокупателя</ОбъектВыборки>
					<ПередОбработкойПравила>Запрос = Новый Запрос(Запросы.ОстаткиЗаказовПокупателей.Текст);
Запрос.УстановитьПараметр("ДатаОстатков", Новый Граница(Параметры.ДатаОстатков, ВидГраницы.Включая));

ВыборкаДанных = Запрос.Выполнить().Выгрузить().ВыгрузитьКолонку("Ссылка");</ПередОбработкойПравила>
					<ПередВыгрузкойОбъекта>Если Параметры.Организации.Количество() &gt; 0 И Параметры.Организации.Найти(Объект.Организация) = Неопределено Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
				</Правило>
				<Правило Отключить="false">
					<Код>ЗаказПоставщику</Код>
					<Наименование>ЗаказПоставщику</Наименование>
					<Порядок>100</Порядок>
					<КодПравилаКонвертации>ЗаказПоставщику</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.ЗаказПоставщику</ОбъектВыборки>
					<ПередОбработкойПравила>Запрос = Новый Запрос(Запросы.ОстаткиЗаказовПоставщикам.Текст);
Запрос.УстановитьПараметр("ДатаОстатков", Новый Граница(Параметры.ДатаОстатков, ВидГраницы.Включая));

ВыборкаДанных = Запрос.Выполнить().Выгрузить().ВыгрузитьКолонку("Ссылка");</ПередОбработкойПравила>
					<ПередВыгрузкойОбъекта>Если Параметры.Организации.Количество() &gt; 0 И Параметры.Организации.Найти(Объект.Организация) = Неопределено Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>РасчетыСКонтрагентами</Код>
				<Наименование>РасчетыСКонтрагентами</Наименование>
				<Порядок>300</Порядок>
				<Группа Отключить="false">
					<Код>РасчетыСКлиентами</Код>
					<Наименование>РасчетыСКлиентами</Наименование>
					<Порядок>350</Порядок>
					<Правило Отключить="false">
						<Код>ВводОстатковДолгиКлиентовПоДоговорам</Код>
						<Наименование>ВводОстатковДолгиКлиентовПоДоговорам</Наименование>
						<Порядок>50</Порядок>
						<КодПравилаКонвертации>ВводОстатковДолгиКлиентовПоДоговорам</КодПравилаКонвертации>
						<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
						<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
						<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	&amp;ДатаОстатков КАК ДатаПлатежа,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Организация КАК Организация,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Сделка,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент КАК Контрагент,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент КАК Партнер,
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток КАК Сумма,
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов КАК ВалютаВзаиморасчетов,
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента КАК РасчетныйДокумент,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Номер = """"
	|			ТОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Код
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Номер
	|	КОНЕЦ КАК НомерРасчетногоДокумента,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Дата = ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА &amp;ДатаОстатков
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Дата
	|	КОНЕЦ КАК ДатаРасчетногоДокумента,
	|	NULL КАК ДокументРасчетовСКонтрагентом
	|ПОМЕСТИТЬ ОстаткиВзаиморасчетов
	|ИЗ
	|	РегистрНакопления.ВзаиморасчетыСКонтрагентами.Остатки(
	|			&amp;ДатаОстатков,
	|			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СПокупателем)
	|				И (ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоДоговоруВцелом)
	|					ИЛИ ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоСчетам)
	|						И (НЕ ДоговорКонтрагента.ВестиПоДокументамРасчетовСКонтрагентом)
	|					ИЛИ ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоЗаказам)
	|						И (НЕ Сделка ССЫЛКА Документ.ЗаказПокупателя))) КАК ВзаиморасчетыСКонтрагентамиОстатки
	|ГДЕ
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток &gt; 0
	|
	|ОБЪЕДИНИТЬ
	|
	|ВЫБРАТЬ
	|	&amp;ДатаОстатков,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Организация,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Сделка,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Контрагент,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Контрагент,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Номер = """"
	|			ТОГДА ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Код
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Номер
	|	КОНЕЦ,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Дата = ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА &amp;ДатаОстатков
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Дата
	|	КОНЕЦ,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДокументРасчетовСКонтрагентом
	|ИЗ
	|	РегистрНакопления.ВзаиморасчетыСКонтрагентамиПоДокументамРасчетов.Остатки(
	|			&amp;ДатаОстатков,
	|			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СПокупателем)
	|				И УпрУчет
	|				И ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоСчетам)
	|				И (НЕ ДокументРасчетовСКонтрагентом ССЫЛКА Документ.РеализацияТоваровУслуг)) КАК ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки
	|ГДЕ
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток &gt; 0
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ОстаткиВзаиморасчетов.ДатаПлатежа,
	|	ОстаткиВзаиморасчетов.Организация                    КАК Организация,
	|	ОстаткиВзаиморасчетов.Контрагент                     КАК Контрагент,
	|	ОстаткиВзаиморасчетов.Партнер,
	|	СУММА(ОстаткиВзаиморасчетов.Сумма)                   КАК Сумма,
	|	
	|	СУММА(ОстаткиВзаиморасчетов.Сумма * ВЫБОР
	|		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
	|				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
	|			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
	|		ИНАЧЕ 0
	|	КОНЕЦ)                                               КАК СуммаРегл,
	|	
	|	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
	|	ОстаткиВзаиморасчетов.РасчетныйДокумент КАК ОбъектРасчетов,
	|	ОстаткиВзаиморасчетов.НомерРасчетногоДокумента,
	|	ОстаткиВзаиморасчетов.ДатаРасчетногоДокумента
	|ИЗ
	|	ОстаткиВзаиморасчетов КАК ОстаткиВзаиморасчетов
	|	
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков) КАК КурсыВалют
	|		ПО ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов = КурсыВалют.Валюта
	|	
	|СГРУППИРОВАТЬ ПО
	|	ОстаткиВзаиморасчетов.ДатаПлатежа,
	|	ОстаткиВзаиморасчетов.Организация,
	|	ОстаткиВзаиморасчетов.Контрагент,
	|	ОстаткиВзаиморасчетов.Партнер,
	|	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
	|	ОстаткиВзаиморасчетов.РасчетныйДокумент,
	|	ОстаткиВзаиморасчетов.НомерРасчетногоДокумента,
	|	ОстаткиВзаиморасчетов.ДатаРасчетногоДокумента
	|
	|УПОРЯДОЧИТЬ ПО
	|	Контрагент
	|ИТОГИ ПО
	|	Организация
	|АВТОУПОРЯДОЧИВАНИЕ");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ", 
								"Организация В (&amp;МассивОрганизаций) И ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПартнерами");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	РасчетыСПартнерами = Неопределено;
	Выполнить(Алгоритмы.ТаблицаРасчетовСПартнерами);
	НоваяСтрока.РасчетыСПартнерами = РасчетыСПартнерами;
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		НоваяСтрокаРасчетыСПартнерами = НоваяСтрока.РасчетыСПартнерами.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПартнерами, ВыборкаДетальныеЗаписи);
					
		НоваяСтрокаРасчетыСПартнерами.СуммаУпр = МодульВалютногоУчета.ПересчитатьИзВалютыВВалюту(ВыборкаДетальныеЗаписи.СуммаРегл,
			Параметры.ВалютаРеглУчета, Параметры.ВалютаУпрУчета, 1, Параметры.КурсВУУ.Курс, 1, Параметры.КурсВУУ.Кратность);
					
	КонецЦикла;
		
КонецЦикла;

Выполнить(Алгоритмы.ОчисткаВыборки);</ПередОбработкойПравила>
					</Правило>
					<Правило Отключить="false">
						<Код>ВводОстатковДолгиКлиентовПоЗаказам</Код>
						<Наименование>ВводОстатковДолгиКлиентовПоЗаказам</Наименование>
						<Порядок>100</Порядок>
						<КодПравилаКонвертации>ВводОстатковДолгиКлиентовПоЗаказам</КодПравилаКонвертации>
						<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
						<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
						<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ВзаиморасчетыСКонтрагентамиОстатки.Организация                                              КАК Организация,
	|	ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Документ.ЗаказПокупателя)            КАК ОбъектРасчетов,
	|	ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Документ.ЗаказПокупателя).ДатаОплаты КАК ДатаПлатежа,
	|	ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Документ.ЗаказПокупателя).Дата       КАК ДатаРасчетногоДокумента,
	|	ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Документ.ЗаказПокупателя).Номер      КАК НомерРасчетногоДокумента,
	|	
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент                              КАК Партнер,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент                              КАК Контрагент,
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток              КАК Сумма,
	|	
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток * ВЫБОР
	|		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
	|				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
	|			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
	|		ИНАЧЕ 0
	|	КОНЕЦ                                                                      КАК СуммаРегл,
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаУпрОстаток						   КАК СуммаУпр,
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов КАК ВалютаВзаиморасчетов
	|ИЗ
	|	РегистрНакопления.ВзаиморасчетыСКонтрагентами.Остатки(
	|			&amp;ДатаОстатков,
	|			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СПокупателем)
	|				И ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоЗаказам)
	|				И Сделка ССЫЛКА Документ.ЗаказПокупателя) КАК ВзаиморасчетыСКонтрагентамиОстатки
	|	
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков) КАК КурсыВалют
	|		ПО ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов = КурсыВалют.Валюта
	|	
	|ГДЕ
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток &gt; 0
	|
	|УПОРЯДОЧИТЬ ПО
	|	Контрагент
	|ИТОГИ ПО
	|	Организация
	|АВТОУПОРЯДОЧИВАНИЕ");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ", 
								"Организация В (&amp;МассивОрганизаций) И ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;	

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПартнерами");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	РасчетыСПартнерами = Неопределено;
	Выполнить(Алгоритмы.ТаблицаРасчетовСПартнерами);
	НоваяСтрока.РасчетыСПартнерами = РасчетыСПартнерами;
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		НоваяСтрокаРасчетыСПартнерами = НоваяСтрока.РасчетыСПартнерами.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПартнерами, ВыборкаДетальныеЗаписи);
	КонецЦикла;
	
КонецЦикла;

Выполнить(Алгоритмы.ОчисткаВыборки);</ПередОбработкойПравила>
					</Правило>
					<Правило Отключить="false">
						<Код>ВводОстатковДолгиКлиентовПоРеализациям</Код>
						<Наименование>ВводОстатковДолгиКлиентовПоРеализациям</Наименование>
						<Порядок>150</Порядок>
						<КодПравилаКонвертации>ВводОстатковДолгиКлиентовПоРеализациям</КодПравилаКонвертации>
						<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
						<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
						<ПередОбработкойПравила>Запрос = Новый Запрос("ВЫБРАТЬ
                      |	&amp;ДатаОстатков КАК ДатаПлатежа,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Организация КАК Организация,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДокументРасчетовСКонтрагентом КАК ДокументРасчетовСКонтрагентом,
                      |	ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДокументРасчетовСКонтрагентом КАК Документ.РеализацияТоваровУслуг).Дата КАК ДатаРасчетногоДокумента,
                      |	ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДокументРасчетовСКонтрагентом КАК Документ.РеализацияТоваровУслуг).Номер КАК НомерРасчетногоДокумента,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Контрагент КАК Партнер,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Контрагент КАК Контрагент,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток КАК Сумма,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток * ВЫБОР
                      |		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
                      |				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
                      |			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
                      |		ИНАЧЕ 0
                      |	КОНЕЦ КАК СуммаРегл,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов КАК ВалютаВзаиморасчетов,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента КАК ОбъектРасчетов
                      |ИЗ
                      |	РегистрНакопления.ВзаиморасчетыСКонтрагентамиПоДокументамРасчетов.Остатки(
                      |			&amp;ДатаОстатков,
                      |			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СПокупателем)
                      |				И УпрУчет
                      |				И ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоСчетам)
                      |				И ДокументРасчетовСКонтрагентом ССЫЛКА Документ.РеализацияТоваровУслуг) КАК ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки
                      |		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, ) КАК КурсыВалют
                      |		ПО ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов = КурсыВалют.Валюта
                      |ГДЕ
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток &gt; 0
                      |
                      |УПОРЯДОЧИТЬ ПО
                      |	Контрагент
                      |ИТОГИ ПО
                      |	Организация
                      |АВТОУПОРЯДОЧИВАНИЕ");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ", 
								"Организация В (&amp;МассивОрганизаций) И ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;	

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПартнерами");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	РасчетыСПартнерами = Неопределено;
	Выполнить(Алгоритмы.ТаблицаРасчетовСПартнерами);
	РасчетыСПартнерами.Колонки.Добавить("ДокументРасчетовСКонтрагентом");
	
	НоваяСтрока.РасчетыСПартнерами = РасчетыСПартнерами;
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		НоваяСтрокаРасчетыСПартнерами = НоваяСтрока.РасчетыСПартнерами.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПартнерами, ВыборкаДетальныеЗаписи);
		НоваяСтрокаРасчетыСПартнерами.СуммаУпр = МодульВалютногоУчета.ПересчитатьИзВалютыВВалюту(ВыборкаДетальныеЗаписи.СуммаРегл,
			Параметры.ВалютаРеглУчета, Параметры.ВалютаУпрУчета, 1, Параметры.КурсВУУ.Курс, 1, Параметры.КурсВУУ.Кратность);
	КонецЦикла;
	
КонецЦикла;

Выполнить(Алгоритмы.ОчисткаВыборки);</ПередОбработкойПравила>
					</Правило>
					<Правило Отключить="false">
						<Код>ВводОстатковДолгиКомиссионеровПоДоговорам</Код>
						<Наименование>ВводОстатковДолгиКомиссионеровПоДоговорам</Наименование>
						<Порядок>200</Порядок>
						<КодПравилаКонвертации>ВводОстатковДолгиКомиссионеровПоДоговорам</КодПравилаКонвертации>
						<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
						<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
						<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	&amp;ДатаОстатков КАК ДатаПлатежа,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Организация КАК Организация,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Сделка,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент КАК Контрагент,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент КАК Партнер,
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток КАК Сумма,
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов КАК ВалютаВзаиморасчетов,
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента КАК РасчетныйДокумент,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Номер = """"
	|			ТОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Код
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Номер
	|	КОНЕЦ КАК НомерРасчетногоДокумента,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Дата = ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА &amp;ДатаОстатков
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Дата
	|	КОНЕЦ КАК ДатаРасчетногоДокумента
	|ПОМЕСТИТЬ ОстаткиВзаиморасчетов
	|ИЗ
	|	РегистрНакопления.ВзаиморасчетыСКонтрагентами.Остатки(
	|			&amp;ДатаОстатков,
	|			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СКомиссионером)
	|				И (НЕ ДоговорКонтрагента.ВестиПоДокументамРасчетовСКонтрагентом)) КАК ВзаиморасчетыСКонтрагентамиОстатки
	|ГДЕ
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток &gt; 0
	|
	|ОБЪЕДИНИТЬ
	|
	|ВЫБРАТЬ
	|	&amp;ДатаОстатков,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Организация,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Сделка,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Контрагент,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Контрагент,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Номер = """"
	|			ТОГДА ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Код
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Номер
	|	КОНЕЦ,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Дата = ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА &amp;ДатаОстатков
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Дата
	|	КОНЕЦ
	|ИЗ
	|	РегистрНакопления.ВзаиморасчетыСКонтрагентамиПоДокументамРасчетов.Остатки(
	|			&amp;ДатаОстатков,
	|			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СКомиссионером)
	|				И УпрУчет
	|				И ((НЕ ДокументРасчетовСКонтрагентом ССЫЛКА Документ.ОтчетКомиссионераОПродажах)
	|					ИЛИ ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоДоговоруВЦелом))) КАК ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки
	|ГДЕ
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток &gt; 0
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ОстаткиВзаиморасчетов.ДатаПлатежа,
	|	ОстаткиВзаиморасчетов.Организация                    КАК Организация,
	|	ОстаткиВзаиморасчетов.Контрагент                     КАК Контрагент,
	|	ОстаткиВзаиморасчетов.Партнер,
	|	СУММА(ОстаткиВзаиморасчетов.Сумма)                   КАК Сумма,
	|	
	|	СУММА(ОстаткиВзаиморасчетов.Сумма * ВЫБОР
	|		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
	|				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
	|			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
	|		ИНАЧЕ 0
	|	КОНЕЦ)                                               КАК СуммаРегл,
	|	
	|	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
	|	ОстаткиВзаиморасчетов.РасчетныйДокумент КАК ОбъектРасчетов,
	|	ОстаткиВзаиморасчетов.НомерРасчетногоДокумента,
	|	ОстаткиВзаиморасчетов.ДатаРасчетногоДокумента
	|ИЗ
	|	ОстаткиВзаиморасчетов КАК ОстаткиВзаиморасчетов
	|	
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков) КАК КурсыВалют
	|		ПО ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов = КурсыВалют.Валюта
	|	
	|
	|СГРУППИРОВАТЬ ПО
	|	ОстаткиВзаиморасчетов.ДатаПлатежа,
	|	ОстаткиВзаиморасчетов.Организация,
	|	ОстаткиВзаиморасчетов.Контрагент,
	|	ОстаткиВзаиморасчетов.Партнер,
	|	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
	|	ОстаткиВзаиморасчетов.РасчетныйДокумент,
	|	ОстаткиВзаиморасчетов.НомерРасчетногоДокумента,
	|	ОстаткиВзаиморасчетов.ДатаРасчетногоДокумента
	|
	|УПОРЯДОЧИТЬ ПО
	|	Контрагент
	|ИТОГИ ПО
	|	Организация
	|АВТОУПОРЯДОЧИВАНИЕ");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ", 
								"Организация В (&amp;МассивОрганизаций) И ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;	

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПартнерами");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	РасчетыСПартнерами = Неопределено;
	Выполнить(Алгоритмы.ТаблицаРасчетовСПартнерами);
	НоваяСтрока.РасчетыСПартнерами = РасчетыСПартнерами;
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		НоваяСтрокаРасчетыСПартнерами = НоваяСтрока.РасчетыСПартнерами.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПартнерами, ВыборкаДетальныеЗаписи);
		НоваяСтрокаРасчетыСПартнерами.СуммаУпр = МодульВалютногоУчета.ПересчитатьИзВалютыВВалюту(ВыборкаДетальныеЗаписи.СуммаРегл,
			Параметры.ВалютаРеглУчета, Параметры.ВалютаУпрУчета, 1, Параметры.КурсВУУ.Курс, 1, Параметры.КурсВУУ.Кратность);
	КонецЦикла;
	
КонецЦикла;
	
Выполнить(Алгоритмы.ОчисткаВыборки);</ПередОбработкойПравила>
					</Правило>
					<Правило Отключить="false">
						<Код>ВводОстатковДолгиКомиссионеровЗаПроданныеТовары</Код>
						<Наименование>ВводОстатковДолгиКомиссионеровЗаПроданныеТовары</Наименование>
						<Порядок>250</Порядок>
						<КодПравилаКонвертации>ВводОстатковДолгиКомиссионеровЗаПроданныеТовары</КодПравилаКонвертации>
						<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
						<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
						<ПередОбработкойПравила>Запрос = Новый Запрос("ВЫБРАТЬ
                      |	&amp;ДатаОстатков КАК ДатаПлатежа,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Организация КАК Организация,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДокументРасчетовСКонтрагентом КАК ДокументРасчетовСКонтрагентом,
                      |	ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДокументРасчетовСКонтрагентом КАК Документ.ОтчетКомиссионераОПродажах).Дата КАК ДатаРасчетногоДокумента,
                      |	ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДокументРасчетовСКонтрагентом КАК Документ.ОтчетКомиссионераОПродажах).Номер КАК НомерРасчетногоДокумента,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Контрагент КАК Партнер,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Контрагент КАК Контрагент,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток КАК Сумма,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток * ВЫБОР
                      |		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
                      |				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
                      |			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
                      |		ИНАЧЕ 0
                      |	КОНЕЦ КАК СуммаРегл,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов КАК ВалютаВзаиморасчетов,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента КАК ОбъектРасчетов
                      |ИЗ
                      |	РегистрНакопления.ВзаиморасчетыСКонтрагентамиПоДокументамРасчетов.Остатки(
                      |			&amp;ДатаОстатков,
                      |			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СКомиссионером)
                      |				И УпрУчет
                      |				И ДокументРасчетовСКонтрагентом ССЫЛКА Документ.ОтчетКомиссионераОПродажах
                      |				И ДоговорКонтрагента.ВедениеВзаиморасчетов &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоДоговоруВЦелом)) КАК ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки
                      |		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, ) КАК КурсыВалют
                      |		ПО ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов = КурсыВалют.Валюта
                      |ГДЕ
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток &gt; 0
                      |
                      |УПОРЯДОЧИТЬ ПО
                      |	Контрагент
                      |ИТОГИ ПО
                      |	Организация
                      |АВТОУПОРЯДОЧИВАНИЕ");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ", 
								"Организация В (&amp;МассивОрганизаций) И ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;	

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПартнерами");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	РасчетыСПартнерами = Неопределено;
	Выполнить(Алгоритмы.ТаблицаРасчетовСПартнерами);
	РасчетыСПартнерами.Колонки.Добавить("ДокументРасчетовСКонтрагентом");
	
	НоваяСтрока.РасчетыСПартнерами = РасчетыСПартнерами;
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		НоваяСтрокаРасчетыСПартнерами = НоваяСтрока.РасчетыСПартнерами.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПартнерами, ВыборкаДетальныеЗаписи);
		НоваяСтрокаРасчетыСПартнерами.СуммаУпр = МодульВалютногоУчета.ПересчитатьИзВалютыВВалюту(ВыборкаДетальныеЗаписи.СуммаРегл,
			Параметры.ВалютаРеглУчета, Параметры.ВалютаУпрУчета, 1, Параметры.КурсВУУ.Курс, 1, Параметры.КурсВУУ.Кратность);
	КонецЦикла;
	
КонецЦикла;

Выполнить(Алгоритмы.ОчисткаВыборки);</ПередОбработкойПравила>
					</Правило>
					<Правило Отключить="false">
						<Код>ВводОстатковАвансыПоДоговорамПолученныеОтКлиентов</Код>
						<Наименование>ВводОстатковАвансыПоДоговорамПолученныеОтКлиентов</Наименование>
						<Порядок>300</Порядок>
						<КодПравилаКонвертации>ВводОстатковАвансыПоДоговорамПолученныеОтКлиентов</КодПравилаКонвертации>
						<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
						<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
						<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ВзаиморасчетыСКонтрагентамиОстатки.Сделка                              КАК Сделка,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Организация                         КАК Организация,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент                          КАК Контрагент,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент                          КАК Партнер,
	|	-ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток         КАК Сумма,
	|	
	|	-ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток * ВЫБОР
	|		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
	|				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
	|			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
	|		ИНАЧЕ 0
	|	КОНЕЦ                                                                  КАК СуммаРегл,
	|	-ВзаиморасчетыСКонтрагентамиОстатки.СуммаУпрОстаток					   КАК СуммаУпр,
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов КАК ВалютаВзаиморасчетов,
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента КАК РасчетныйДокумент,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Номер = """"
	|			ТОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Код
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Номер
	|	КОНЕЦ КАК НомерРасчетногоДокумента,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Дата = ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА &amp;ДатаОстатков
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Дата
	|	КОНЕЦ КАК ДатаРасчетногоДокумента
	|	
	|ПОМЕСТИТЬ ОстаткиВзаиморасчетов
	|ИЗ
	|	РегистрНакопления.ВзаиморасчетыСКонтрагентами.Остатки(
	|			&amp;ДатаОстатков,
	|			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СПокупателем)
	|				И (ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоДоговоруВЦелом)
	|					ИЛИ ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоСчетам)
	|					ИЛИ ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоЗаказам)
	|						И (НЕ Сделка ССЫЛКА Документ.ЗаказПокупателя))) КАК ВзаиморасчетыСКонтрагентамиОстатки
	|	
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, ) КАК КурсыВалют
	|		ПО ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов = КурсыВалют.Валюта
	|	
	|ГДЕ
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток &lt; 0
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ОстаткиВзаиморасчетов.Организация КАК Организация,
	|	ОстаткиВзаиморасчетов.Контрагент КАК Контрагент,
	|	ОстаткиВзаиморасчетов.Партнер,
	|	СУММА(ОстаткиВзаиморасчетов.Сумма) КАК Сумма,
	|	СУММА(ОстаткиВзаиморасчетов.СуммаРегл) КАК СуммаРегл,
	|	СУММА(ОстаткиВзаиморасчетов.СуммаУпр) КАК СуммаУпр,
	|	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
	|	ОстаткиВзаиморасчетов.РасчетныйДокумент КАК ОбъектРасчетов,
	|	ОстаткиВзаиморасчетов.НомерРасчетногоДокумента,
	|	ОстаткиВзаиморасчетов.ДатаРасчетногоДокумента
	|ИЗ
	|	ОстаткиВзаиморасчетов КАК ОстаткиВзаиморасчетов
	|
	|СГРУППИРОВАТЬ ПО
	|	ОстаткиВзаиморасчетов.Организация,
	|	ОстаткиВзаиморасчетов.Контрагент,
	|	ОстаткиВзаиморасчетов.Партнер,
	|	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
	|	ОстаткиВзаиморасчетов.РасчетныйДокумент,
	|	ОстаткиВзаиморасчетов.НомерРасчетногоДокумента,
	|	ОстаткиВзаиморасчетов.ДатаРасчетногоДокумента
	|
	|УПОРЯДОЧИТЬ ПО
	|	Контрагент
	|ИТОГИ ПО
	|	Организация
	|АВТОУПОРЯДОЧИВАНИЕ");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ", 
								"Организация В (&amp;МассивОрганизаций) И ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;	

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПартнерами");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	РасчетыСПартнерами = Неопределено;
	Выполнить(Алгоритмы.ТаблицаРасчетовСПартнерами);
	НоваяСтрока.РасчетыСПартнерами = РасчетыСПартнерами;
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		НоваяСтрокаРасчетыСПартнерами = НоваяСтрока.РасчетыСПартнерами.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПартнерами, ВыборкаДетальныеЗаписи);
	КонецЦикла;
КонецЦикла;

Выполнить(Алгоритмы.ОчисткаВыборки);</ПередОбработкойПравила>
					</Правило>
					<Правило Отключить="false">
						<Код>ВводОстатковАвансыПоЗаказамПолученныеОтКлиентов</Код>
						<Наименование>ВводОстатковАвансыПоЗаказамПолученныеОтКлиентов</Наименование>
						<Порядок>350</Порядок>
						<КодПравилаКонвертации>ВводОстатковАвансыПоЗаказамПолученныеОтКлиентов</КодПравилаКонвертации>
						<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
						<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
						<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ВзаиморасчетыСКонтрагентамиОстатки.Организация КАК Организация,
	|	ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Документ.ЗаказПокупателя) КАК ОбъектРасчетов,
	|	ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Документ.ЗаказПокупателя).Дата КАК ДатаРасчетногоДокумента,
	|	ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Документ.ЗаказПокупателя).Номер КАК НомерРасчетногоДокумента,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент                              КАК Контрагент,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент                              КАК Партнер,
	|	-ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток             КАК Сумма,
	|	
	|	-ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток * ВЫБОР
	|		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
	|				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
	|			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
	|		ИНАЧЕ 0
	|	КОНЕЦ                                                                      КАК СуммаРегл,
	|	-ВзаиморасчетыСКонтрагентамиОстатки.СуммаУпрОстаток						   КАК СуммаУпр,
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов КАК ВалютаВзаиморасчетов
	|	
	|ИЗ
	|	РегистрНакопления.ВзаиморасчетыСКонтрагентами.Остатки(
	|			&amp;ДатаОстатков,
	|			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СПокупателем)
	|				И ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоЗаказам)
	|				И Сделка ССЫЛКА Документ.ЗаказПокупателя) КАК ВзаиморасчетыСКонтрагентамиОстатки
	|	
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков) КАК КурсыВалют
	|		ПО ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов = КурсыВалют.Валюта
	|	
	|ГДЕ
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток &lt; 0
	|
	|УПОРЯДОЧИТЬ ПО
	|	Контрагент
	|ИТОГИ ПО
	|	Организация
	|АВТОУПОРЯДОЧИВАНИЕ");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ", 
								"Организация В (&amp;МассивОрганизаций) И ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;	

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПартнерами");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	РасчетыСПартнерами = Неопределено;
	Выполнить(Алгоритмы.ТаблицаРасчетовСПартнерами);
	НоваяСтрока.РасчетыСПартнерами = РасчетыСПартнерами;
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
	
		НоваяСтрокаРасчетыСПартнерами = НоваяСтрока.РасчетыСПартнерами.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПартнерами, ВыборкаДетальныеЗаписи);
	
	КонецЦикла;
КонецЦикла;

Выполнить(Алгоритмы.ОчисткаВыборки);</ПередОбработкойПравила>
					</Правило>
					<Правило Отключить="false">
						<Код>ВводОстатковПрочиеАвансыПолученныеОтКлиентов</Код>
						<Наименование>ВводОстатковПрочиеАвансыПолученныеОтКлиентов</Наименование>
						<Порядок>400</Порядок>
						<КодПравилаКонвертации>ВводОстатковПрочиеАвансыПолученныеОтКлиентов</КодПравилаКонвертации>
						<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
						<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
						<ПередОбработкойПравила>Запрос = Новый Запрос("ВЫБРАТЬ
                      |	&amp;ДатаОстатков КАК ДатаПлатежа,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.Организация КАК Организация,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Сделка,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент КАК Партнер,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент КАК Контрагент,
                      |	-ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток КАК Сумма,
                      |	-ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток * ВЫБОР
                      |		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
                      |				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
                      |			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
                      |		ИНАЧЕ 0
                      |	КОНЕЦ КАК СуммаРегл,
                      |	-ВзаиморасчетыСКонтрагентамиОстатки.СуммаУпрОстаток КАК СуммаУпр,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов КАК ВалютаВзаиморасчетов,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента
                      |ПОМЕСТИТЬ ОстаткиВзаиморасчетов
                      |ИЗ
                      |	РегистрНакопления.ВзаиморасчетыСКонтрагентами.Остатки(&amp;ДатаОстатков, ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СКомиссионером)) КАК ВзаиморасчетыСКонтрагентамиОстатки
                      |		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, ) КАК КурсыВалют
                      |		ПО ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов = КурсыВалют.Валюта
                      |ГДЕ
                      |	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток &lt; 0
                      |;
                      |
                      |////////////////////////////////////////////////////////////////////////////////
                      |ВЫБРАТЬ
                      |	ОстаткиВзаиморасчетов.ДатаПлатежа,
                      |	ОстаткиВзаиморасчетов.Организация КАК Организация,
                      |	ОстаткиВзаиморасчетов.Партнер,
                      |	ОстаткиВзаиморасчетов.Контрагент КАК Контрагент,
                      |	СУММА(ОстаткиВзаиморасчетов.Сумма) КАК Сумма,
                      |	СУММА(ОстаткиВзаиморасчетов.СуммаРегл) КАК СуммаРегл,
                      |	СУММА(ОстаткиВзаиморасчетов.СуммаУпр) КАК СуммаУпр,
                      |	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
                      |	ОстаткиВзаиморасчетов.ДоговорКонтрагента КАК ОбъектРасчетов
                      |ИЗ
                      |	ОстаткиВзаиморасчетов КАК ОстаткиВзаиморасчетов
                      |
                      |СГРУППИРОВАТЬ ПО
                      |	ОстаткиВзаиморасчетов.ДатаПлатежа,
                      |	ОстаткиВзаиморасчетов.Организация,
                      |	ОстаткиВзаиморасчетов.Партнер,
                      |	ОстаткиВзаиморасчетов.Контрагент,
                      |	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
                      |	ОстаткиВзаиморасчетов.ДоговорКонтрагента
                      |
                      |УПОРЯДОЧИТЬ ПО
                      |	Контрагент
                      |ИТОГИ ПО
                      |	Организация
                      |АВТОУПОРЯДОЧИВАНИЕ");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ", 
								"Организация В (&amp;МассивОрганизаций) И ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;	

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПартнерами");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	РасчетыСПартнерами = Неопределено;
	Выполнить(Алгоритмы.ТаблицаРасчетовСПартнерами);
	НоваяСтрока.РасчетыСПартнерами = РасчетыСПартнерами;
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
			
		НоваяСтрокаРасчетыСПартнерами = НоваяСтрока.РасчетыСПартнерами.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПартнерами, ВыборкаДетальныеЗаписи);
		
	КонецЦикла;
КонецЦикла;

Выполнить(Алгоритмы.ОчисткаВыборки);</ПередОбработкойПравила>
					</Правило>
					<Правило Отключить="false">
						<Код>ВводОстатковПрочаяДебиторскаяЗадолженность</Код>
						<Наименование>ВводОстатковПрочаяДебиторскаяЗадолженность</Наименование>
						<Порядок>450</Порядок>
						<КодПравилаКонвертации>ВводОстатковПрочаяДебиторскаяЗадолженность</КодПравилаКонвертации>
						<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
						<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
						<ПередОбработкойПравила>Запрос = Новый Запрос("ВЫБРАТЬ
                      |	&amp;ДатаОстатков КАК ДатаПлатежа,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.Организация КАК Организация,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Сделка,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент КАК Контрагент,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент КАК Партнер,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток КАК Сумма,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток * ВЫБОР
                      |		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
                      |				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
                      |			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
                      |		ИНАЧЕ 0
                      |	КОНЕЦ КАК СуммаРегл,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.СуммаУпрОстаток КАК СуммаУпр,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов КАК ВалютаВзаиморасчетов,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента
                      |ПОМЕСТИТЬ ОстаткиВзаиморасчетов
                      |ИЗ
                      |	РегистрНакопления.ВзаиморасчетыСКонтрагентами.Остатки(&amp;ДатаОстатков, ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.Прочее)) КАК ВзаиморасчетыСКонтрагентамиОстатки
                      |		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, ) КАК КурсыВалют
                      |		ПО ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов = КурсыВалют.Валюта
                      |ГДЕ
                      |	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток &gt; 0
                      |;
                      |
                      |////////////////////////////////////////////////////////////////////////////////
                      |ВЫБРАТЬ
                      |	ОстаткиВзаиморасчетов.ДатаПлатежа,
                      |	ОстаткиВзаиморасчетов.Организация КАК Организация,
                      |	ОстаткиВзаиморасчетов.Контрагент КАК Контрагент,
                      |	ОстаткиВзаиморасчетов.Партнер,
                      |	СУММА(ОстаткиВзаиморасчетов.Сумма) КАК Сумма,
                      |	СУММА(ОстаткиВзаиморасчетов.СуммаРегл) КАК СуммаРегл,
                      |	СУММА(ОстаткиВзаиморасчетов.СуммаУпр) КАК СуммаУпр,
                      |	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
                      |	ОстаткиВзаиморасчетов.ДоговорКонтрагента КАК ОбъектРасчетов
                      |ИЗ
                      |	ОстаткиВзаиморасчетов КАК ОстаткиВзаиморасчетов
                      |
                      |СГРУППИРОВАТЬ ПО
                      |	ОстаткиВзаиморасчетов.ДатаПлатежа,
                      |	ОстаткиВзаиморасчетов.Организация,
                      |	ОстаткиВзаиморасчетов.Контрагент,
                      |	ОстаткиВзаиморасчетов.Партнер,
                      |	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
                      |	ОстаткиВзаиморасчетов.ДоговорКонтрагента
                      |
                      |УПОРЯДОЧИТЬ ПО
                      |	Контрагент
                      |ИТОГИ ПО
                      |	Организация
                      |АВТОУПОРЯДОЧИВАНИЕ");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ", 
								"Организация В (&amp;МассивОрганизаций) И ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;	

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПартнерами");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	РасчетыСПартнерами = Неопределено;
	Выполнить(Алгоритмы.ТаблицаРасчетовСПартнерами);
	НоваяСтрока.РасчетыСПартнерами = РасчетыСПартнерами;
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		
		НоваяСтрокаРасчетыСПартнерами = НоваяСтрока.РасчетыСПартнерами.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПартнерами, ВыборкаДетальныеЗаписи);

	КонецЦикла;
	
КонецЦикла;

Выполнить(Алгоритмы.ОчисткаВыборки);</ПередОбработкойПравила>
					</Правило>
				</Группа>
				<Группа Отключить="false">
					<Код>РасчетыСПоставщиками</Код>
					<Наименование>РасчетыСПоставщиками</Наименование>
					<Порядок>400</Порядок>
					<Правило Отключить="false">
						<Код>ВводОстатковДолгиПоставщикамПоДоговорам</Код>
						<Наименование>ВводОстатковДолгиПоставщикамПоДоговорам</Наименование>
						<Порядок>50</Порядок>
						<КодПравилаКонвертации>ВводОстатковДолгиПоставщикамПоДоговорам</КодПравилаКонвертации>
						<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
						<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
						<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	&amp;ДатаОстатков КАК ДатаПлатежа,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Организация КАК Организация,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Сделка,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент КАК Контрагент,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент КАК Партнер,
	|	-ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток КАК Сумма,
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов КАК ВалютаВзаиморасчетов,
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента КАК РасчетныйДокумент,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Номер = """"
	|			ТОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Код
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Номер
	|	КОНЕЦ КАК НомерРасчетногоДокумента,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Дата = ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА &amp;ДатаОстатков
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Дата
	|	КОНЕЦ КАК ДатаРасчетногоДокумента,
	|	NULL КАК ДокументРасчетовСКонтрагентом
	|ПОМЕСТИТЬ ОстаткиВзаиморасчетов
	|ИЗ
	|	РегистрНакопления.ВзаиморасчетыСКонтрагентами.Остатки(
	|			&amp;ДатаОстатков,
	|			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СПоставщиком)
	|				И (ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоДоговоруВцелом)
	|					ИЛИ ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоЗаказам)
	|						И (НЕ Сделка ССЫЛКА Документ.ЗаказПоставщику)
	|					ИЛИ ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоСчетам)
	|						И (НЕ ДоговорКонтрагента.ВестиПоДокументамРасчетовСКонтрагентом))) КАК ВзаиморасчетыСКонтрагентамиОстатки
	|ГДЕ
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток &lt; 0
	|
	|ОБЪЕДИНИТЬ
	|
	|ВЫБРАТЬ
	|	&amp;ДатаОстатков,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Организация,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Сделка,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Контрагент,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Контрагент,
	|	-ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Номер = """"
	|			ТОГДА ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Код
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Номер
	|	КОНЕЦ,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Дата = ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА &amp;ДатаОстатков
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Дата
	|	КОНЕЦ,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДокументРасчетовСКонтрагентом
	|ИЗ
	|	РегистрНакопления.ВзаиморасчетыСКонтрагентамиПоДокументамРасчетов.Остатки(
	|			&amp;ДатаОстатков,
	|			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СПоставщиком)
	|				И УпрУчет
	|				И ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоСчетам)
	|				И (НЕ(ДокументРасчетовСКонтрагентом ССЫЛКА Документ.ПоступлениеТоваровУслуг
	|						ИЛИ ДокументРасчетовСКонтрагентом ССЫЛКА Документ.ПоступлениеТоваровУслугВНТТ))) КАК ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки
	|ГДЕ
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток &lt; 0
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ОстаткиВзаиморасчетов.ДатаПлатежа,
	|	ОстаткиВзаиморасчетов.Организация                    КАК Организация,
	|	ОстаткиВзаиморасчетов.Контрагент                     КАК Контрагент,
	|	ОстаткиВзаиморасчетов.Партнер,
	|	СУММА(ОстаткиВзаиморасчетов.Сумма)                   КАК Сумма,
	|	
	|	СУММА(ОстаткиВзаиморасчетов.Сумма * ВЫБОР
	|		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
	|				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
	|			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
	|		ИНАЧЕ 0
	|	КОНЕЦ)                                               КАК СуммаРегл,
	|	
	|	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
	|	ОстаткиВзаиморасчетов.РасчетныйДокумент КАК ОбъектРасчетов,
	|	ОстаткиВзаиморасчетов.НомерРасчетногоДокумента,
	|	ОстаткиВзаиморасчетов.ДатаРасчетногоДокумента
	|ИЗ
	|	ОстаткиВзаиморасчетов КАК ОстаткиВзаиморасчетов
	|	
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков) КАК КурсыВалют
	|		ПО ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов = КурсыВалют.Валюта
	|
	|СГРУППИРОВАТЬ ПО
	|	ОстаткиВзаиморасчетов.ДатаПлатежа,
	|	ОстаткиВзаиморасчетов.Организация,
	|	ОстаткиВзаиморасчетов.Контрагент,
	|	ОстаткиВзаиморасчетов.Партнер,
	|	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
	|	ОстаткиВзаиморасчетов.РасчетныйДокумент,
	|	ОстаткиВзаиморасчетов.НомерРасчетногоДокумента,
	|	ОстаткиВзаиморасчетов.ДатаРасчетногоДокумента
	|
	|УПОРЯДОЧИТЬ ПО
	|	Контрагент
	|ИТОГИ ПО
	|	Организация
	|АВТОУПОРЯДОЧИВАНИЕ");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ", 
								"Организация В (&amp;МассивОрганизаций) И ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;	

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПартнерами");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	РасчетыСПартнерами = Неопределено;
	Выполнить(Алгоритмы.ТаблицаРасчетовСПартнерами);
	НоваяСтрока.РасчетыСПартнерами = РасчетыСПартнерами;
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		
		НоваяСтрокаРасчетыСПартнерами = НоваяСтрока.РасчетыСПартнерами.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПартнерами, ВыборкаДетальныеЗаписи);
		НоваяСтрокаРасчетыСПартнерами.СуммаУпр = МодульВалютногоУчета.ПересчитатьИзВалютыВВалюту(ВыборкаДетальныеЗаписи.СуммаРегл,
			Параметры.ВалютаРеглУчета, Параметры.ВалютаУпрУчета, 1, Параметры.КурсВУУ.Курс, 1, Параметры.КурсВУУ.Кратность);
	
	КонецЦикла;
КонецЦикла;

Выполнить(Алгоритмы.ОчисткаВыборки);</ПередОбработкойПравила>
					</Правило>
					<Правило Отключить="false">
						<Код>ВводОстатковДолгиПоставщикамПоЗаказам</Код>
						<Наименование>ВводОстатковДолгиПоставщикамПоЗаказам</Наименование>
						<Порядок>100</Порядок>
						<КодПравилаКонвертации>ВводОстатковДолгиПоставщикамПоЗаказам</КодПравилаКонвертации>
						<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
						<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
						<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ВзаиморасчетыСКонтрагентамиОстатки.Организация КАК Организация,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Сделка,
	|	ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Документ.ЗаказПоставщику).ДатаОплаты КАК ДатаПлатежа,
	|	ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Документ.ЗаказПоставщику).Дата КАК ДатаРасчетногоДокумента,
	|	ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Документ.ЗаказПоставщику) КАК ОбъектРасчетов,
	|	ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Документ.ЗаказПоставщику).Номер КАК НомерРасчетногоДокумента,

	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент                              КАК Партнер,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент                              КАК Контрагент,
	|	-ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток             КАК Сумма,
	|	
	|	-ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток * ВЫБОР
	|		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
	|				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
	|			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
	|		ИНАЧЕ 0
	|	КОНЕЦ                                                                      КАК СуммаРегл,
	|	-ВзаиморасчетыСКонтрагентамиОстатки.СуммаУпрОстаток						   КАК СуммаУпр,
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов КАК ВалютаВзаиморасчетов
	|ИЗ
	|	РегистрНакопления.ВзаиморасчетыСКонтрагентами.Остатки(
	|			&amp;ДатаОстатков,
	|			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СПоставщиком)
	|				И ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоЗаказам)
	|				И Сделка ССЫЛКА Документ.ЗаказПоставщику) КАК ВзаиморасчетыСКонтрагентамиОстатки
	|	
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков) КАК КурсыВалют
	|		ПО ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов = КурсыВалют.Валюта
	|	
	|ГДЕ
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток &lt; 0
	|
	|УПОРЯДОЧИТЬ ПО
	|	Контрагент
	|ИТОГИ ПО
	|	Организация
	|АВТОУПОРЯДОЧИВАНИЕ");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ", 
								"Организация В (&amp;МассивОрганизаций) И ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;	

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПартнерами");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	РасчетыСПартнерами = Неопределено;
	Выполнить(Алгоритмы.ТаблицаРасчетовСПартнерами);
	НоваяСтрока.РасчетыСПартнерами = РасчетыСПартнерами;
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
			
		НоваяСтрокаРасчетыСПартнерами = НоваяСтрока.РасчетыСПартнерами.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПартнерами, ВыборкаДетальныеЗаписи);
	
	КонецЦикла;
	
КонецЦикла;

Выполнить(Алгоритмы.ОчисткаВыборки);</ПередОбработкойПравила>
					</Правило>
					<Правило Отключить="false">
						<Код>ВводОстатковДолгиПоставщикамПоПоступлениям</Код>
						<Наименование>ВводОстатковДолгиПоставщикамПоПоступлениям</Наименование>
						<Порядок>150</Порядок>
						<КодПравилаКонвертации>ВводОстатковДолгиПоставщикамПоПоступлениям</КодПравилаКонвертации>
						<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
						<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
						<ПередОбработкойПравила>Запрос = Новый Запрос("ВЫБРАТЬ
                      |	&amp;ДатаОстатков КАК ДатаПлатежа,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Организация КАК Организация,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДокументРасчетовСКонтрагентом КАК ДокументРасчетовСКонтрагентом,
                      |	ВЫБОР
                      |		КОГДА ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДокументРасчетовСКонтрагентом ССЫЛКА Документ.ПоступлениеТоваровУслуг
                      |			ТОГДА ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДокументРасчетовСКонтрагентом КАК Документ.ПоступлениеТоваровУслуг).Дата
                      |		КОГДА ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДокументРасчетовСКонтрагентом ССЫЛКА Документ.ПоступлениеТоваровУслугВНТТ
                      |			ТОГДА ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДокументРасчетовСКонтрагентом КАК Документ.ПоступлениеТоваровУслугВНТТ).Дата
                      |	КОНЕЦ КАК ДатаРасчетногоДокумента,
                      |	ВЫБОР
                      |		КОГДА ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДокументРасчетовСКонтрагентом ССЫЛКА Документ.ПоступлениеТоваровУслуг
                      |			ТОГДА ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДокументРасчетовСКонтрагентом КАК Документ.ПоступлениеТоваровУслуг).Номер
                      |		КОГДА ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДокументРасчетовСКонтрагентом ССЫЛКА Документ.ПоступлениеТоваровУслугВНТТ
                      |			ТОГДА ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДокументРасчетовСКонтрагентом КАК Документ.ПоступлениеТоваровУслугВНТТ).Номер
                      |	КОНЕЦ КАК НомерРасчетногоДокумента,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Контрагент КАК Партнер,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Контрагент КАК Контрагент,
                      |	-ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток КАК Сумма,
                      |	-ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток * ВЫБОР
                      |		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
                      |				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
                      |			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
                      |		ИНАЧЕ 0
                      |	КОНЕЦ КАК СуммаРегл,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов КАК ВалютаВзаиморасчетов,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента КАК ОбъектРасчетов
                      |ИЗ
                      |	РегистрНакопления.ВзаиморасчетыСКонтрагентамиПоДокументамРасчетов.Остатки(
                      |			&amp;ДатаОстатков,
                      |			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СПоставщиком)
                      |				И УпрУчет
                      |				И ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоСчетам)
                      |				И (ДокументРасчетовСКонтрагентом ССЫЛКА Документ.ПоступлениеТоваровУслуг
                      |					ИЛИ ДокументРасчетовСКонтрагентом ССЫЛКА Документ.ПоступлениеТоваровУслугВНТТ)) КАК ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки
                      |		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, ) КАК КурсыВалют
                      |		ПО ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов = КурсыВалют.Валюта
                      |ГДЕ
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток &lt; 0
                      |
                      |УПОРЯДОЧИТЬ ПО
                      |	Контрагент
                      |ИТОГИ ПО
                      |	Организация
                      |АВТОУПОРЯДОЧИВАНИЕ");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ", 
								"Организация В (&amp;МассивОрганизаций) И ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;	

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПартнерами");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	РасчетыСПартнерами = Неопределено;
	Выполнить(Алгоритмы.ТаблицаРасчетовСПартнерами);
	РасчетыСПартнерами.Колонки.Добавить("ДокументРасчетовСКонтрагентом");
	НоваяСтрока.РасчетыСПартнерами = РасчетыСПартнерами;
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		
		НоваяСтрокаРасчетыСПартнерами = НоваяСтрока.РасчетыСПартнерами.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПартнерами, ВыборкаДетальныеЗаписи);
		НоваяСтрокаРасчетыСПартнерами.СуммаУпр = МодульВалютногоУчета.ПересчитатьИзВалютыВВалюту(ВыборкаДетальныеЗаписи.СуммаРегл,
			Параметры.ВалютаРеглУчета, Параметры.ВалютаУпрУчета, 1, Параметры.КурсВУУ.Курс, 1, Параметры.КурсВУУ.Кратность);
			
	КонецЦикла;
	
КонецЦикла;

Выполнить(Алгоритмы.ОчисткаВыборки);</ПередОбработкойПравила>
					</Правило>
					<Правило Отключить="false">
						<Код>ВводОстатковДолгиКомитентамПоДоговорам</Код>
						<Наименование>ВводОстатковДолгиКомитентамПоДоговорам</Наименование>
						<Порядок>200</Порядок>
						<КодПравилаКонвертации>ВводОстатковДолгиКомитентамПоДоговорам</КодПравилаКонвертации>
						<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
						<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
						<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	&amp;ДатаОстатков КАК ДатаПлатежа,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Организация КАК Организация,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Сделка,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент КАК Контрагент,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент КАК Партнер,
	|	-ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток КАК Сумма,
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов КАК ВалютаВзаиморасчетов,
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента КАК РасчетныйДокумент,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Номер = """"
	|			ТОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Код
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Номер
	|	КОНЕЦ КАК НомерРасчетногоДокумента,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Дата = ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА &amp;ДатаОстатков
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Дата
	|	КОНЕЦ КАК ДатаРасчетногоДокумента
	|ПОМЕСТИТЬ ОстаткиВзаиморасчетов
	|ИЗ
	|	РегистрНакопления.ВзаиморасчетыСКонтрагентами.Остатки(
	|			&amp;ДатаОстатков,
	|			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СКомитентом)
	|				И (НЕ ДоговорКонтрагента.ВестиПоДокументамРасчетовСКонтрагентом)) КАК ВзаиморасчетыСКонтрагентамиОстатки
	|ГДЕ
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток &lt; 0
	|
	|ОБЪЕДИНИТЬ
	|
	|ВЫБРАТЬ
	|	&amp;ДатаОстатков,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Организация,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Сделка,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Контрагент,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Контрагент,
	|	-ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов,
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Номер = """"
	|			ТОГДА ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Код
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Номер
	|	КОНЕЦ,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Дата = ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА &amp;ДатаОстатков
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.Дата
	|	КОНЕЦ
	|ИЗ
	|	РегистрНакопления.ВзаиморасчетыСКонтрагентамиПоДокументамРасчетов.Остатки(
	|			&amp;ДатаОстатков,
	|			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СКомитентом)
	|				И УпрУчет
	|				И ((НЕ ДокументРасчетовСКонтрагентом ССЫЛКА Документ.ОтчетКомитентуОПродажах)
	|					ИЛИ ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоДоговоруВЦелом))) КАК ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки
	|ГДЕ
	|	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток &lt; 0
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ОстаткиВзаиморасчетов.ДатаПлатежа,
	|	ОстаткиВзаиморасчетов.Организация                    КАК Организация,
	|	ОстаткиВзаиморасчетов.Сделка,
	|	ОстаткиВзаиморасчетов.Контрагент                     КАК Контрагент,
	|	ОстаткиВзаиморасчетов.Партнер,
	|	СУММА(ОстаткиВзаиморасчетов.Сумма)                   КАК Сумма,
	|	
	|	СУММА(ОстаткиВзаиморасчетов.Сумма * ВЫБОР
	|		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
	|				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
	|			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
	|		ИНАЧЕ 0
	|	КОНЕЦ)                                               КАК СуммаРегл,
	|	
	|	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
	|	ОстаткиВзаиморасчетов.РасчетныйДокумент КАК ОбъектРасчетов,
	|	ОстаткиВзаиморасчетов.НомерРасчетногоДокумента,
	|	ОстаткиВзаиморасчетов.ДатаРасчетногоДокумента
	|ИЗ
	|	ОстаткиВзаиморасчетов КАК ОстаткиВзаиморасчетов
	|	
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков) КАК КурсыВалют
	|		ПО ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов = КурсыВалют.Валюта
	|	
	|
	|СГРУППИРОВАТЬ ПО
	|	ОстаткиВзаиморасчетов.ДатаПлатежа,
	|	ОстаткиВзаиморасчетов.Организация,
	|	ОстаткиВзаиморасчетов.Сделка,
	|	ОстаткиВзаиморасчетов.Контрагент,
	|	ОстаткиВзаиморасчетов.Партнер,
	|	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
	|	ОстаткиВзаиморасчетов.РасчетныйДокумент,
	|	ОстаткиВзаиморасчетов.НомерРасчетногоДокумента,
	|	ОстаткиВзаиморасчетов.ДатаРасчетногоДокумента
	|
	|УПОРЯДОЧИТЬ ПО
	|	Контрагент
	|ИТОГИ ПО
	|	Организация
	|АВТОУПОРЯДОЧИВАНИЕ");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ", 
								"Организация В (&amp;МассивОрганизаций) И ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;	

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПартнерами");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	РасчетыСПартнерами = Неопределено;
	Выполнить(Алгоритмы.ТаблицаРасчетовСПартнерами);
	НоваяСтрока.РасчетыСПартнерами = РасчетыСПартнерами;
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
			
		НоваяСтрокаРасчетыСПартнерами = НоваяСтрока.РасчетыСПартнерами.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПартнерами, ВыборкаДетальныеЗаписи);
		НоваяСтрокаРасчетыСПартнерами.СуммаУпр = МодульВалютногоУчета.ПересчитатьИзВалютыВВалюту(ВыборкаДетальныеЗаписи.СуммаРегл,
			Параметры.ВалютаРеглУчета, Параметры.ВалютаУпрУчета, 1, Параметры.КурсВУУ.Курс, 1, Параметры.КурсВУУ.Кратность);
	
	КонецЦикла;
КонецЦикла;

Выполнить(Алгоритмы.ОчисткаВыборки);</ПередОбработкойПравила>
					</Правило>
					<Правило Отключить="false">
						<Код>ВводОстатковДолгиКомитентамЗаПроданныеТовары</Код>
						<Наименование>ВводОстатковДолгиКомитентамЗаПроданныеТовары</Наименование>
						<Порядок>250</Порядок>
						<КодПравилаКонвертации>ВводОстатковДолгиКомитентамЗаПроданныеТовары</КодПравилаКонвертации>
						<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
						<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
						<ПередОбработкойПравила>Запрос = Новый Запрос("ВЫБРАТЬ
                      |	&amp;ДатаОстатков КАК ДатаПлатежа,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Организация КАК Организация,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДокументРасчетовСКонтрагентом КАК ДокументРасчетовСКонтрагентом,
                      |	ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДокументРасчетовСКонтрагентом КАК Документ.ОтчетКомитентуОПродажах).Дата КАК ДатаРасчетногоДокумента,
                      |	ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДокументРасчетовСКонтрагентом КАК Документ.ОтчетКомитентуОПродажах).Номер КАК НомерРасчетногоДокумента,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Контрагент КАК Партнер,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.Контрагент КАК Контрагент,
                      |	-ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток КАК Сумма,
                      |	-ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток * ВЫБОР
                      |		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
                      |				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
                      |			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
                      |		ИНАЧЕ 0
                      |	КОНЕЦ КАК СуммаРегл,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов КАК ВалютаВзаиморасчетов,
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента КАК ОбъектРасчетов
                      |ИЗ
                      |	РегистрНакопления.ВзаиморасчетыСКонтрагентамиПоДокументамРасчетов.Остатки(
                      |			&amp;ДатаОстатков,
                      |			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СКомитентом)
                      |				И УпрУчет
                      |				И ДокументРасчетовСКонтрагентом ССЫЛКА Документ.ОтчетКомитентуОПродажах
                      |				И ДоговорКонтрагента.ВедениеВзаиморасчетов &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоДоговоруВЦелом)) КАК ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки
                      |		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, ) КАК КурсыВалют
                      |		ПО ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов = КурсыВалют.Валюта
                      |ГДЕ
                      |	ВзаиморасчетыСКонтрагентамиПоДокументамРасчетовОстатки.СуммаВзаиморасчетовОстаток &lt; 0
                      |
                      |УПОРЯДОЧИТЬ ПО
                      |	Контрагент
                      |ИТОГИ ПО
                      |	Организация
                      |АВТОУПОРЯДОЧИВАНИЕ");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ", 
								"Организация В (&amp;МассивОрганизаций) И ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;	

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПартнерами");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	РасчетыСПартнерами = Неопределено;
	Выполнить(Алгоритмы.ТаблицаРасчетовСПартнерами);
	РасчетыСПартнерами.Колонки.Добавить("ДокументРасчетовСКонтрагентом");
	НоваяСтрока.РасчетыСПартнерами = РасчетыСПартнерами;
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
			
		НоваяСтрокаРасчетыСПартнерами = НоваяСтрока.РасчетыСПартнерами.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПартнерами, ВыборкаДетальныеЗаписи);
		НоваяСтрокаРасчетыСПартнерами.СуммаУпр = МодульВалютногоУчета.ПересчитатьИзВалютыВВалюту(ВыборкаДетальныеЗаписи.СуммаРегл,
			Параметры.ВалютаРеглУчета, Параметры.ВалютаУпрУчета, 1, Параметры.КурсВУУ.Курс, 1, Параметры.КурсВУУ.Кратность);
	
	КонецЦикла;
КонецЦикла;

Выполнить(Алгоритмы.ОчисткаВыборки);</ПередОбработкойПравила>
					</Правило>
					<Правило Отключить="false">
						<Код>ВводОстатковАвансыПоДоговорамУплаченныеПоставщикам</Код>
						<Наименование>ВводОстатковАвансыПоДоговорамУплаченныеПоставщикам</Наименование>
						<Порядок>300</Порядок>
						<КодПравилаКонвертации>ВводОстатковАвансыПоДоговорамУплаченныеПоставщикам</КодПравилаКонвертации>
						<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
						<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
						<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ВзаиморасчетыСКонтрагентамиОстатки.Сделка                                  КАК Сделка,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Организация                             КАК Организация,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент                              КАК Контрагент,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент                              КАК Партнер,
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток              КАК Сумма,
	|	
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток * ВЫБОР
	|		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
	|				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
	|			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
	|		ИНАЧЕ 0
	|	КОНЕЦ                                                                      КАК СуммаРегл,
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаУпрОстаток						   КАК СуммаУпр,
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов КАК ВалютаВзаиморасчетов,
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента                      КАК РасчетныйДокумент,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Номер = """"
	|			ТОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Код
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Номер
	|	КОНЕЦ КАК НомерРасчетногоДокумента,
	|	ВЫБОР
	|		КОГДА ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Дата = ДАТАВРЕМЯ(1, 1, 1)
	|			ТОГДА &amp;ДатаОстатков
	|		ИНАЧЕ ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.Дата
	|	КОНЕЦ КАК ДатаРасчетногоДокумента
	|	
	|ПОМЕСТИТЬ ОстаткиВзаиморасчетов
	|ИЗ
	|	РегистрНакопления.ВзаиморасчетыСКонтрагентами.Остатки(
	|			&amp;ДатаОстатков,
	|			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СПоставщиком)
	|				И (ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоДоговоруВЦелом)
	|					ИЛИ ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоСчетам)
	|					ИЛИ ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоЗаказам)
	|						И (НЕ Сделка ССЫЛКА Документ.ЗаказПоставщику))) КАК ВзаиморасчетыСКонтрагентамиОстатки
	|	
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков) КАК КурсыВалют
	|		ПО ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов = КурсыВалют.Валюта
	|	
	|ГДЕ
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток &gt; 0
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ОстаткиВзаиморасчетов.Организация КАК Организация,
	|	ОстаткиВзаиморасчетов.Контрагент КАК Контрагент,
	|	ОстаткиВзаиморасчетов.Партнер,
	|	СУММА(ОстаткиВзаиморасчетов.Сумма) КАК Сумма,
	|	СУММА(ОстаткиВзаиморасчетов.СуммаРегл) КАК СуммаРегл,
	|	СУММА(ОстаткиВзаиморасчетов.СуммаУпр) КАК СуммаУпр,
	|	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
	|	ОстаткиВзаиморасчетов.РасчетныйДокумент КАК ОбъектРасчетов,
	|	ОстаткиВзаиморасчетов.НомерРасчетногоДокумента,
	|	ОстаткиВзаиморасчетов.ДатаРасчетногоДокумента
	|ИЗ
	|	ОстаткиВзаиморасчетов КАК ОстаткиВзаиморасчетов
	|
	|СГРУППИРОВАТЬ ПО
	|	ОстаткиВзаиморасчетов.Организация,
	|	ОстаткиВзаиморасчетов.Контрагент,
	|	ОстаткиВзаиморасчетов.Партнер,
	|	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
	|	ОстаткиВзаиморасчетов.РасчетныйДокумент,
	|	ОстаткиВзаиморасчетов.НомерРасчетногоДокумента,
	|	ОстаткиВзаиморасчетов.ДатаРасчетногоДокумента
	|
	|УПОРЯДОЧИТЬ ПО
	|	Контрагент
	|ИТОГИ ПО
	|	Организация
	|АВТОУПОРЯДОЧИВАНИЕ");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ", 
								"Организация В (&amp;МассивОрганизаций) И ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;	

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПартнерами");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	РасчетыСПартнерами = Неопределено;
	Выполнить(Алгоритмы.ТаблицаРасчетовСПартнерами);
	НоваяСтрока.РасчетыСПартнерами = РасчетыСПартнерами;
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		
		НоваяСтрокаРасчетыСПартнерами = НоваяСтрока.РасчетыСПартнерами.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПартнерами, ВыборкаДетальныеЗаписи);

	КонецЦикла;
		
КонецЦикла;
	
Выполнить(Алгоритмы.ОчисткаВыборки);</ПередОбработкойПравила>
					</Правило>
					<Правило Отключить="false">
						<Код>ВводОстатковАвансыПоЗаказамУплаченныеПоставщикам</Код>
						<Наименование>ВводОстатковАвансыПоЗаказамУплаченныеПоставщикам</Наименование>
						<Порядок>350</Порядок>
						<КодПравилаКонвертации>ВводОстатковАвансыПоЗаказамУплаченныеПоставщикам</КодПравилаКонвертации>
						<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
						<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
						<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ВзаиморасчетыСКонтрагентамиОстатки.Организация КАК Организация,
	|	ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Документ.ЗаказПоставщику) КАК ОбъектРасчетов,
	|	ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Документ.ЗаказПоставщику).Дата КАК ДатаРасчетногоДокумента,
	|	ВЫРАЗИТЬ(ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Документ.ЗаказПоставщику).Номер КАК НомерРасчетногоДокумента,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент                              КАК Контрагент,
	|	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент                              КАК Партнер,
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток              КАК Сумма,
	|	
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток * ВЫБОР
	|		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
	|				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
	|			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
	|		ИНАЧЕ 0
	|	КОНЕЦ                                                                      КАК СуммаРегл,
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаУпрОстаток						   КАК СуммаУпр,
	|	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов КАК ВалютаВзаиморасчетов
	|ИЗ
	|	РегистрНакопления.ВзаиморасчетыСКонтрагентами.Остатки(
	|			&amp;ДатаОстатков,
	|			ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СПоставщиком)
	|				И ДоговорКонтрагента.ВедениеВзаиморасчетов = ЗНАЧЕНИЕ(Перечисление.ВедениеВзаиморасчетовПоДоговорам.ПоЗаказам)
	|				И Сделка ССЫЛКА Документ.ЗаказПоставщику) КАК ВзаиморасчетыСКонтрагентамиОстатки
	|	
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков) КАК КурсыВалют
	|		ПО ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов = КурсыВалют.Валюта
	|	
	|ГДЕ
	|	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток &gt; 0
	|
	|УПОРЯДОЧИТЬ ПО
	|	Контрагент
	|ИТОГИ ПО
	|	Организация
	|АВТОУПОРЯДОЧИВАНИЕ");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ", 
								"Организация В (&amp;МассивОрганизаций) И ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;	

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПартнерами");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	РасчетыСПартнерами = Неопределено;
	Выполнить(Алгоритмы.ТаблицаРасчетовСПартнерами);
	НоваяСтрока.РасчетыСПартнерами = РасчетыСПартнерами;
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
			
		НоваяСтрокаРасчетыСПартнерами = НоваяСтрока.РасчетыСПартнерами.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПартнерами, ВыборкаДетальныеЗаписи);
	
	КонецЦикла;
КонецЦикла;

Выполнить(Алгоритмы.ОчисткаВыборки);</ПередОбработкойПравила>
					</Правило>
					<Правило Отключить="false">
						<Код>ВводОстатковПрочиеАвансыУплаченныеПоставщикам</Код>
						<Наименование>ВводОстатковПрочиеАвансыУплаченныеПоставщикам</Наименование>
						<Порядок>400</Порядок>
						<КодПравилаКонвертации>ВводОстатковПрочиеАвансыУплаченныеПоставщикам</КодПравилаКонвертации>
						<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
						<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
						<ПередОбработкойПравила>Запрос = Новый Запрос("ВЫБРАТЬ
                      |	&amp;ДатаОстатков КАК ДатаПлатежа,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.Организация КАК Организация,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Сделка,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент КАК Партнер,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент КАК Контрагент,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток КАК Сумма,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток * ВЫБОР
                      |		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
                      |				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
                      |			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
                      |		ИНАЧЕ 0
                      |	КОНЕЦ КАК СуммаРегл,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.СуммаУпрОстаток КАК СуммаУпр,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов КАК ВалютаВзаиморасчетов,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента
                      |ПОМЕСТИТЬ ОстаткиВзаиморасчетов
                      |ИЗ
                      |	РегистрНакопления.ВзаиморасчетыСКонтрагентами.Остатки(&amp;ДатаОстатков, ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СКомитентом)) КАК ВзаиморасчетыСКонтрагентамиОстатки
                      |		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, ) КАК КурсыВалют
                      |		ПО ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов = КурсыВалют.Валюта
                      |ГДЕ
                      |	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток &gt; 0
                      |;
                      |
                      |////////////////////////////////////////////////////////////////////////////////
                      |ВЫБРАТЬ
                      |	ОстаткиВзаиморасчетов.ДатаПлатежа,
                      |	ОстаткиВзаиморасчетов.Организация КАК Организация,
                      |	ОстаткиВзаиморасчетов.Партнер,
                      |	ОстаткиВзаиморасчетов.Контрагент КАК Контрагент,
                      |	СУММА(ОстаткиВзаиморасчетов.Сумма) КАК Сумма,
                      |	СУММА(ОстаткиВзаиморасчетов.СуммаРегл) КАК СуммаРегл,
                      |	СУММА(ОстаткиВзаиморасчетов.СуммаУпр) КАК СуммаУпр,
                      |	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
                      |	ОстаткиВзаиморасчетов.ДоговорКонтрагента КАК ОбъектРасчетов
                      |ИЗ
                      |	ОстаткиВзаиморасчетов КАК ОстаткиВзаиморасчетов
                      |
                      |СГРУППИРОВАТЬ ПО
                      |	ОстаткиВзаиморасчетов.ДатаПлатежа,
                      |	ОстаткиВзаиморасчетов.Организация,
                      |	ОстаткиВзаиморасчетов.Партнер,
                      |	ОстаткиВзаиморасчетов.Контрагент,
                      |	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
                      |	ОстаткиВзаиморасчетов.ДоговорКонтрагента
                      |
                      |УПОРЯДОЧИТЬ ПО
                      |	Контрагент
                      |ИТОГИ ПО
                      |	Организация
                      |АВТОУПОРЯДОЧИВАНИЕ");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ", 
								"Организация В (&amp;МассивОрганизаций) И ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;	

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПартнерами");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	РасчетыСПартнерами = Неопределено;
	Выполнить(Алгоритмы.ТаблицаРасчетовСПартнерами);
	НоваяСтрока.РасчетыСПартнерами = РасчетыСПартнерами;
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
			
		НоваяСтрокаРасчетыСПартнерами = НоваяСтрока.РасчетыСПартнерами.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПартнерами, ВыборкаДетальныеЗаписи);
	
	КонецЦикла;
	
КонецЦикла;

Выполнить(Алгоритмы.ОчисткаВыборки);</ПередОбработкойПравила>
					</Правило>
					<Правило Отключить="false">
						<Код>ВводОстатковПрочаяКредиторскаяЗадолженность</Код>
						<Наименование>ВводОстатковПрочаяКредиторскаяЗадолженность</Наименование>
						<Порядок>450</Порядок>
						<КодПравилаКонвертации>ВводОстатковПрочаяКредиторскаяЗадолженность</КодПравилаКонвертации>
						<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
						<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
						<ПередОбработкойПравила>Запрос = Новый Запрос("ВЫБРАТЬ
                      |	&amp;ДатаОстатков КАК ДатаПлатежа,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.Организация КАК Организация,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.Сделка КАК Сделка,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент КАК Контрагент,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.Контрагент КАК Партнер,
                      |	-ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток КАК Сумма,
                      |	-ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток * ВЫБОР
                      |		КОГДА ЕСТЬNULL(КурсыВалют.Курс, 0) &gt; 0
                      |				И ЕСТЬNULL(КурсыВалют.Кратность, 0) &gt; 0
                      |			ТОГДА КурсыВалют.Курс / КурсыВалют.Кратность
                      |		ИНАЧЕ 0
                      |	КОНЕЦ КАК СуммаРегл,
                      |	-ВзаиморасчетыСКонтрагентамиОстатки.СуммаУпрОстаток КАК СуммаУпр,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов КАК ВалютаВзаиморасчетов,
                      |	ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента
                      |ПОМЕСТИТЬ ОстаткиВзаиморасчетов
                      |ИЗ
                      |	РегистрНакопления.ВзаиморасчетыСКонтрагентами.Остатки(&amp;ДатаОстатков, ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.Прочее)) КАК ВзаиморасчетыСКонтрагентамиОстатки
                      |		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, ) КАК КурсыВалют
                      |		ПО ВзаиморасчетыСКонтрагентамиОстатки.ДоговорКонтрагента.ВалютаВзаиморасчетов = КурсыВалют.Валюта
                      |ГДЕ
                      |	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток &lt; 0
                      |;
                      |
                      |////////////////////////////////////////////////////////////////////////////////
                      |ВЫБРАТЬ
                      |	ОстаткиВзаиморасчетов.ДатаПлатежа,
                      |	ОстаткиВзаиморасчетов.Организация КАК Организация,
                      |	ОстаткиВзаиморасчетов.Контрагент КАК Контрагент,
                      |	ОстаткиВзаиморасчетов.Партнер,
                      |	СУММА(ОстаткиВзаиморасчетов.Сумма) КАК Сумма,
                      |	СУММА(ОстаткиВзаиморасчетов.СуммаРегл) КАК СуммаРегл,
                      |	СУММА(ОстаткиВзаиморасчетов.СуммаУпр) КАК СуммаУпр,
                      |	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
                      |	ОстаткиВзаиморасчетов.ДоговорКонтрагента КАК ОбъектРасчетов
                      |ИЗ
                      |	ОстаткиВзаиморасчетов КАК ОстаткиВзаиморасчетов
                      |
                      |СГРУППИРОВАТЬ ПО
                      |	ОстаткиВзаиморасчетов.ДатаПлатежа,
                      |	ОстаткиВзаиморасчетов.Организация,
                      |	ОстаткиВзаиморасчетов.Контрагент,
                      |	ОстаткиВзаиморасчетов.Партнер,
                      |	ОстаткиВзаиморасчетов.ВалютаВзаиморасчетов,
                      |	ОстаткиВзаиморасчетов.ДоговорКонтрагента
                      |
                      |УПОРЯДОЧИТЬ ПО
                      |	Контрагент
                      |ИТОГИ ПО
                      |	Организация
                      |АВТОУПОРЯДОЧИВАНИЕ");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ", 
								"Организация В (&amp;МассивОрганизаций) И ДоговорКонтрагента.ВидДоговора = ЗНАЧЕНИЕ");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;	

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("РасчетыСПартнерами");

РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоОрганизациям.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
	НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация; 
	
	РасчетыСПартнерами = Неопределено;
	Выполнить(Алгоритмы.ТаблицаРасчетовСПартнерами);
	НоваяСтрока.РасчетыСПартнерами = РасчетыСПартнерами;
	
	ВыборкаДетальныеЗаписи = ВыборкаПоОрганизациям.Выбрать(); 
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
			
		НоваяСтрокаРасчетыСПартнерами = НоваяСтрока.РасчетыСПартнерами.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаРасчетыСПартнерами, ВыборкаДетальныеЗаписи);
	
	КонецЦикла;
	
КонецЦикла;

Выполнить(Алгоритмы.ОчисткаВыборки);</ПередОбработкойПравила>
					</Правило>
				</Группа>
			</Группа>
		</Группа>
		<Группа Отключить="false">
			<Код>СправочнаяИнформация</Код>
			<Наименование>СправочнаяИнформация</Наименование>
			<Порядок>450</Порядок>
			<Группа Отключить="false">
				<Код>БазовыеКлассификаторы</Код>
				<Наименование>БазовыеКлассификаторы</Наименование>
				<Порядок>500</Порядок>
				<Правило Отключить="false">
					<Код>Банки</Код>
					<Наименование>Банки</Наименование>
					<Порядок>50</Порядок>
					<КодПравилаКонвертации>Банки</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.Банки</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>Валюты</Код>
					<Наименование>Валюты</Наименование>
					<Порядок>100</Порядок>
					<КодПравилаКонвертации>Валюты</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.Валюты</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>КурсыВалют</Код>
					<Наименование>КурсыВалют</Наименование>
					<Порядок>150</Порядок>
					<КодПравилаКонвертации>КурсыВалют</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>РегистрСведенийЗапись.КурсыВалют</ОбъектВыборки>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
				</Правило>
				<Правило Отключить="false">
					<Код>ДокументыУдостоверяющиеЛичность</Код>
					<Наименование>ДокументыУдостоверяющиеЛичность</Наименование>
					<Порядок>200</Порядок>
					<КодПравилаКонвертации>ДокументыУдостоверяющиеЛичность</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.ДокументыУдостоверяющиеЛичность</ОбъектВыборки>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>ГруппаНоменклатура</Код>
				<Наименование>ГруппаНоменклатура</Наименование>
				<Порядок>550</Порядок>
				<Правило Отключить="false">
					<Код>ВидыНоменклатуры</Код>
					<Наименование>ВидыНоменклатуры</Наименование>
					<Порядок>50</Порядок>
					<КодПравилаКонвертации>ВидыНоменклатуры</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.ВидыНоменклатуры</ОбъектВыборки>
					<ПередВыгрузкойОбъекта>// Часть информации берем из первой попавшейся номенклатуры с указанным видом номенклатуры
Запрос = Новый Запрос("ВЫБРАТЬ ПЕРВЫЕ 1
                      |	Номенклатура.Ссылка,
                      |	Номенклатура.ВестиУчетПоСериям
                      |ИЗ
                      |	Справочник.Номенклатура КАК Номенклатура
                      |ГДЕ
                      |	(НЕ Номенклатура.ЭтоГруппа)
                      |	И Номенклатура.ВидНоменклатуры = &amp;ВидНоменклатуры");
Запрос.УстановитьПараметр("ВидНоменклатуры", Объект.Ссылка);
ВыборкаНоменклатуры = Запрос.Выполнить().Выбрать();

Если ВыборкаНоменклатуры.Следующий() Тогда
	
	Источник = ВыборкаНоменклатуры.Ссылка;
	Выполнить(Алгоритмы.ВходящиеДанныеНоменклатуры);
	
	Значение = Неопределено;
	СоздатьВидНоменклатуры_Номенклатура					= ВыборкаНоменклатуры.Ссылка;
	СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = Объект.Наименование;
	СоздатьВидНоменклатуры_ТипНоменклатуры				= ВходящиеДанные.ТипНоменклатуры;
	СоздатьВидНоменклатуры_ИспользоватьСерии			= ВыборкаНоменклатуры.ВестиУчетПоСериям;
	СоздатьВидНоменклатуры_АлкогольнаяПродукция          = Ложь;
	СоздатьВидНоменклатуры_ИмпортнаяАлкогольнаяПродукция = Ложь;
	СоздатьВидНоменклатуры_ВидАлкогольнойПродукции       = Неопределено;
	Выполнить(Алгоритмы.СоздатьВидНоменклатуры);
	ВыгрузитьПоПравилу(Значение,,,, "ВидыНоменклатуры");
	
КонецЕсли;</ПередВыгрузкойОбъекта>
				</Правило>
				<Правило Отключить="false">
					<Код>Номенклатура</Код>
					<Наименование>Номенклатура</Наименование>
					<Порядок>100</Порядок>
					<КодПравилаКонвертации>Номенклатура</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.Номенклатура</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ХарактеристикиНоменклатуры</Код>
					<Наименование>ХарактеристикиНоменклатуры</Наименование>
					<Порядок>150</Порядок>
					<КодПравилаКонвертации>ХарактеристикиНоменклатуры</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.ХарактеристикиНоменклатуры</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ШтрихкодыНоменклатуры</Код>
					<Наименование>ШтрихкодыНоменклатуры</Наименование>
					<Порядок>200</Порядок>
					<КодПравилаКонвертации>ШтрихкодыНоменклатуры</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос("
|ВЫБРАТЬ
|	Штрихкоды.Штрихкод КАК Штрихкод,
|	Штрихкоды.Владелец КАК Номенклатура,
|	Штрихкоды.ЕдиницаИзмерения КАК Упаковка,
|	Штрихкоды.ХарактеристикаНоменклатуры КАК Характеристика
|ИЗ
|	РегистрСведений.Штрихкоды КАК Штрихкоды
|ГДЕ
|	Штрихкоды.Владелец ССЫЛКА Справочник.Номенклатура
|	И ВЫРАЗИТЬ(Штрихкоды.Владелец КАК Справочник.Номенклатура).ВидНоменклатуры.ТипНоменклатуры В (ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар),
|	   ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Услуга))
|");

ВыборкаДанных = Запрос;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>НомераГТД</Код>
					<Наименование>НомераГТД</Наименование>
					<Порядок>250</Порядок>
					<КодПравилаКонвертации>НомераГТД</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<Описание>Номера ГТД выгружаются из серий где ссылка на номер ГТД не пустая</Описание>
					<ПередОбработкойПравила>Запрос = Новый Запрос("
|ВЫБРАТЬ РАЗЛИЧНЫЕ
|	СерииНоменклатуры.Владелец            КАК Владелец,
|	СерииНоменклатуры.СтранаПроисхождения КАК СтранаПроисхождения,
|	СерииНоменклатуры.ПометкаУдаления     КАК ПометкаУдаления,
|	СерииНоменклатуры.НомерГТД.Код        КАК Код
|ИЗ
|	Справочник.СерииНоменклатуры КАК СерииНоменклатуры
|ГДЕ
|	СерииНоменклатуры.НомерГТД &lt;&gt; ЗНАЧЕНИЕ(Справочник.НомераГТД.ПустаяСсылка)
|");

ВыборкаДанных = Запрос;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ЦеновыеГруппы</Код>
					<Наименование>ЦеновыеГруппы</Наименование>
					<Порядок>300</Порядок>
					<КодПравилаКонвертации>ЦеновыеГруппыЦеновыеГруппы</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.ЦеновыеГруппы</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ЕдиницыИзмеренияУпаковки</Код>
					<Наименование>ЕдиницыИзмеренияУпаковки</Наименование>
					<Порядок>350</Порядок>
					<КодПравилаКонвертации>ЕдиницыИзмерения_Упаковки</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ЕдиницыИзмерения.Ссылка КАК Ссылка,
	|	ЕдиницыИзмерения.Вес КАК Вес,
	|	ЕдиницыИзмерения.Объем КАК Объем,
	|	ЕдиницыИзмерения.Владелец КАК Владелец,
	|	ВЫБОР КОГДА ВЫРАЗИТЬ(ЕдиницыИзмерения.Владелец КАК Справочник.Номенклатура).ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 0 ТОГДА
	|		ЕдиницыИзмерения.Коэффициент / ВЫРАЗИТЬ(ЕдиницыИзмерения.Владелец КАК Справочник.Номенклатура).ЕдиницаХраненияОстатков.Коэффициент
	|	ИНАЧЕ
	|		ЕдиницыИзмерения.Коэффициент
	|	КОНЕЦ КАК Коэффициент,
	|	ЕдиницыИзмерения.ЕдиницаПоКлассификатору КАК ЕдиницаПоКлассификатору,
	|	ЕдиницыИзмерения.ПометкаУдаления КАК ПометкаУдаления,
	|	ЕдиницыИзмерения.Наименование КАК Наименование
	|ИЗ
	|	Справочник.ЕдиницыИзмерения КАК ЕдиницыИзмерения
	|ГДЕ
	|	ВЫРАЗИТЬ(ЕдиницыИзмерения.Владелец КАК Справочник.Номенклатура).ЕдиницаХраненияОстатков &lt;&gt; ЕдиницыИзмерения.Ссылка
	|	ИЛИ ВЫРАЗИТЬ(ЕдиницыИзмерения.Владелец КАК Справочник.Номенклатура).ЕдиницаХраненияОстатков.Коэффициент &lt;&gt; 1
	|");

ВыборкаДанных = Запрос;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>НоменклатураКонтрагентов</Код>
					<Наименование>НоменклатураКонтрагентов</Наименование>
					<Порядок>400</Порядок>
					<КодПравилаКонвертации>НоменклатураПартнеров</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>РегистрСведенийЗапись.НоменклатураКонтрагентов</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ТипыЦенНоменклатуры</Код>
					<Наименование>ТипыЦенНоменклатуры</Наименование>
					<Порядок>450</Порядок>
					<КодПравилаКонвертации>ТипыЦенНоменклатуры_ВидыЦен</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.ТипыЦенНоменклатуры</ОбъектВыборки>
				</Правило>
				<Правило Отключить="true">
					<Код>ИсторияЦенНоменклатуры</Код>
					<Наименование>ИсторияЦенНоменклатуры</Наименование>
					<Порядок>500</Порядок>
					<КодПравилаКонвертации>УстановкаЦенНоменклатуры</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ДокументСсылка.УстановкаЦенНоменклатуры</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>РегистрацияПоследнихЦенНоменклатуры</Код>
					<Наименование>РегистрацияПоследнихЦенНоменклатуры</Наименование>
					<Порядок>550</Порядок>
					<КодПравилаКонвертации>РегистрацияПоследнихЦенНоменклатуры</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос("ВЫБРАТЬ
|	ЦеныНоменклатуры.ТипЦен КАК ВидЦены,
|	ЦеныНоменклатуры.Номенклатура КАК Номенклатура,
|	ЦеныНоменклатуры.ХарактеристикаНоменклатуры КАК Характеристика,
|	ВЫРАЗИТЬ(ЦеныНоменклатуры.Цена * ВЫБОР
|			КОГДА ЦеныНоменклатуры.ТипЦен.ВалютаЦены &lt;&gt; ЦеныНоменклатуры.Валюта
|				ТОГДА ВЫБОР
|						КОГДА ЕСТЬNULL(КурсыСрезПоследнихВалютаЦены.Кратность, 0) &gt; 0
|								И ЕСТЬNULL(КурсыСрезПоследнихВалютаЦены.Курс, 0) &gt; 0
|								И ЕСТЬNULL(КурсыСрезПоследнихВалютаДокумента.Кратность, 0) &gt; 0
|								И ЕСТЬNULL(КурсыСрезПоследнихВалютаДокумента.Курс, 0) &gt; 0
|							ТОГДА КурсыСрезПоследнихВалютаЦены.Курс * КурсыСрезПоследнихВалютаДокумента.Кратность / (КурсыСрезПоследнихВалютаДокумента.Курс * КурсыСрезПоследнихВалютаЦены.Кратность)
|						ИНАЧЕ 0
|					КОНЕЦ
|			ИНАЧЕ 1
|		КОНЕЦ КАК ЧИСЛО(10, 2)) КАК Цена,
|	ЦеныНоменклатуры.ЕдиницаИзмерения КАК Упаковка
|ИЗ
|	РегистрСведений.ЦеныНоменклатуры.СрезПоследних(&amp;ДатаОстатков, ) КАК ЦеныНоменклатуры
|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, ) КАК КурсыСрезПоследнихВалютаЦены
|		ПО (КурсыСрезПоследнихВалютаЦены.Валюта = ЦеныНоменклатуры.Валюта)
|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, ) КАК КурсыСрезПоследнихВалютаДокумента
|		ПО (КурсыСрезПоследнихВалютаДокумента.Валюта = ЦеныНоменклатуры.ТипЦен.ВалютаЦены)
|ИТОГИ ПО
|	ВидЦены");

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("ВидЦены");
ВыборкаДанных.Колонки.Добавить("Товары");

ВыборкаПоВидамЦен = Запрос.Выполнить().Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоВидамЦен.Следующий() Цикл
	
	НоваяСтрока = ВыборкаДанных.Добавить();
	НоваяСтрока.Дата = КонецДня(Параметры.ДатаОстатков);
	НоваяСтрока.ВидЦены = ВыборкаПоВидамЦен.ВидЦены;
	
	НоваяСтрока.Товары = Новый ТаблицаЗначений;
	НоваяСтрока.Товары.Колонки.Добавить("Номенклатура");
	НоваяСтрока.Товары.Колонки.Добавить("Характеристика");
	НоваяСтрока.Товары.Колонки.Добавить("Упаковка");
	НоваяСтрока.Товары.Колонки.Добавить("Цена");
	НоваяСтрока.Товары.Колонки.Добавить("ВидЦены");
	
	ДетальнаяВыборка = ВыборкаПоВидамЦен.Выбрать();
	Пока ДетальнаяВыборка.Следующий() Цикл
		НоваяСтрокаТовары = НоваяСтрока.Товары.Добавить();	
		ЗаполнитьЗначенияСвойств(НоваяСтрокаТовары, ДетальнаяВыборка);
	КонецЦикла;
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>РегистрацияЦенПоставщиков</Код>
					<Наименование>РегистрацияЦенПоставщиков</Наименование>
					<Порядок>600</Порядок>
					<КодПравилаКонвертации>РегистрацияЦенПоставщика</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ДоговорыКонтрагентов.Ссылка          КАК ДоговорКонтрагента,
	|	ДокТовары.Ссылка                     КАК Ссылка,
	|	ДокТовары.Ссылка.Номер               КАК Номер,
	|	ДокТовары.Ссылка.Дата                КАК Дата,
	|	ДокТовары.Ссылка.Проведен            КАК Проведен,
	|	ДокТовары.Ссылка.ПометкаУдаления     КАК ПометкаУдаления,
	|	ДокТовары.Ссылка.Комментарий         КАК Комментарий,
	|	ДокТовары.Ссылка.Контрагент          КАК Контрагент,
	|	ДокТовары.Ссылка.Ответственный       КАК Ответственный,
	|	ДокТовары.ТипЦен                     КАК ТипЦен,
	|	ДокТовары.Номенклатура               КАК Номенклатура,
	|	ДокТовары.ХарактеристикаНоменклатуры КАК ХарактеристикаНоменклатуры,
	|	
	|	ДокТовары.Цена * ВЫБОР
	|		КОГДА ДоговорыКонтрагентов.ВалютаВзаиморасчетов &lt;&gt; ДокТовары.Валюта
	|			ТОГДА ВЫБОР
	|					КОГДА ЕСТЬNULL(КурсыВалютыЦены.Кратность, 0) &gt; 0
	|							И ЕСТЬNULL(КурсыВалютыЦены.Курс, 0) &gt; 0
	|							И ЕСТЬNULL(КурсыВалютыТипаЦен.Кратность, 0) &gt; 0
	|							И ЕСТЬNULL(КурсыВалютыТипаЦен.Курс, 0) &gt; 0
	|						ТОГДА КурсыВалютыЦены.Курс * КурсыВалютыТипаЦен.Кратность
	|							/ (КурсыВалютыТипаЦен.Курс * КурсыВалютыЦены.Кратность)
	|					ИНАЧЕ 0
	|				КОНЕЦ
	|		ИНАЧЕ 1
	|	КОНЕЦ                      КАК Цена,
	|	
	|	ДокТовары.ЕдиницаИзмерения КАК ЕдиницаИзмерения
	|ИЗ
	|	Справочник.ДоговорыКонтрагентов КАК ДоговорыКонтрагентов
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Документ.УстановкаЦенНоменклатурыКонтрагентов.Товары КАК ДокТовары
	|		ПО (ДокТовары.ТипЦен = ДоговорыКонтрагентов.ТипЦен)
	|		
	|			ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, ) КАК КурсыВалютыЦены
	|			ПО (ДокТовары.Валюта = КурсыВалютыЦены.Валюта)
	|			
	|			ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, ) КАК КурсыВалютыТипаЦен
	|			ПО (ДоговорыКонтрагентов.ВалютаВзаиморасчетов = КурсыВалютыТипаЦен.Валюта)
	|ГДЕ
	|	ДоговорыКонтрагентов.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СПоставщиком)
	|ИТОГИ ПО
	|	ДоговорКонтрагента,
	|	Ссылка,
	|	ТипЦен");

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Проведен");
ВыборкаДанных.Колонки.Добавить("ПометкаУдаления");
ВыборкаДанных.Колонки.Добавить("Ответственный");
ВыборкаДанных.Колонки.Добавить("Комментарий");

ВыборкаДанных.Колонки.Добавить("Партнер");
ВыборкаДанных.Колонки.Добавить("Соглашение");

ВыборкаДанных.Колонки.Добавить("Товары");


РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоДоговорамКонтрагента = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоДоговорамКонтрагента.Следующий() Цикл
	
	ВыборкаПоУстановкамЦенНоменклатуры = ВыборкаПоДоговорамКонтрагента.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	Пока ВыборкаПоУстановкамЦенНоменклатуры.Следующий() Цикл
		
		ВыборкаПоТипамЦен = ВыборкаПоУстановкамЦенНоменклатуры.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
		Пока ВыборкаПоТипамЦен.Следующий() Цикл
			
			НоваяСтрока = ВыборкаДанных.Добавить();
			НоваяСтрока.Дата            = НачалоДня(ВыборкаПоУстановкамЦенНоменклатуры.Дата); 
			НоваяСтрока.Проведен        = ВыборкаПоУстановкамЦенНоменклатуры.Проведен; 
			НоваяСтрока.ПометкаУдаления = ВыборкаПоУстановкамЦенНоменклатуры.ПометкаУдаления; 
			НоваяСтрока.Ответственный   = ВыборкаПоУстановкамЦенНоменклатуры.Ответственный; 
			НоваяСтрока.Комментарий     = ВыборкаПоУстановкамЦенНоменклатуры.Комментарий; 
			
			НоваяСтрока.Партнер    = ВыборкаПоУстановкамЦенНоменклатуры.Контрагент; 
			НоваяСтрока.Соглашение = ВыборкаПоДоговорамКонтрагента.ДоговорКонтрагента; 
			
			НоваяСтрока.Товары = Новый ТаблицаЗначений;
			НоваяСтрока.Товары.Колонки.Добавить("Номенклатура");
			НоваяСтрока.Товары.Колонки.Добавить("Характеристика");
			НоваяСтрока.Товары.Колонки.Добавить("Упаковка");
			НоваяСтрока.Товары.Колонки.Добавить("ВидЦеныПоставщика");
			НоваяСтрока.Товары.Колонки.Добавить("Цена");
			
			
			ВыборкаПоДетальнымЗаписям = ВыборкаПоТипамЦен.Выбрать();
			Пока ВыборкаПоДетальнымЗаписям.Следующий() Цикл
				
				НоваяСтрокаТовары = НоваяСтрока.Товары.Добавить();
				НоваяСтрокаТовары.Номенклатура   = ВыборкаПоДетальнымЗаписям.Номенклатура; 
				НоваяСтрокаТовары.Характеристика = ВыборкаПоДетальнымЗаписям.ХарактеристикаНоменклатуры; 
				НоваяСтрокаТовары.Упаковка       = ВыборкаПоДетальнымЗаписям.ЕдиницаИзмерения; 
				
				НоваяСтрокаТовары.ВидЦеныПоставщика = Новый Структура;
				НоваяСтрокаТовары.ВидЦеныПоставщика.Вставить("Владелец",        НоваяСтрока.Партнер);
				НоваяСтрокаТовары.ВидЦеныПоставщика.Вставить("ЦенаВключаетНДС", ВыборкаПоДетальнымЗаписям.ТипЦен.ЦенаВключаетНДС);
				НоваяСтрокаТовары.ВидЦеныПоставщика.Вставить("Наименование",    ВыборкаПоДетальнымЗаписям.ТипЦен.Наименование);
				НоваяСтрокаТовары.ВидЦеныПоставщика.Вставить("ПометкаУдаления", ВыборкаПоДетальнымЗаписям.ТипЦен.ПометкаУдаления);
				
				НоваяСтрокаТовары.Цена = ВыборкаПоДетальнымЗаписям.Цена; 
				
			КонецЦикла;
		КонецЦикла;
	КонецЦикла;
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>РегистрацияЦенКомитента</Код>
					<Наименование>РегистрацияЦенКомитента</Наименование>
					<Порядок>650</Порядок>
					<КодПравилаКонвертации>РегистрацияЦенКомитента</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос("
|ВЫБРАТЬ
|	ПартииТоваровНаСкладахОстатки.ДокументОприходования.ДоговорКонтрагента КАК ДоговорКонтрагента,
|	ПартииТоваровНаСкладахОстатки.ДокументОприходования.Контрагент         КАК Контрагент,
|	
|	ПартииТоваровНаСкладахОстатки.Номенклатура               КАК Номенклатура,
|	ПартииТоваровНаСкладахОстатки.ХарактеристикаНоменклатуры КАК Характеристика,
|
|	ВЫБОР КОГДА ЕСТЬNULL(СУММА(ПартииТоваровНаСкладахОстатки.КоличествоОстаток),0) &lt;&gt; 0 ТОГДА 
|		ВЫРАЗИТЬ(СУММА(ПартииТоваровНаСкладахОстатки.СтоимостьОстаток) / СУММА(ПартииТоваровНаСкладахОстатки.КоличествоОстаток) КАК Число(15,2))
|	ИНАЧЕ
|	0
|	КОНЕЦ КАК Цена
|ИЗ
|	РегистрНакопления.ПартииТоваровНаСкладах.Остатки(
|			&amp;ДатаОстатков,
|			СтатусПартии = ЗНАЧЕНИЕ(Перечисление.СтатусыПартийТоваров.НаКомиссию)
|				И Номенклатура.ВидНоменклатуры.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)) КАК ПартииТоваровНаСкладахОстатки
|
|СГРУППИРОВАТЬ ПО
|	ПартииТоваровНаСкладахОстатки.Номенклатура,
|	ПартииТоваровНаСкладахОстатки.ХарактеристикаНоменклатуры,
|	ПартииТоваровНаСкладахОстатки.ДокументОприходования.Контрагент,
|	ПартииТоваровНаСкладахОстатки.ДокументОприходования.ДоговорКонтрагента
|ИТОГИ ПО
|	ПартииТоваровНаСкладахОстатки.ДокументОприходования.Контрагент,
|	ПартииТоваровНаСкладахОстатки.ДокументОприходования.ДоговорКонтрагента
|");

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Проведен");
ВыборкаДанных.Колонки.Добавить("ПометкаУдаления");
ВыборкаДанных.Колонки.Добавить("Ответственный");
ВыборкаДанных.Колонки.Добавить("Комментарий");

ВыборкаДанных.Колонки.Добавить("Партнер");
ВыборкаДанных.Колонки.Добавить("Соглашение");

ВыборкаДанных.Колонки.Добавить("Товары");

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));


РезультатыЗапроса = Запрос.Выполнить();
ВыборкаПоКонтрагентам = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаПоКонтрагентам.Следующий() Цикл
	
	ВыборкаПоДоговорамКонтрагента = ВыборкаПоКонтрагентам.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	Пока ВыборкаПоДоговорамКонтрагента.Следующий() Цикл
		
		НоваяСтрока = ВыборкаДанных.Добавить();
		НоваяСтрока.Дата            = НачалоДня(Параметры.ДатаОстатков); 
		НоваяСтрока.Проведен        = Истина; 
		НоваяСтрока.ПометкаУдаления = Ложь; 
		НоваяСтрока.Комментарий     = "УТ103 -&gt; УТ11: Цены комитента по остаткам партий товаров на складах"; 
		
		НоваяСтрока.Партнер    = ВыборкаПоКонтрагентам.Контрагент; 
		НоваяСтрока.Соглашение = ВыборкаПоДоговорамКонтрагента.ДоговорКонтрагента; 
		
		НоваяСтрока.Товары = Новый ТаблицаЗначений;
		НоваяСтрока.Товары.Колонки.Добавить("Номенклатура");
		НоваяСтрока.Товары.Колонки.Добавить("Характеристика");
		НоваяСтрока.Товары.Колонки.Добавить("Упаковка");
		НоваяСтрока.Товары.Колонки.Добавить("Цена");
		
		ВыборкаПоДетальнымЗаписям = ВыборкаПоДоговорамКонтрагента.Выбрать();
		Пока ВыборкаПоДетальнымЗаписям.Следующий() Цикл
			
			НоваяСтрокаТовары = НоваяСтрока.Товары.Добавить();
			НоваяСтрокаТовары.Номенклатура               = ВыборкаПоДетальнымЗаписям.Номенклатура; 
			НоваяСтрокаТовары.Характеристика             = ВыборкаПоДетальнымЗаписям.Характеристика; 
			НоваяСтрокаТовары.Цена                       = ВыборкаПоДетальнымЗаписям.Цена; 
			
		КонецЦикла;
		
	КонецЦикла;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>КомплектующиеНоменклатуры</Код>
					<Наименование>КомплектующиеНоменклатуры</Наименование>
					<Порядок>700</Порядок>
					<КодПравилаКонвертации>КомплектующиеВВариантыКомплектацииНоменклатуры</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ОбъектВыборки>РегистрСведенийЗапись.КомплектующиеНоменклатуры</ОбъектВыборки>
					<ПередОбработкойПравила>Запрос = Новый Запрос("ВЫБРАТЬ
                      |	КомплектующиеНоменклатуры.Номенклатура КАК Владелец,
                      |	КомплектующиеНоменклатуры.ХарактеристикаНоменклатуры КАК ХарактеристикаНоменклатуры,
                      |	КомплектующиеНоменклатуры.Комплектующая КАК Номенклатура,
                      |	КомплектующиеНоменклатуры.ХарактеристикаКомплектующей КАК Характеристика,
                      |	КомплектующиеНоменклатуры.Количество КАК КоличествоУпаковок,
                      |	КомплектующиеНоменклатуры.ЕдиницаИзмерения КАК Упаковка,
                      |	КомплектующиеНоменклатуры.ДоляСтоимости,
                      |	КомплектующиеНоменклатуры.Количество * КомплектующиеНоменклатуры.ЕдиницаИзмерения.Коэффициент КАК Количество
                      |ИЗ
                      |	РегистрСведений.КомплектующиеНоменклатуры КАК КомплектующиеНоменклатуры
                      |ИТОГИ ПО
                      |	Владелец,
                      |	ХарактеристикаНоменклатуры");
					  
					  
ВыборкаПоНоменклатуре = Запрос.Выполнить().Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);

ВыборкаДанных = Новый Массив;
Пока ВыборкаПоНоменклатуре.Следующий() Цикл
	
	ВыборкаПоХарактеристике = ВыборкаПоНоменклатуре.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	Пока ВыборкаПоХарактеристике.Следующий() Цикл
		
		НовыйОбъектВыгрузки = Новый Структура();
		НовыйОбъектВыгрузки.Вставить("Владелец",		ВыборкаПоХарактеристике.Владелец);
		НовыйОбъектВыгрузки.Вставить("Наименование",	Строка(ВыборкаПоХарактеристике.Владелец));
		НовыйОбъектВыгрузки.Вставить("Характеристика",	ВыборкаПоХарактеристике.ХарактеристикаНоменклатуры);
		НовыйОбъектВыгрузки.Вставить("Основной",		Истина);
		НовыйОбъектВыгрузки.Вставить("ПометкаУдаления",	Ложь);
		
		Товары = Новый ТаблицаЗначений();
		Товары.Колонки.Добавить("ДоляСтоимости");
		Товары.Колонки.Добавить("Количество");
		Товары.Колонки.Добавить("КоличествоУпаковок");
		Товары.Колонки.Добавить("Номенклатура");
		Товары.Колонки.Добавить("Упаковка");
		Товары.Колонки.Добавить("Характеристика");
		
		ДетальнаяВыборка = ВыборкаПоХарактеристике.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
		Пока ДетальнаяВыборка.Следующий() Цикл
			
			НоваяСтрока = Товары.Добавить();
			ЗаполнитьЗначенияСвойств(НоваяСтрока, ДетальнаяВыборка);
			
		КонецЦикла;
		
		НовыйОбъектВыгрузки.Вставить("Товары", Товары);
		ВыборкаДанных.Добавить(НовыйОбъектВыгрузки);
		
	КонецЦикла
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ВидыДисконтныхКарт</Код>
					<Наименование>ВидыДисконтныхКарт</Наименование>
					<Порядок>750</Порядок>
					<КодПравилаКонвертации>ВидыДисконтныхКарт_ВидыКартЛояльности</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.ВидыДисконтныхКарт</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ИнформационныеКарты</Код>
					<Наименование>ИнформационныеКарты</Наименование>
					<Порядок>800</Порядок>
					<КодПравилаКонвертации>ИнформационныеКарты_КартыЛояльности</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.ИнформационныеКарты</ОбъектВыборки>
					<ПередВыгрузкойОбъекта>Если Объект.ТипКарты &lt;&gt; Перечисления.ТипыИнформационныхКарт.Дисконтная ИЛИ Объект.ЭтоГруппа Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
				</Правило>
				<Правило Отключить="false">
					<Код>ТипыСкидокНаценок</Код>
					<Наименование>ТипыСкидокНаценок</Наименование>
					<Порядок>850</Порядок>
					<КодПравилаКонвертации>СкидкиНаценки</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.ТипыСкидокНаценок</ОбъектВыборки>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>ГруппаСвойстваОбъектов</Код>
				<Наименование>ГруппаСвойстваОбъектов</Наименование>
				<Порядок>600</Порядок>
				<Правило Отключить="false">
					<Код>СвойстваОбъектов</Код>
					<Наименование>СвойстваОбъектов</Наименование>
					<Порядок>50</Порядок>
					<КодПравилаКонвертации>СвойстваОбъектов_ДополнительныеРеквизитыИСведения</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ПланВидовХарактеристикСсылка.СвойстваОбъектов</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ЗначенияСвойствОбъектов</Код>
					<Наименование>ЗначенияСвойствОбъектов</Наименование>
					<Порядок>600</Порядок>
					<КодПравилаКонвертации>ЗначенияСвойствОбъектов</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.ЗначенияСвойствОбъектов</ОбъектВыборки>
					<ПередВыгрузкойОбъекта>// В УТ 11 для данных объектов не назначаются свойства.
Если Объект.Владелец.НазначениеСвойства = ПланыВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_НоменклатурныеГруппы Тогда
	Отказ = Истина;	
КонецЕсли;
Если Объект.Владелец.НазначениеСвойства = ПланыВидовХарактеристик.НазначенияСвойствКатегорийОбъектов.Справочник_Организации Тогда
	Отказ = Истина;	
КонецЕсли;</ПередВыгрузкойОбъекта>
				</Правило>
				<Правило Отключить="false">
					<Код>НазначенияСвойствКатегорийОбъектов</Код>
					<Наименование>НазначенияСвойствКатегорийОбъектов</Наименование>
					<Порядок>2000</Порядок>
					<КодПравилаКонвертации>НаборыДополнительныхРеквизитовИСведений</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>ПланВидовХарактеристикСсылка.НазначенияСвойствКатегорийОбъектов</ОбъектВыборки>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>ГруппаФизическиеЛица</Код>
				<Наименование>ГруппаФизическиеЛица</Наименование>
				<Порядок>650</Порядок>
				<Правило Отключить="false">
					<Код>ФизическиеЛица</Код>
					<Наименование>ФизическиеЛица</Наименование>
					<Порядок>600</Порядок>
					<КодПравилаКонвертации>ФизическиеЛица</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.ФизическиеЛица</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ПаспортныеДанныеФизЛиц</Код>
					<Наименование>ПаспортныеДанныеФизЛиц</Наименование>
					<Порядок>650</Порядок>
					<КодПравилаКонвертации>ПаспортныеДанныеФизЛиц</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>РегистрСведенийЗапись.ПаспортныеДанныеФизЛиц</ОбъектВыборки>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
				</Правило>
				<Правило Отключить="false">
					<Код>ФИОФизЛиц</Код>
					<Наименование>ФИОФизЛиц</Наименование>
					<Порядок>700</Порядок>
					<КодПравилаКонвертации>ФИОФизическихЛиц</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>РегистрСведенийЗапись.ФИОФизЛиц</ОбъектВыборки>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>Контрагенты</Код>
				<Наименование>Контрагенты</Наименование>
				<Порядок>700</Порядок>
				<Правило Отключить="false">
					<Код>КонтрагентыПартнеры</Код>
					<Наименование>КонтрагентыПартнеры</Наименование>
					<Порядок>50</Порядок>
					<КодПравилаКонвертации>Контрагенты_Партнеры</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	Контрагенты.*
	|ИЗ
	|	Справочник.Контрагенты КАК Контрагенты
	|ГДЕ
	|	НЕ Контрагенты.ЭтоГруппа");

ВыборкаДанных = Запрос;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>КонтрагентыКонтрагенты</Код>
					<Наименование>КонтрагентыКонтрагенты</Наименование>
					<Порядок>100</Порядок>
					<КодПравилаКонвертации>Контрагенты_Контрагенты</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	Контрагенты.*
	|ИЗ
	|	Справочник.Контрагенты КАК Контрагенты
	|ГДЕ
	|	НЕ Контрагенты.ЭтоГруппа");

ВыборкаДанных = Запрос;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ДоговорыКонтрагентов</Код>
					<Наименование>ДоговорыКонтрагентов</Наименование>
					<Порядок>150</Порядок>
					<КодПравилаКонвертации>ДоговорыКонтрагентов</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.ДоговорыКонтрагентов</ОбъектВыборки>
					<ПередВыгрузкойОбъекта>Если Объект.ЭтоГруппа 
	Или Объект.ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.Прочее
	Или Объект.ВедениеВзаиморасчетов = Перечисления.ВедениеВзаиморасчетовПоДоговорам.УдалитьПоРасчетнымДокументам
	Или (Параметры.Организации.Количество() &gt; 0 И Параметры.Организации.Найти(Объект.Организация) = Неопределено) Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
				</Правило>
				<Правило Отключить="false">
					<Код>ДоговорСПокупателемСоглашениеСКлиентом</Код>
					<Наименование>ДоговорСПокупателемСоглашениеСКлиентом</Наименование>
					<Порядок>200</Порядок>
					<КодПравилаКонвертации>ДоговорСПокупателемСоглашениеСКлиентом</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ДоговорыКонтрагентов.Ссылка                   КАК Ссылка,
	|	Ложь                                          КАК Типовое,
	|	ДоговорыКонтрагентов.ТипЦен.ЦенаВключаетНДС   КАК ЦенаВключаетНДС,
	|	ДоговорыКонтрагентов.ТипЦен                   КАК ТипЦен,
	|	ДоговорыКонтрагентов.Владелец                 КАК Владелец,
	|	ДоговорыКонтрагентов.Наименование             КАК Наименование,
	|	ДоговорыКонтрагентов.ПометкаУдаления          КАК ПометкаУдаления,
	|	ДоговорыКонтрагентов.ВалютаВзаиморасчетов     КАК ВалютаВзаиморасчетов,
	|	ДоговорыКонтрагентов.РасчетыВУсловныхЕдиницах КАК РасчетыВУсловныхЕдиницах,
	|	ДоговорыКонтрагентов.Комментарий              КАК Комментарий,
	|	ДоговорыКонтрагентов.Организация              КАК Организация,
	|	ДоговорыКонтрагентов.СрокДействия             КАК СрокДействия,
	|	ДоговорыКонтрагентов.Дата                     КАК Дата,
	|	ДоговорыКонтрагентов.Номер                    КАК Номер
	|ИЗ
	|	Справочник.ДоговорыКонтрагентов КАК ДоговорыКонтрагентов
	|		ЛЕВОЕ СОЕДИНЕНИЕ Документ.УсловияПоставокПоДоговорамКонтрагентов КАК УсловияПоставокПоДоговорамКонтрагентов
	|		ПО (УсловияПоставокПоДоговорамКонтрагентов.ДоговорКонтрагента = ДоговорыКонтрагентов.Ссылка)
	|ГДЕ
	|	ДоговорыКонтрагентов.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СПокупателем)
	|	И (НЕ ДоговорыКонтрагентов.ЭтоГруппа)
	|");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = Запрос.Текст + "
	|	И ДоговорыКонтрагентов.Организация В (&amp;МассивОрганизаций) ";
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;	

ВыборкаДанных = Запрос;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ДоговорСКомиссионеромСоглашениеСКлиентом</Код>
					<Наименование>ДоговорСКомиссионеромСоглашениеСКлиентом</Наименование>
					<Порядок>250</Порядок>
					<КодПравилаКонвертации>ДоговорСПокупателемСоглашениеСКомиссионером</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ДоговорыКонтрагентов.Ссылка                                   КАК Ссылка,
	|	Ложь                                                          КАК Типовое,
	|	ДоговорыКонтрагентов.ТипЦен.ЦенаВключаетНДС                   КАК ЦенаВключаетНДС,
	|	ДоговорыКонтрагентов.ТипЦен                                   КАК ТипЦен,
	|	ДоговорыКонтрагентов.Владелец                                 КАК Владелец,
	|	ДоговорыКонтрагентов.Наименование                             КАК Наименование,
	|	ДоговорыКонтрагентов.ПометкаУдаления                          КАК ПометкаУдаления,
	|	ДоговорыКонтрагентов.ВалютаВзаиморасчетов                     КАК ВалютаВзаиморасчетов,
	|	ДоговорыКонтрагентов.РасчетыВУсловныхЕдиницах				  КАК РасчетыВУсловныхЕдиницах,
	|	ДоговорыКонтрагентов.Комментарий                              КАК Комментарий,
	|	ДоговорыКонтрагентов.Организация                              КАК Организация,
	|	ДоговорыКонтрагентов.ПроцентКомиссионногоВознаграждения       КАК ПроцентКомиссионногоВознаграждения,
	|	ДоговорыКонтрагентов.СпособРасчетаКомиссионногоВознаграждения КАК СпособРасчетаКомиссионногоВознаграждения,
	|	ДоговорыКонтрагентов.СрокДействия                             КАК СрокДействия,
	|	ДоговорыКонтрагентов.Дата                                     КАК Дата,
	|	ДоговорыКонтрагентов.Номер                                    КАК Номер
	|ИЗ
	|	Справочник.ДоговорыКонтрагентов КАК ДоговорыКонтрагентов
	|ГДЕ
	|	ДоговорыКонтрагентов.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СКомиссионером)
	|	И (НЕ ДоговорыКонтрагентов.ЭтоГруппа)
	|");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = Запрос.Текст + "
	|	И ДоговорыКонтрагентов.Организация В (&amp;МассивОрганизаций) ";
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;	

ВыборкаДанных = Запрос;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ДоговорСПоставщикомСоглашениеСПоставщиком</Код>
					<Наименование>ДоговорСПоставщикомСоглашениеСПоставщиком</Наименование>
					<Порядок>300</Порядок>
					<КодПравилаКонвертации>ДоговорСПоставщикомСоглашениеСПоставщиком</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ДоговорыКонтрагентов.Ссылка                                   КАК Ссылка,
	|	ДоговорыКонтрагентов.ТипЦен.ЦенаВключаетНДС                   КАК ЦенаВключаетНДС,
	|	ДоговорыКонтрагентов.Владелец                                 КАК Владелец,
	|	ДоговорыКонтрагентов.Наименование                             КАК Наименование,
	|	ДоговорыКонтрагентов.ПометкаУдаления                          КАК ПометкаУдаления,
	|	ДоговорыКонтрагентов.ВалютаВзаиморасчетов                     КАК ВалютаВзаиморасчетов,
	|	ДоговорыКонтрагентов.РасчетыВУсловныхЕдиницах				  КАК РасчетыВУсловныхЕдиницах,
	|	ДоговорыКонтрагентов.Комментарий                              КАК Комментарий,
	|	ДоговорыКонтрагентов.Организация                              КАК Организация,
	|	ДоговорыКонтрагентов.СрокДействия                             КАК СрокДействия,
	|	ДоговорыКонтрагентов.Дата                                     КАК Дата,
	|	ДоговорыКонтрагентов.Номер                                    КАК Номер
	|ИЗ
	|	Справочник.ДоговорыКонтрагентов КАК ДоговорыКонтрагентов
	|ГДЕ
	|	ДоговорыКонтрагентов.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СПоставщиком)
	|	И (НЕ ДоговорыКонтрагентов.ЭтоГруппа)
	|");

Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = Запрос.Текст + "
	|	И ДоговорыКонтрагентов.Организация В (&amp;МассивОрганизаций) ";
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;

ВыборкаДанных = Запрос;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ДоговорСКомитентомСоглашениеСПоставщиком</Код>
					<Наименование>ДоговорСКомитентомСоглашениеСПоставщиком</Наименование>
					<Порядок>350</Порядок>
					<КодПравилаКонвертации>ДоговорСПоставщикомСоглашениеСКомитентом</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ДоговорыКонтрагентов.Ссылка                                   КАК Ссылка,
	|	ДоговорыКонтрагентов.ТипЦен.ЦенаВключаетНДС                   КАК ЦенаВключаетНДС,
	|	ДоговорыКонтрагентов.Владелец                                 КАК Владелец,
	|	ДоговорыКонтрагентов.Наименование                             КАК Наименование,
	|	ДоговорыКонтрагентов.ПометкаУдаления                          КАК ПометкаУдаления,
	|	ДоговорыКонтрагентов.ВалютаВзаиморасчетов                     КАК ВалютаВзаиморасчетов,
	|	ДоговорыКонтрагентов.РасчетыВУсловныхЕдиницах				  КАК РасчетыВУсловныхЕдиницах,
	|	ДоговорыКонтрагентов.Комментарий                              КАК Комментарий,
	|	ДоговорыКонтрагентов.СрокДействия                             КАК СрокДействия,
	|	ДоговорыКонтрагентов.Организация                              КАК Организация,
	|	ДоговорыКонтрагентов.ПроцентКомиссионногоВознаграждения       КАК ПроцентКомиссионногоВознаграждения,
	|	ДоговорыКонтрагентов.СпособРасчетаКомиссионногоВознаграждения КАК СпособРасчетаКомиссионногоВознаграждения,
	|	ДоговорыКонтрагентов.Дата                                     КАК Дата,
	|	ДоговорыКонтрагентов.Номер                                    КАК Номер
	|ИЗ
	|	Справочник.ДоговорыКонтрагентов КАК ДоговорыКонтрагентов
	|ГДЕ
	|	ДоговорыКонтрагентов.ВидДоговора = ЗНАЧЕНИЕ(Перечисление.ВидыДоговоровКонтрагентов.СКомитентом)
	|	И (НЕ ДоговорыКонтрагентов.ЭтоГруппа)
	|");

Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = Запрос.Текст + "
	|	И ДоговорыКонтрагентов.Организация В (&amp;МассивОрганизаций) ";
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;

ВыборкаДанных = Запрос;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>БанковскиеСчета</Код>
					<Наименование>БанковскиеСчета</Наименование>
					<Порядок>400</Порядок>
					<КодПравилаКонвертации>БанковскиеСчетаПолучателей</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	БанковскиеСчета.Ссылка,
	|	БанковскиеСчета.ПометкаУдаления,
	|	БанковскиеСчета.Владелец,
	|	БанковскиеСчета.Код,
	|	БанковскиеСчета.Наименование,
	|	БанковскиеСчета.НомерСчета,
	|	БанковскиеСчета.Банк,
	|	БанковскиеСчета.БанкДляРасчетов,
	|	БанковскиеСчета.ТекстКорреспондента,
	|	БанковскиеСчета.ТекстНазначения,
	|	БанковскиеСчета.ВалютаДенежныхСредств
	|ИЗ
	|	Справочник.БанковскиеСчета КАК БанковскиеСчета
	|ГДЕ
	|	БанковскиеСчета.Владелец ССЫЛКА Справочник.Контрагенты
	|");

ВыборкаДанных = Запрос;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>КонтактныеЛицаКонтрагентов</Код>
					<Наименование>КонтактныеЛицаКонтрагентов</Наименование>
					<Порядок>450</Порядок>
					<КодПравилаКонвертации>КонтактныеЛицаКонтрагентов_КонтактныеЛицаПартнеров</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.КонтактныеЛицаКонтрагентов</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>РолиКонтактныхЛиц</Код>
					<Наименование>РолиКонтактныхЛиц</Наименование>
					<Порядок>500</Порядок>
					<КодПравилаКонвертации>РолиКонтактныхЛиц</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	КонтактныеЛицаКонтрагентов.Должность КАК Наименование
	|ИЗ
	|	Справочник.КонтактныеЛицаКонтрагентов КАК КонтактныеЛицаКонтрагентов
	|ГДЕ
	|	КонтактныеЛицаКонтрагентов.Должность &lt;&gt; """"
	|");

Выборка = Запрос.Выполнить().Выбрать();
Пока Выборка.Следующий() Цикл
	ВыгрузитьПоПравилу(, ,Новый Структура("Наименование", Выборка.Наименование), , "РолиКонтактныхЛиц");
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ГруппыДоступаККонтрагентам</Код>
					<Наименование>ГруппыДоступаККонтрагентам</Наименование>
					<Порядок>550</Порядок>
					<КодПравилаКонвертации>ГруппыДоступаПартнеров</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.ГруппыДоступаККонтрагентам</ОбъектВыборки>
					<ПередВыгрузкойОбъекта>Если Объект.ЭтоГруппа Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>Предприятие</Код>
				<Наименование>Предприятие</Наименование>
				<Порядок>750</Порядок>
				<Правило Отключить="false">
					<Код>Организации</Код>
					<Наименование>Организации</Наименование>
					<Порядок>50</Порядок>
					<КодПравилаКонвертации>Организации</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.Организации</ОбъектВыборки>
					<ПередВыгрузкойОбъекта>Если Параметры.Организации.Количество() &gt; 0 И Параметры.Организации.Найти(Объект) = Неопределено Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
				</Правило>
				<Правило Отключить="false">
					<Код>БанковскиеСчетаОрганизаций</Код>
					<Наименование>БанковскиеСчетаОрганизаций</Наименование>
					<Порядок>100</Порядок>
					<КодПравилаКонвертации>БанковскиеСчетаОрганизаций</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	БанковскиеСчета.Ссылка,
	|	БанковскиеСчета.ПометкаУдаления,
	|	БанковскиеСчета.Владелец,
	|	БанковскиеСчета.Код,
	|	БанковскиеСчета.Наименование,
	|	БанковскиеСчета.НомерСчета,
	|	БанковскиеСчета.Банк,
	|	БанковскиеСчета.БанкДляРасчетов,
	|	БанковскиеСчета.ТекстКорреспондента,
	|	БанковскиеСчета.ТекстНазначения,
	|	БанковскиеСчета.ВалютаДенежныхСредств,
	|	БанковскиеСчета.СуммаБезКопеек КАК ВыводитьСуммуБезКопеек,
	|	ВЫБОР КОГДА БанковскиеСчета.МесяцПрописью ТОГДА
	|		""Прописью""
	|	ИНАЧЕ
	|		""Числом""
	|	КОНЕЦ КАК ВариантВыводаМесяца
	|ИЗ
	|	Справочник.БанковскиеСчета КАК БанковскиеСчета
	|ГДЕ
	|	БанковскиеСчета.Владелец ССЫЛКА Справочник.Организации
	|");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = Запрос.Текст + " И БанковскиеСчета.Владелец В (&amp;МассивОрганизаций)";
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
КонецЕсли;

ВыборкаДанных = Запрос;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>Подразделения</Код>
					<Наименование>Подразделения</Наименование>
					<Порядок>150</Порядок>
					<КодПравилаКонвертации>Подразделения_СтруктураПредприятия</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.Подразделения</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>Кассы</Код>
					<Наименование>Кассы</Наименование>
					<Порядок>200</Порядок>
					<КодПравилаКонвертации>Кассы</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.Кассы</ОбъектВыборки>
					<ПередВыгрузкойОбъекта>Если Параметры.Организации.Количество() &gt; 0 И Параметры.Организации.Найти(Объект.Владелец) = Неопределено Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкойОбъекта>
				</Правило>
				<Правило Отключить="false">
					<Код>КассыККМ</Код>
					<Наименование>КассыККМ</Наименование>
					<Порядок>250</Порядок>
					<КодПравилаКонвертации>КассыККМ</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.КассыККМ</ОбъектВыборки>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>Запрос = Новый Запрос("
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	КассыККМ.Ссылка КАК КассаККМ,
	|	ОтчетОРозничныхПродажах.Склад КАК Склад
	|ПОМЕСТИТЬ КассыИСклады
	|ИЗ
	|	Справочник.КассыККМ КАК КассыККМ
	|		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ОтчетОРозничныхПродажах КАК ОтчетОРозничныхПродажах
	|		ПО КассыККМ.Ссылка = ОтчетОРозничныхПродажах.КассаККМ
	|			И (ОтчетОРозничныхПродажах.Проведен = ИСТИНА)
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	КассаККМ
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	ЕСТЬNULL(КассыИСклады.Склад, ЗНАЧЕНИЕ(Справочник.Склады.ПустаяСсылка)) КАК Склад,
	|	ВЫБОР
	|		КОГДА ТорговоеОборудование.Вид = ЗНАЧЕНИЕ(Перечисление.ВидыТорговогоОборудования.ФискальныйРегистратор)
	|				ИЛИ ТорговоеОборудование.Вид = ЗНАЧЕНИЕ(Перечисление.ВидыТорговогоОборудования.ККМOnline)
	|			ТОГДА ""ФискальныйРегистратор""
	|		КОГДА ТорговоеОборудование.Вид = ЗНАЧЕНИЕ(Перечисление.ВидыТорговогоОборудования.ККМOffline)
	|			ТОГДА ""ККМOffline""
	|		ИНАЧЕ ""АвтономнаяККМ""
	|	КОНЕЦ КАК ТипКассы,
	|	КассыИСклады.КассаККМ.Владелец КАК Владелец,
	|	КассыИСклады.КассаККМ.Наименование КАК Наименование,
	|	КассыИСклады.КассаККМ,
	|	КассыИСклады.КассаККМ.ПометкаУдаления КАК ПометкаУдаления
	|ИЗ
	|	КассыИСклады КАК КассыИСклады
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ТорговоеОборудование КАК ТорговоеОборудование
	|		ПО КассыИСклады.КассаККМ = ТорговоеОборудование.КассаККМ
	|			И (ТорговоеОборудование.Вид = ЗНАЧЕНИЕ(Перечисление.ВидыТорговогоОборудования.ФискальныйРегистратор)
	|				ИЛИ ТорговоеОборудование.Вид = ЗНАЧЕНИЕ(Перечисление.ВидыТорговогоОборудования.ККМOffline)
	|				ИЛИ ТорговоеОборудование.Вид = ЗНАЧЕНИЕ(Перечисление.ВидыТорговогоОборудования.ККМOnline))");
	
Если Параметры.Организации.Количество() &gt; 0 Тогда
	
	Запрос.Текст = Запрос.Текст + " ГДЕ КассыИСклады.КассаККМ.Владелец В (&amp;МассивОрганизаций) ";
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
	
КонецЕсли;	
	
ВыборкаДанных = Запрос.Выполнить().Выгрузить();</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>Склады</Код>
					<Наименование>Склады</Наименование>
					<Порядок>300</Порядок>
					<КодПравилаКонвертации>Склады</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.Склады</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ВыгрузкаОтветственныхЛицОрганизаций</Код>
					<Наименование>ВыгрузкаОтветственныхЛицОрганизаций</Наименование>
					<Порядок>350</Порядок>
					<КодПравилаКонвертации>ОтветственныеЛицаОрганизаций</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ВыбиратьДанныеДляВыгрузкиОднимЗапросом>true</ВыбиратьДанныеДляВыгрузкиОднимЗапросом>
					<ПередОбработкойПравила>ТабВыборки = Новый ТаблицаЗначений;
ТабВыборки.Колонки.Добавить("Владелец");
ТабВыборки.Колонки.Добавить("ДатаНачала");
ТабВыборки.Колонки.Добавить("ДатаОкончания");
ТабВыборки.Колонки.Добавить("ОтветственноеЛицо");
ТабВыборки.Колонки.Добавить("ФизическоеЛицо");
ТабВыборки.Колонки.Добавить("Наименование");

Запрос = Новый Запрос;
Запрос.Текст = "
	|ВЫБРАТЬ
	|	ОтветственныеЛицаОрганизации.СтруктурнаяЕдиница КАК СтруктурнаяЕдиница,
	|	ОтветственныеЛицаОрганизации.ОтветственноеЛицо КАК ОтветственноеЛицо,
	|	ОтветственныеЛицаОрганизации.ФизическоеЛицо КАК ФизическоеЛицо,
	|	ОтветственныеЛицаОрганизации.Должность КАК Должность,
	|	ОтветственныеЛицаОрганизации.Период КАК Период
	|ИЗ
	|	РегистрСведений.ОтветственныеЛицаОрганизации КАК ОтветственныеЛицаОрганизации
	|ГДЕ
	|	ОтветственныеЛицаОрганизации.Период &gt;= &amp;ДатаОстатков
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ОтветственныеЛицаОрганизацииСрезПоследних.СтруктурнаяЕдиница,
	|	ОтветственныеЛицаОрганизацииСрезПоследних.ОтветственноеЛицо,
	|	ОтветственныеЛицаОрганизацииСрезПоследних.ФизическоеЛицо,
	|	ОтветственныеЛицаОрганизацииСрезПоследних.Должность,
	|	ОтветственныеЛицаОрганизацииСрезПоследних.Период
	|ИЗ
	|	РегистрСведений.ОтветственныеЛицаОрганизации.СрезПоследних(&amp;ДатаОстатков, ) КАК ОтветственныеЛицаОрганизацииСрезПоследних
	|
	|УПОРЯДОЧИТЬ ПО
	|	Период УБЫВ,
	|	СтруктурнаяЕдиница
	|ИТОГИ ПО
	|	СтруктурнаяЕдиница,
	|	ОтветственноеЛицо";
	
Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));

Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "&gt;= &amp;ДатаОстатков", 
								"&gt;= &amp;ДатаОстатков И ОтветственныеЛицаОрганизации.СтруктурнаяЕдиница В (&amp;МассивОрганизаций)");
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "КАК ОтветственныеЛицаОрганизацииСрезПоследних", 
								"КАК ОтветственныеЛицаОрганизацииСрезПоследних
								|ГДЕ
								|	ОтветственныеЛицаОрганизацииСрезПоследних.СтруктурнаяЕдиница В (&amp;МассивОрганизаций)");
								
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);							
КонецЕсли;

Результат = Запрос.Выполнить();

ВыборкаОрганизаций = Результат.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаОрганизаций.Следующий() Цикл
	ВыборкаОтвЛиц = ВыборкаОрганизаций.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	Пока ВыборкаОтвЛиц.Следующий() Цикл
		ПредыдущаяДата = ДАТА(1,1,1,0,0,0);
		ВыборкаДетальныеЗаписи = ВыборкаОтвЛиц.Выбрать();
		Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
			НоваяСтрока						= ТабВыборки.Добавить();
			НоваяСтрока.Владелец			= ВыборкаДетальныеЗаписи.СтруктурнаяЕдиница;
			НоваяСтрока.ДатаНачала			= ВыборкаДетальныеЗаписи.Период;
			НоваяСтрока.ДатаОкончания		= ПредыдущаяДата;
			ПредыдущаяДата					= ВыборкаДетальныеЗаписи.Период;
			НоваяСтрока.ОтветственноеЛицо	= ВыборкаДетальныеЗаписи.ОтветственноеЛицо;
			НоваяСтрока.ФизическоеЛицо		= ВыборкаДетальныеЗаписи.ФизическоеЛицо;
			НоваяСтрока.Наименование		= ВыборкаДетальныеЗаписи.ФизическоеЛицо.Наименование;
		КонецЦикла;
	КонецЦикла;
КонецЦикла;

ВыборкаДанных = ТабВыборки;</ПередОбработкойПравила>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>ПрисоединенныеФайлыОбъектов</Код>
				<Наименование>ПрисоединенныеФайлыОбъектов</Наименование>
				<Порядок>800</Порядок>
				<Правило Отключить="false">
					<Код>ПрисоединенныеФайлыДоговоровСПокупателями</Код>
					<Наименование>ПрисоединенныеФайлыДоговоровСПокупателями</Наименование>
					<Порядок>1450</Порядок>
					<КодПравилаКонвертации>ФайлыСоглашенийСКлиентами</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.ХранилищеДополнительнойИнформации</ОбъектВыборки>
					<Описание>Перенос присоединенных файлов договоров с покупателями и комиссионерами.
При переносе файлы будут прикреплены к соответствующим соглашениям с клиентами.</Описание>
					<ПередОбработкойПравила>ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Ссылка");
ВыборкаДанных.Колонки.Добавить("Объект");
ВыборкаДанных.Колонки.Добавить("Наименование");
ВыборкаДанных.Колонки.Добавить("ИмяФайла");
ВыборкаДанных.Колонки.Добавить("Хранилище");
ВыборкаДанных.Колонки.Добавить("ПометкаУдаления");
ВыборкаДанных.Колонки.Добавить("ВидДанных");
ВыборкаДанных.Колонки.Добавить("ВидДоговора");

Запрос = Новый Запрос("ВЫБРАТЬ
                      |	ХранилищеДополнительнойИнформации.Ссылка,
                      |	ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Объект КАК Справочник.ДоговорыКонтрагентов) КАК Объект,
                      |	ВЫБОР
                      |		КОГДА (ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Наименование КАК СТРОКА(100))) = (ВЫРАЗИТЬ("""" КАК СТРОКА(100)))
                      |			ТОГДА ВЫБОР
                      |					КОГДА (ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.ИмяФайла КАК СТРОКА(145))) = (ВЫРАЗИТЬ("""" КАК СТРОКА(145)))
                      |						ТОГДА ""Изображение""
                      |					ИНАЧЕ ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.ИмяФайла КАК СТРОКА(145))
                      |				КОНЕЦ
                      |		ИНАЧЕ ХранилищеДополнительнойИнформации.Наименование
                      |	КОНЕЦ КАК Наименование,
                      |	ХранилищеДополнительнойИнформации.ИмяФайла,
                      |	ХранилищеДополнительнойИнформации.Хранилище,
                      |	ХранилищеДополнительнойИнформации.ПометкаУдаления,
                      |	ХранилищеДополнительнойИнформации.ВидДанных,
                      |	ВЫБОР
                      |		КОГДА ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Объект КАК Справочник.ДоговорыКонтрагентов) ЕСТЬ NULL 
                      |			ТОГДА NULL
                      |		ИНАЧЕ ХранилищеДополнительнойИнформации.Объект.ВидДоговора
                      |	КОНЕЦ КАК ВидДоговора
                      |ИЗ
                      |	Справочник.ХранилищеДополнительнойИнформации КАК ХранилищеДополнительнойИнформации
                      |ГДЕ
                      |	ХранилищеДополнительнойИнформации.Объект &lt;&gt; НЕОПРЕДЕЛЕНО
                      |	И (НЕ ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Объект КАК Справочник.ДоговорыКонтрагентов) ЕСТЬ NULL )
                      |	И (ВЫБОР
                      |				КОГДА ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Объект КАК Справочник.ДоговорыКонтрагентов) ЕСТЬ NULL 
                      |					ТОГДА NULL
                      |				ИНАЧЕ ХранилищеДополнительнойИнформации.Объект.ВидДоговора
                      |			КОНЕЦ = &amp;ВидДоговораСПокупателем
                      |			ИЛИ ВЫБОР
                      |				КОГДА ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Объект КАК Справочник.ДоговорыКонтрагентов) ЕСТЬ NULL 
                      |					ТОГДА NULL
                      |				ИНАЧЕ ХранилищеДополнительнойИнформации.Объект.ВидДоговора
                      |			КОНЕЦ = &amp;ВидДоговораСКомиссионером)
                      |ИТОГИ ПО
                      |	Объект,
                      |	Наименование");
					  
Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "&amp;ВидДоговораСКомиссионером)", 
								"&amp;ВидДоговораСКомиссионером) 
								|И  ХранилищеДополнительнойИнформации.Объект.Организация В (&amp;МассивОрганизаций)");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);							
КонецЕсли;

Запрос.УстановитьПараметр("ВидДоговораСПокупателем", Перечисления.ВидыДоговоровКонтрагентов.СПокупателем);
Запрос.УстановитьПараметр("ВидДоговораСКомиссионером", Перечисления.ВидыДоговоровКонтрагентов.СКомиссионером);

ВыборкаОбъект = Запрос.Выполнить().Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаОбъект.Следующий() Цикл
	
	ВыборкаНаименование = ВыборкаОбъект.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	Пока ВыборкаНаименование.Следующий() Цикл
		
		НомерДляПостфикса = 0;
		ВыборкаФайл = ВыборкаНаименование.Выбрать();
		Пока ВыборкаФайл.Следующий() Цикл
			
			НоваяСтрока = ВыборкаДанных.Добавить();
			ЗаполнитьЗначенияСвойств(НоваяСтрока, ВыборкаФайл);
			
			НоваяСтрока.Наименование = СокрЛП(ВыборкаФайл.Наименование) + ?(НомерДляПостфикса = 0, "", " (" + НомерДляПостфикса + ")");
			
			НомерДляПостфикса = НомерДляПостфикса + 1;
			
		КонецЦикла;
		
	КонецЦикла;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ПрисоединенныеФайлыДоговоровСПоставщиками</Код>
					<Наименование>ПрисоединенныеФайлыДоговоровСПоставщиками</Наименование>
					<Порядок>1450</Порядок>
					<КодПравилаКонвертации>ФайлыСоглашенийСПоставщиками</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.ХранилищеДополнительнойИнформации</ОбъектВыборки>
					<Описание>Перенос присоединенных файлов договоров с поставщиками и комитентами.
При переносе файлы будут прикреплены к соответствующим соглашениям с поставщиками.</Описание>
					<ПередОбработкойПравила>ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Ссылка");
ВыборкаДанных.Колонки.Добавить("Объект");
ВыборкаДанных.Колонки.Добавить("Наименование");
ВыборкаДанных.Колонки.Добавить("ИмяФайла");
ВыборкаДанных.Колонки.Добавить("Хранилище");
ВыборкаДанных.Колонки.Добавить("ПометкаУдаления");
ВыборкаДанных.Колонки.Добавить("ВидДанных");
ВыборкаДанных.Колонки.Добавить("ВидДоговора");

Запрос = Новый Запрос("ВЫБРАТЬ
                      |	ХранилищеДополнительнойИнформации.Ссылка,
                      |	ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Объект КАК Справочник.ДоговорыКонтрагентов) КАК Объект,
                      |	ВЫБОР
                      |		КОГДА (ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Наименование КАК СТРОКА(100))) = (ВЫРАЗИТЬ("""" КАК СТРОКА(100)))
                      |			ТОГДА ВЫБОР
                      |					КОГДА (ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.ИмяФайла КАК СТРОКА(145))) = (ВЫРАЗИТЬ("""" КАК СТРОКА(145)))
                      |						ТОГДА ""Изображение""
                      |					ИНАЧЕ ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.ИмяФайла КАК СТРОКА(145))
                      |				КОНЕЦ
                      |		ИНАЧЕ ХранилищеДополнительнойИнформации.Наименование
                      |	КОНЕЦ КАК Наименование,
                      |	ХранилищеДополнительнойИнформации.ИмяФайла,
                      |	ХранилищеДополнительнойИнформации.Хранилище,
                      |	ХранилищеДополнительнойИнформации.ПометкаУдаления,
                      |	ХранилищеДополнительнойИнформации.ВидДанных,
                      |	ВЫБОР
                      |		КОГДА ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Объект КАК Справочник.ДоговорыКонтрагентов) ЕСТЬ NULL 
                      |			ТОГДА NULL
                      |		ИНАЧЕ ХранилищеДополнительнойИнформации.Объект.ВидДоговора
                      |	КОНЕЦ КАК ВидДоговора
                      |ИЗ
                      |	Справочник.ХранилищеДополнительнойИнформации КАК ХранилищеДополнительнойИнформации
                      |ГДЕ
                      |	ХранилищеДополнительнойИнформации.Объект &lt;&gt; НЕОПРЕДЕЛЕНО
                      |	И (НЕ ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Объект КАК Справочник.ДоговорыКонтрагентов) ЕСТЬ NULL )
                      |	И (ВЫБОР
                      |				КОГДА ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Объект КАК Справочник.ДоговорыКонтрагентов) ЕСТЬ NULL 
                      |					ТОГДА NULL
                      |				ИНАЧЕ ХранилищеДополнительнойИнформации.Объект.ВидДоговора
                      |			КОНЕЦ = &amp;ВидДоговораСПоставщиком
                      |			ИЛИ ВЫБОР
                      |				КОГДА ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Объект КАК Справочник.ДоговорыКонтрагентов) ЕСТЬ NULL 
                      |					ТОГДА NULL
                      |				ИНАЧЕ ХранилищеДополнительнойИнформации.Объект.ВидДоговора
                      |			КОНЕЦ = &amp;ВидДоговораСКомитентом)
                      |ИТОГИ ПО
                      |	Объект,
                      |	Наименование");

Запрос.УстановитьПараметр("ВидДоговораСПоставщиком", Перечисления.ВидыДоговоровКонтрагентов.СПоставщиком);
Запрос.УстановитьПараметр("ВидДоговораСКомитентом", Перечисления.ВидыДоговоровКонтрагентов.СКомитентом);

Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "&amp;ВидДоговораСКомитентом)", 
								"&amp;ВидДоговораСКомитентом) 
								|И  ХранилищеДополнительнойИнформации.Объект.Организация В (&amp;МассивОрганизаций)");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);							
КонецЕсли;

ВыборкаОбъект = Запрос.Выполнить().Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаОбъект.Следующий() Цикл
	
	ВыборкаНаименование = ВыборкаОбъект.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	Пока ВыборкаНаименование.Следующий() Цикл
		
		НомерДляПостфикса = 0;
		ВыборкаФайл = ВыборкаНаименование.Выбрать();
		Пока ВыборкаФайл.Следующий() Цикл
			
			НоваяСтрока = ВыборкаДанных.Добавить();
			ЗаполнитьЗначенияСвойств(НоваяСтрока, ВыборкаФайл);
			
			НоваяСтрока.Наименование = СокрЛП(ВыборкаФайл.Наименование) + ?(НомерДляПостфикса = 0, "", " (" + НомерДляПостфикса + ")");
			
			НомерДляПостфикса = НомерДляПостфикса + 1;
			
		КонецЦикла;
		
	КонецЦикла;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ПрисоединенныеФайлыКонтрагентов</Код>
					<Наименование>ПрисоединенныеФайлыКонтрагентов</Наименование>
					<Порядок>1450</Порядок>
					<КодПравилаКонвертации>ФайлыПартнеров</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.ХранилищеДополнительнойИнформации</ОбъектВыборки>
					<Описание>Перенос присоединенных файлов контрагентов.
При переносе файлы будут прикреплены к соответствующим партнерам.</Описание>
					<ПередОбработкойПравила>ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Ссылка");
ВыборкаДанных.Колонки.Добавить("Объект");
ВыборкаДанных.Колонки.Добавить("Наименование");
ВыборкаДанных.Колонки.Добавить("ИмяФайла");
ВыборкаДанных.Колонки.Добавить("Хранилище");
ВыборкаДанных.Колонки.Добавить("ПометкаУдаления");
ВыборкаДанных.Колонки.Добавить("ВидДанных");

Запрос = Новый Запрос("ВЫБРАТЬ
                      |	ХранилищеДополнительнойИнформации.Ссылка,
                      |	ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Объект КАК Справочник.Контрагенты) КАК Объект,
                      |	ВЫБОР
                      |		КОГДА (ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Наименование КАК СТРОКА(100))) = (ВЫРАЗИТЬ("""" КАК СТРОКА(100)))
                      |			ТОГДА ВЫБОР
                      |					КОГДА (ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.ИмяФайла КАК СТРОКА(145))) = (ВЫРАЗИТЬ("""" КАК СТРОКА(145)))
                      |						ТОГДА ""Изображение""
                      |					ИНАЧЕ ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.ИмяФайла КАК СТРОКА(145))
                      |				КОНЕЦ
                      |		ИНАЧЕ ХранилищеДополнительнойИнформации.Наименование
                      |	КОНЕЦ КАК Наименование,
                      |	ХранилищеДополнительнойИнформации.ИмяФайла,
                      |	ХранилищеДополнительнойИнформации.Хранилище,
                      |	ХранилищеДополнительнойИнформации.ПометкаУдаления,
                      |	ХранилищеДополнительнойИнформации.ВидДанных
                      |ИЗ
                      |	Справочник.ХранилищеДополнительнойИнформации КАК ХранилищеДополнительнойИнформации
                      |ГДЕ
                      |	ХранилищеДополнительнойИнформации.Объект &lt;&gt; НЕОПРЕДЕЛЕНО
                      |	И (НЕ ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Объект КАК Справочник.Контрагенты) ЕСТЬ NULL )
                      |ИТОГИ ПО
                      |	Объект,
                      |	Наименование");

ВыборкаОбъект = Запрос.Выполнить().Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаОбъект.Следующий() Цикл
	
	ВыборкаНаименование = ВыборкаОбъект.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	Пока ВыборкаНаименование.Следующий() Цикл
		
		НомерДляПостфикса = 0;
		ВыборкаФайл = ВыборкаНаименование.Выбрать();
		Пока ВыборкаФайл.Следующий() Цикл
			
			НоваяСтрока = ВыборкаДанных.Добавить();
			ЗаполнитьЗначенияСвойств(НоваяСтрока, ВыборкаФайл);
			
			НоваяСтрока.Наименование = СокрЛП(ВыборкаФайл.Наименование) + ?(НомерДляПостфикса = 0, "", " (" + НомерДляПостфикса + ")");
			
			НомерДляПостфикса = НомерДляПостфикса + 1;
			
		КонецЦикла;
		
	КонецЦикла;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ПрисоединенныеФайлыНоменклатуры</Код>
					<Наименование>ПрисоединенныеФайлыНоменклатуры</Наименование>
					<Порядок>1450</Порядок>
					<КодПравилаКонвертации>ФайлыНоменклатуры</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.ХранилищеДополнительнойИнформации</ОбъектВыборки>
					<Описание>Перенос присоединенных файлов номенклатуры</Описание>
					<ПередОбработкойПравила>ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Ссылка");
ВыборкаДанных.Колонки.Добавить("Объект");
ВыборкаДанных.Колонки.Добавить("Наименование");
ВыборкаДанных.Колонки.Добавить("ИмяФайла");
ВыборкаДанных.Колонки.Добавить("Хранилище");
ВыборкаДанных.Колонки.Добавить("ПометкаУдаления");
ВыборкаДанных.Колонки.Добавить("ВидДанных");

Запрос = Новый Запрос("ВЫБРАТЬ
                      |	ХранилищеДополнительнойИнформации.Ссылка,
                      |	ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Объект КАК Справочник.Номенклатура) КАК Объект,
                      |	ВЫБОР
                      |		КОГДА (ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Наименование КАК СТРОКА(100))) = (ВЫРАЗИТЬ("""" КАК СТРОКА(100)))
                      |			ТОГДА ВЫБОР
                      |					КОГДА (ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.ИмяФайла КАК СТРОКА(145))) = (ВЫРАЗИТЬ("""" КАК СТРОКА(145)))
                      |						ТОГДА ""Изображение""
                      |					ИНАЧЕ ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.ИмяФайла КАК СТРОКА(145))
                      |				КОНЕЦ
                      |		ИНАЧЕ ХранилищеДополнительнойИнформации.Наименование
                      |	КОНЕЦ КАК Наименование,
                      |	ХранилищеДополнительнойИнформации.ИмяФайла,
                      |	ХранилищеДополнительнойИнформации.Хранилище,
                      |	ХранилищеДополнительнойИнформации.ПометкаУдаления,
                      |	ХранилищеДополнительнойИнформации.ВидДанных
                      |ИЗ
                      |	Справочник.ХранилищеДополнительнойИнформации КАК ХранилищеДополнительнойИнформации
                      |ГДЕ
                      |	ХранилищеДополнительнойИнформации.Объект &lt;&gt; НЕОПРЕДЕЛЕНО
                      |	И (НЕ ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Объект КАК Справочник.Номенклатура) ЕСТЬ NULL )
                      |ИТОГИ ПО
                      |	Объект,
                      |	Наименование");
					  
ВыборкаОбъект = Запрос.Выполнить().Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаОбъект.Следующий() Цикл
	
	ВыборкаНаименование = ВыборкаОбъект.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	Пока ВыборкаНаименование.Следующий() Цикл
		
		НомерДляПостфикса = 0;
		ВыборкаФайл = ВыборкаНаименование.Выбрать();
		Пока ВыборкаФайл.Следующий() Цикл
			
			НоваяСтрока = ВыборкаДанных.Добавить();
			ЗаполнитьЗначенияСвойств(НоваяСтрока, ВыборкаФайл);
			
			НоваяСтрока.Наименование = СокрЛП(ВыборкаФайл.Наименование) + ?(НомерДляПостфикса = 0, "", " (" + НомерДляПостфикса + ")");
			
			НомерДляПостфикса = НомерДляПостфикса + 1;
		
		КонецЦикла;
		
	КонецЦикла;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ПрисоединенныеФайлыПроектов</Код>
					<Наименование>ПрисоединенныеФайлыПроектов</Наименование>
					<Порядок>1450</Порядок>
					<КодПравилаКонвертации>ФайлыПроектов</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.ХранилищеДополнительнойИнформации</ОбъектВыборки>
					<Описание>Перенос присоединенных файлов проектов.</Описание>
					<ПередОбработкойПравила>ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Ссылка");
ВыборкаДанных.Колонки.Добавить("Объект");
ВыборкаДанных.Колонки.Добавить("Наименование");
ВыборкаДанных.Колонки.Добавить("ИмяФайла");
ВыборкаДанных.Колонки.Добавить("Хранилище");
ВыборкаДанных.Колонки.Добавить("ПометкаУдаления");
ВыборкаДанных.Колонки.Добавить("ВидДанных");
																					 

Запрос = Новый Запрос("ВЫБРАТЬ
                      |	ХранилищеДополнительнойИнформации.Ссылка,
                      |	ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Объект КАК Справочник.Проекты) КАК Объект,
                      |	ВЫБОР
                      |		КОГДА (ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Наименование КАК СТРОКА(100))) = (ВЫРАЗИТЬ("""" КАК СТРОКА(100)))
                      |			ТОГДА ВЫБОР
                      |					КОГДА (ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.ИмяФайла КАК СТРОКА(145))) = (ВЫРАЗИТЬ("""" КАК СТРОКА(145)))
                      |						ТОГДА ""Изображение""
                      |					ИНАЧЕ ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.ИмяФайла КАК СТРОКА(145))
                      |				КОНЕЦ
                      |		ИНАЧЕ ХранилищеДополнительнойИнформации.Наименование
                      |	КОНЕЦ КАК Наименование,
                      |	ХранилищеДополнительнойИнформации.ИмяФайла,
                      |	ХранилищеДополнительнойИнформации.Хранилище,
                      |	ХранилищеДополнительнойИнформации.ПометкаУдаления,
                      |	ХранилищеДополнительнойИнформации.ВидДанных
                      |ИЗ
                      |	Справочник.ХранилищеДополнительнойИнформации КАК ХранилищеДополнительнойИнформации
                      |ГДЕ
                      |	ХранилищеДополнительнойИнформации.Объект &lt;&gt; НЕОПРЕДЕЛЕНО
                      |	И (НЕ ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Объект КАК Справочник.Проекты) ЕСТЬ NULL )
                      |ИТОГИ ПО
                      |	Объект,
                      |	Наименование");

ВыборкаОбъект = Запрос.Выполнить().Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаОбъект.Следующий() Цикл
	
	ВыборкаНаименование = ВыборкаОбъект.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	Пока ВыборкаНаименование.Следующий() Цикл
		
		НомерДляПостфикса = 0;
		ВыборкаФайл = ВыборкаНаименование.Выбрать();
		Пока ВыборкаФайл.Следующий() Цикл
			
			НоваяСтрока = ВыборкаДанных.Добавить();
			ЗаполнитьЗначенияСвойств(НоваяСтрока, ВыборкаФайл);
			
			НоваяСтрока.Наименование = СокрЛП(ВыборкаФайл.Наименование) + ?(НомерДляПостфикса = 0, "", " (" + НомерДляПостфикса + ")");
			
			НомерДляПостфикса = НомерДляПостфикса + 1;
			
		КонецЦикла;
		
	КонецЦикла;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
				<Правило Отключить="false">
					<Код>ПрисоединенныеФайлыФизическихЛиц</Код>
					<Наименование>ПрисоединенныеФайлыФизическихЛиц</Наименование>
					<Порядок>1450</Порядок>
					<КодПравилаКонвертации>ФайлыФизическихЛиц</КодПравилаКонвертации>
					<СпособОтбораДанных>ПроизвольныйАлгоритм</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.ХранилищеДополнительнойИнформации</ОбъектВыборки>
					<Описание>Перенос присоединенных файлов физических лиц.</Описание>
					<ПередОбработкойПравила>ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Ссылка");
ВыборкаДанных.Колонки.Добавить("Объект");
ВыборкаДанных.Колонки.Добавить("Наименование");
ВыборкаДанных.Колонки.Добавить("ИмяФайла");
ВыборкаДанных.Колонки.Добавить("Хранилище");
ВыборкаДанных.Колонки.Добавить("ПометкаУдаления");
ВыборкаДанных.Колонки.Добавить("ВидДанных");
																					 
Запрос = Новый Запрос("ВЫБРАТЬ
                      |	ХранилищеДополнительнойИнформации.Ссылка,
                      |	ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Объект КАК Справочник.ФизическиеЛица) КАК Объект,
                      |	ВЫБОР
                      |		КОГДА (ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Наименование КАК СТРОКА(100))) = (ВЫРАЗИТЬ("""" КАК СТРОКА(100)))
                      |			ТОГДА ВЫБОР
                      |					КОГДА (ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.ИмяФайла КАК СТРОКА(145))) = (ВЫРАЗИТЬ("""" КАК СТРОКА(145)))
                      |						ТОГДА ""Изображение""
                      |					ИНАЧЕ ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.ИмяФайла КАК СТРОКА(145))
                      |				КОНЕЦ
                      |		ИНАЧЕ ХранилищеДополнительнойИнформации.Наименование
                      |	КОНЕЦ КАК Наименование,
                      |	ХранилищеДополнительнойИнформации.ИмяФайла,
                      |	ХранилищеДополнительнойИнформации.Хранилище,
                      |	ХранилищеДополнительнойИнформации.ПометкаУдаления,
                      |	ХранилищеДополнительнойИнформации.ВидДанных
                      |ИЗ
                      |	Справочник.ХранилищеДополнительнойИнформации КАК ХранилищеДополнительнойИнформации
                      |ГДЕ
                      |	ХранилищеДополнительнойИнформации.Объект &lt;&gt; НЕОПРЕДЕЛЕНО
                      |	И (НЕ ВЫРАЗИТЬ(ХранилищеДополнительнойИнформации.Объект КАК Справочник.ФизическиеЛица) ЕСТЬ NULL )
                      |ИТОГИ ПО
                      |	Объект,
                      |	Наименование");

ВыборкаОбъект = Запрос.Выполнить().Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаОбъект.Следующий() Цикл
	
	ВыборкаНаименование = ВыборкаОбъект.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	Пока ВыборкаНаименование.Следующий() Цикл
		
		НомерДляПостфикса = 0;
		ВыборкаФайл = ВыборкаНаименование.Выбрать();
		Пока ВыборкаФайл.Следующий() Цикл
			
			НоваяСтрока = ВыборкаДанных.Добавить();
			ЗаполнитьЗначенияСвойств(НоваяСтрока, ВыборкаФайл);
			
			НоваяСтрока.Наименование = СокрЛП(ВыборкаФайл.Наименование) + ?(НомерДляПостфикса = 0, "", " (" + НомерДляПостфикса + ")");
			
			НомерДляПостфикса = НомерДляПостфикса + 1;
			
		КонецЦикла;
		
	КонецЦикла;
	
КонецЦикла;</ПередОбработкойПравила>
				</Правило>
			</Группа>
			<Группа Отключить="false">
				<Код>Прочее</Код>
				<Наименование>Прочее</Наименование>
				<Порядок>850</Порядок>
				<Правило Отключить="false">
					<Код>СтатьиДвиженияДенежныхСредств</Код>
					<Наименование>СтатьиДвиженияДенежныхСредств</Наименование>
					<Порядок>400</Порядок>
					<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.СтатьиДвиженияДенежныхСредств</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>СтатьиЗатрат</Код>
					<Наименование>СтатьиЗатрат</Наименование>
					<Порядок>450</Порядок>
					<КодПравилаКонвертации>СтатьиРасходов</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.СтатьиЗатрат</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>Пользователи</Код>
					<Наименование>Пользователи</Наименование>
					<Порядок>500</Порядок>
					<КодПравилаКонвертации>Пользователи</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.Пользователи</ОбъектВыборки>
					<ПередВыгрузкойОбъекта>Если Объект.ЭтоГруппа Тогда
	ИмяПКО = "ГруппыПользователей";
Иначе
	ИмяПКО = "Пользователи";	
КонецЕсли;</ПередВыгрузкойОбъекта>
				</Правило>
				<Правило Отключить="false">
					<Код>УчетныеЗаписиЭлектроннойПочты</Код>
					<Наименование>УчетныеЗаписиЭлектроннойПочты</Наименование>
					<Порядок>600</Порядок>
					<КодПравилаКонвертации>УчетныеЗаписиЭлектроннойПочты</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.УчетныеЗаписиЭлектроннойПочты</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ВидыКонтактнойИнформации</Код>
					<Наименование>ВидыКонтактнойИнформации</Наименование>
					<Порядок>650</Порядок>
					<КодПравилаКонвертации>ВидыКонтактнойИнформацииВсе</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.ВидыКонтактнойИнформации</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>Проекты</Код>
					<Наименование>Проекты</Наименование>
					<Порядок>700</Порядок>
					<КодПравилаКонвертации>Проекты</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.Проекты</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ПричиныЗакрытияЗаказов</Код>
					<Наименование>ПричиныЗакрытияЗаказов</Наименование>
					<Порядок>750</Порядок>
					<КодПравилаКонвертации>ПричиныЗакрытияЗаказов_ПричиныОтменыЗаказов</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.ПричиныЗакрытияЗаказов</ОбъектВыборки>
				</Правило>
				<Правило Отключить="false">
					<Код>ПричиныОтменыЗаказовПоставщикам</Код>
					<Наименование>ПричиныОтменыЗаказовПоставщикам</Наименование>
					<Порядок>800</Порядок>
					<КодПравилаКонвертации>ПричиныЗакрытияЗаказов_ПричиныОтменыЗаказовПоставщ</КодПравилаКонвертации>
					<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
					<ОбъектВыборки>СправочникСсылка.ПричиныЗакрытияЗаказов</ОбъектВыборки>
				</Правило>
			</Группа>
		</Группа>
	</ПравилаВыгрузкиДанных>
	<ПравилаОчисткиДанных/>
	<Алгоритмы>
		<Группа Имя="Выгрузка">
			<Алгоритм Имя="ВходящиеДанныеНоменклатуры" ИспользуетсяПриЗагрузке="false">
				<Текст>Если Не ЗначениеЗаполнено(ВходящиеДанные) Тогда
	ВходящиеДанные = Новый Структура;
КонецЕсли;

ВходящиеДанные.Вставить("ТипНоменклатуры");

Если Параметры.ТабНоменклатурыТары.Найти(Источник.Ссылка, "Номенклатура") = Неопределено Тогда
	ВходящиеДанные.ТипНоменклатуры = ОбщегоНазначения.ПолучитьЗначениеРеквизита(Источник.ВидНоменклатуры, "ТипНоменклатуры");
Иначе
	ВходящиеДанные.ТипНоменклатуры = "МногооборотнаяТара";
КонецЕсли;

ПараметрыПоиска = Новый Структура("Номенклатура", Источник);
НайденныеСтроки = Параметры.ТабАлкогольнаяПродукцияНоменклатуры.НайтиСтроки(ПараметрыПоиска);

Если НайденныеСтроки.Количество() &gt; 0 Тогда
	ВходящиеДанные.Вставить("АлкогольнаяПродукция",    НайденныеСтроки[0].АлкогольнаяПродукция);
	ВходящиеДанные.Вставить("ВидАлкогольнойПродукции", НайденныеСтроки[0].ВидАлкогольнойПродукции);
	ВходящиеДанные.Вставить("ВестиУчетПоГТД",          НайденныеСтроки[0].ВестиУчетПоГТД);
Иначе
	// ВидАлкогольнойПродукции и АлкогольнаяПродукция
	Запрос = Новый Запрос;
	Запрос.Текст = "
		|ВЫБРАТЬ
		|	СведенияОбАлкогольнойПродукции.ВидПродукции,
		|	СведенияОбАлкогольнойПродукции.ВидЛицензии
		|ИЗ
		|	РегистрСведений.СведенияОбАлкогольнойПродукции КАК СведенияОбАлкогольнойПродукции
		|ГДЕ
		|	СведенияОбАлкогольнойПродукции.Номенклатура = &amp;Номенклатура";
		
	Запрос.УстановитьПараметр("Номенклатура", Источник.Ссылка);

	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		ВходящиеДанные.Вставить("АлкогольнаяПродукция", Истина);
		ВходящиеДанные.Вставить("ВидАлкогольнойПродукции", Выборка.ВидПродукции);
	Иначе
		ВходящиеДанные.Вставить("АлкогольнаяПродукция", Ложь);
		ВходящиеДанные.Вставить("ВидАлкогольнойПродукции", Справочники.ВидыАлкогольнойПродукции.ПустаяСсылка());
	КонецЕсли;

	// Вести учет по ГТД
	Запрос = Новый Запрос("
	|ВЫБРАТЬ ПЕРВЫЕ 1
	|	1
	|ИЗ
	|	Справочник.СерииНоменклатуры КАК СерииНоменклатуры
	|ГДЕ
	|	СерииНоменклатуры.НомерГТД &lt;&gt; ЗНАЧЕНИЕ(Справочник.НомераГТД.ПустаяСсылка)
	|	И СерииНоменклатуры.Владелец = &amp;Номенклатура
	|");

	Запрос.УстановитьПараметр("Номенклатура", Источник.Ссылка);

	ВходящиеДанные.Вставить("ВестиУчетПоГТД", Не Запрос.Выполнить().Пустой());
	
	НоваяСтрокаАлко = Параметры.ТабАлкогольнаяПродукцияНоменклатуры.Добавить();
	НоваяСтрокаАлко.Номенклатура            = Источник;
	НоваяСтрокаАлко.АлкогольнаяПродукция    = ВходящиеДанные.АлкогольнаяПродукция;
	НоваяСтрокаАлко.ВестиУчетПоГТД          = ВходящиеДанные.ВестиУчетПоГТД;
	НоваяСтрокаАлко.ВидАлкогольнойПродукции = ВходящиеДанные.ВидАлкогольнойПродукции;

КонецЕсли;</Текст>
				<Параметры>Источник, ВходящиеДанные</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьСтруктуруДанныхПервичногоДокумента" ИспользуетсяПриЗагрузке="false">
				<Текст>ПервичныйДокумент.Организация              = Источник.Организация;
ПервичныйДокумент.Контрагент               = ОбъектКоллекции.Контрагент;
ПервичныйДокумент.Валюта                   = ОбъектКоллекции.ВалютаВзаиморасчетов;
ПервичныйДокумент.ДатаВходящегоДокумента   = ОбъектКоллекции.ДатаРасчетногоДокумента;
ПервичныйДокумент.НомерВходящегоДокумента  = ОбъектКоллекции.НомерРасчетногоДокумента;
ПервичныйДокумент.СуммаДокумента           = ОбъектКоллекции.Сумма;
ПервичныйДокумент.СуммаРегл                = ОбъектКоллекции.СуммаРегл;

ОбъектРасчетов = ОбъектКоллекции.ОбъектРасчетов;
Если ТипЗнч(ОбъектРасчетов) = Тип("СправочникСсылка.ДоговорыКонтрагентов") Тогда
	ПервичныйДокумент.Договор = ОбъектРасчетов;
	ПервичныйДокумент.Комментарий = СокрЛП(ОбъектРасчетов);
ИначеЕсли ТипЗнч(ОбъектРасчетов) = Тип("ДокументСсылка.ЗаказПокупателя") Тогда
	ПервичныйДокумент.ПорядокРасчетов = "ПоЗаказамНакладным";
	ПервичныйДокумент.Комментарий = СокрЛП(ОбъектРасчетов);
КонецЕсли;

Если НЕ ОбъектКоллекции.Владелец().Колонки.Найти("ДокументРасчетовСКонтрагентом") = Неопределено
	И ЗначениеЗаполнено(ОбъектКоллекции.ДокументРасчетовСКонтрагентом) Тогда
	
	ДокументРасчетовСКонтрагентом = ОбъектКоллекции.ДокументРасчетовСКонтрагентом;	

	ПервичныйДокумент.Комментарий = СокрЛП(ДокументРасчетовСКонтрагентом);
	ТипДокумента = ТипЗнч(ДокументРасчетовСКонтрагентом);

	Если ТипДокумента = Тип("ДокументСсылка.ПоступлениеДопРасходов")
		Или ТипДокумента = Тип("ДокументСсылка.ПоступлениеТоваровУслуг")
		Или ТипДокумента = Тип("ДокументСсылка.КорректировкаПоступления") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ВалютаДокумента, ДоговорКонтрагента, СуммаДокумента, ДатаВходящегоДокумента, НомерВходящегоДокумента, Дата, Номер");
		ПервичныйДокумент.ТипПервичногоДокумента = "ПриобретениеУПоставщика";
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.ВозвратТоваровПоставщику")
		Или ТипДокумента = Тип("ДокументСсылка.ОтчетКомитентуОПродажах")
		Или ТипДокумента = Тип("ДокументСсылка.ОтражениеНДСКВычету")
		Или ТипДокумента = Тип("ДокументСсылка.ПоступлениеИзПереработки")
		Или ТипДокумента = Тип("ДокументСсылка.ПоступлениеНМА") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ВалютаДокумента, ДоговорКонтрагента, СуммаДокумента, Дата, Номер");
		ПервичныйДокумент.ТипПервичногоДокумента = "ПриобретениеУПоставщика";
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.ГТДИмпорт") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ВалютаДокумента, ДоговорКонтрагента, ТаможенныйСбор, ТаможенныйШтраф, Дата, Номер");
		ЗаполнитьЗначенияСвойств(ПервичныйДокумент, ДанныеПервичногоДокумента);
		ПервичныйДокумент.ТипПервичногоДокумента = "ПриобретениеУПоставщика";
		ПервичныйДокумент.СуммаДокумента = ДанныеПервичногоДокумента.ТаможенныйСбор + ДанныеПервичногоДокумента.ТаможенныйШтраф;
		ПервичныйДокумент.СуммаРегл = ПервичныйДокумент.СуммаДокумента;
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.РеализацияТоваровУслуг")
		Или ТипДокумента = Тип("ДокументСсылка.ВозвратТоваровОтПокупателя")
		Или ТипДокумента = Тип("ДокументСсылка.КорректировкаРеализации")
		Или ТипДокумента = Тип("ДокументСсылка.АктОбОказанииПроизводственныхУслуг")
		Или ТипДокумента = Тип("ДокументСсылка.РеализацияУслугПоПереработке")
		Или ТипДокумента = Тип("ДокументСсылка.СчетФактураВыданный")
		Или ТипДокумента = Тип("ДокументСсылка.ОтражениеНачисленияНДС") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ВалютаДокумента, ДоговорКонтрагента, СуммаДокумента, Дата, Номер");
		ПервичныйДокумент.ТипПервичногоДокумента = "РеализацияКлиенту";
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.ОтчетКомиссионераОПродажах") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ВалютаДокумента, ДоговорКонтрагента, СуммаДокумента, ДатаВходящегоДокумента, НомерВходящегоДокумента, Дата, Номер");
		ПервичныйДокумент.ТипПервичногоДокумента = "РеализацияКлиенту";
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.РеализацияОтгруженныхТоваров") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ДоговорКонтрагента, СуммаДокумента, ДокументОтгрузки");
		ДанныеПервичногоДокументаОтгрузки = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДанныеПервичногоДокумента.ДокументОтгрузки, "Дата, Номер, ВалютаДокумента");

		ПервичныйДокумент.ДатаВходящегоДокумента = ДанныеПервичногоДокументаОтгрузки.Дата;
		ПервичныйДокумент.НомерВходящегоДокумента = ДанныеПервичногоДокументаОтгрузки.Номер;
		ПервичныйДокумент.ВалютаДокумента = ДанныеПервичногоДокументаОтгрузки.ВалютаДокумента;
		ПервичныйДокумент.ТипПервичногоДокумента = "РеализацияКлиенту";
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.ОтчетОРозничныхПродажах") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "СуммаДокумента, ВалютаДокумента, Дата, Номер");
		
		ПервичныйДокумент.ТипПервичногоДокумента = "РеализацияКлиенту";
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.ДокументРасчетовСКонтрагентом") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ВалютаДокумента, ДоговорКонтрагента, СуммаДокумента, ДатаВходящегоДокумента, НомерВходящегоДокумента, Дата, Номер");
		ВидДоговора = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ДанныеПервичногоДокумента.ДоговорКонтрагента, "ВидДоговора");
		ПервичныйДокумент.ТипПервичногоДокумента = "ВнутренняяНакладная";
		Если ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СПоставщиком 
			Или ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СКомитентом Тогда
			ПервичныйДокумент.ТипПервичногоДокумента = "ПриобретениеУПоставщика";
		ИначеЕсли ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СПокупателем
			Или ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СКомиссионером Тогда
			ПервичныйДокумент.ТипПервичногоДокумента = "РеализацияКлиенту";
		КонецЕсли;
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.КорректировкаДолга") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ВалютаДокумента, Дата, Номер, СуммаКтЗадолженности, СуммаДтЗадолженности");
		ПервичныйДокумент.ТипПервичногоДокумента = "ВнутренняяНакладная";
		Если ДанныеПервичногоДокумента.СуммаДтЗадолженности = ДанныеПервичногоДокумента.СуммаКтЗадолженности Тогда
			ПервичныйДокумент.СуммаДокумента = ДанныеПервичногоДокумента.СуммаДтЗадолженности;
		Иначе
			ПервичныйДокумент.СуммаДокумента = ДанныеПервичногоДокумента.СуммаДтЗадолженности - ДанныеПервичногоДокумента.СуммаКтЗадолженности;
		КонецЕсли;
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.МодернизацияОС") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "Дата, Номер");
		ПервичныйДокумент.Валюта = Константы.ВалютаРегламентированногоУчета.Получить();
		ПервичныйДокумент.ТипПервичногоДокумента = "ВнутренняяНакладная";
		ПервичныйДокумент.СуммаДокумента = ДокументРасчетовСКонтрагентом.Оплата.Итог("СуммаОплаты");
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.НачислениеНДСПоСМРХозспособом") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "Дата, Номер");
		ПервичныйДокумент.Валюта = Константы.ВалютаРегламентированногоУчета.Получить();
		ПервичныйДокумент.ТипПервичногоДокумента = "ВнутренняяНакладная";
		ПервичныйДокумент.СуммаДокумента = ДокументРасчетовСКонтрагентом.СМРхозспособом.Итог("СуммаБезНДС") + ДокументРасчетовСКонтрагентом.СМРхозспособом.Итог("НДС");
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.ОплатаПлатежнойКартой") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ВалютаДокумента, Дата, Номер");
		ПервичныйДокумент.ТипПервичногоДокумента = "ОплатаОтКлиента";
		ПервичныйДокумент.СуммаДокумента = ДокументРасчетовСКонтрагентом.РасшифровкаПлатежа.Итог("СуммаПлатежа");
		Если ДокументРасчетовСКонтрагентом.РасшифровкаПлатежа.Количество() = 1 Тогда
			ПервичныйДокумент.Договор = ДокументРасчетовСКонтрагентом.РасшифровкаПлатежа[0].ДоговорКонтрагента;
		КонецЕсли;
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.ПоступлениеНаРасчетныйСчет") Тогда
		
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ВалютаДокумента, СуммаДокумента, ДатаВходящегоДокумента, НомерВходящегоДокумента, Дата, Номер");
		Если НЕ ЗначениеЗаполнено(ПервичныйДокумент.Договор) И ДокументРасчетовСКонтрагентом.РасшифровкаПлатежа.Количество() &gt; 0 Тогда
			ПервичныйДокумент.Договор = ДокументРасчетовСКонтрагентом.РасшифровкаПлатежа[0].ДоговорКонтрагента;
		КонецЕсли;
		
		ПервичныйДокумент.ТипПервичногоДокумента = "ОплатаОтКлиента";
		
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.ПриходныйКассовыйОрдер") Тогда
		
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ВалютаДокумента, СуммаДокумента, Дата, Номер");
		Если НЕ ЗначениеЗаполнено(ПервичныйДокумент.Договор) И ДокументРасчетовСКонтрагентом.РасшифровкаПлатежа.Количество() &gt; 0 Тогда
			ПервичныйДокумент.Договор = ДокументРасчетовСКонтрагентом.РасшифровкаПлатежа[0].ДоговорКонтрагента;
		КонецЕсли;
		
		ПервичныйДокумент.ТипПервичногоДокумента = "ОплатаОтКлиента";
			
	ИначеЕсли ТипДокумента = Тип("ДокументСсылка.РасходныйКассовыйОрдер")
		Или ТипДокумента = Тип("ДокументСсылка.СписаниеСРасчетногоСчета") Тогда
		ДанныеПервичногоДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументРасчетовСКонтрагентом, "ВалютаДокумента, СуммаДокумента, Дата, Номер");
		Если НЕ ЗначениеЗаполнено(ПервичныйДокумент.Договор) И ДокументРасчетовСКонтрагентом.РасшифровкаПлатежа.Количество() &gt; 0 Тогда
			ПервичныйДокумент.Договор = ДокументРасчетовСКонтрагентом.РасшифровкаПлатежа[0].ДоговорКонтрагента;
		КонецЕсли;

		ПервичныйДокумент.ТипПервичногоДокумента = "ОплатаПоставщику";
	Иначе
		ТипКорректен = Ложь;
	КонецЕсли;
	
	Если ТипКорректен Тогда
		
		ЗаполнитьЗначенияСвойств(ПервичныйДокумент, ДанныеПервичногоДокумента); 
		
		Если ДанныеПервичногоДокумента.Свойство("ВалютаДокумента") Тогда
			ПервичныйДокумент.Валюта = ДанныеПервичногоДокумента.ВалютаДокумента;
		КонецЕсли;
		Если ДанныеПервичногоДокумента.Свойство("ДоговорКонтрагента") Тогда
			ПервичныйДокумент.Договор = ДанныеПервичногоДокумента.ДоговорКонтрагента;
		КонецЕсли;
		
	КонецЕсли;
КонецЕсли;</Текст>
				<Параметры>Источник, ОбъектКоллекции, ПервичныйДокумент</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ОчисткаВыборки" ИспользуетсяПриЗагрузке="false">
				<Текст>Индекс = ВыборкаДанных.Количество()-1;
Пока Индекс &gt;= 0 Цикл
	Если ВыборкаДанных[Индекс].РасчетыСПартнерами.Количество() = 0 Тогда
		ВыборкаДанных.Удалить(ВыборкаДанных[Индекс]);
	КонецЕсли;
	Индекс = Индекс-1;
КонецЦикла;</Текст>
				<Параметры>ВыборкаДанных</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ПереносКИ" ИспользуетсяПриЗагрузке="false">
				<Текст>КоллекцияОбъектов = Новый ТаблицаЗначений;
КоллекцияОбъектов.Колонки.Добавить("Тип");
КоллекцияОбъектов.Колонки.Добавить("Вид");
КоллекцияОбъектов.Колонки.Добавить("Представление");
КоллекцияОбъектов.Колонки.Добавить("ЗначенияПолей");
КоллекцияОбъектов.Колонки.Добавить("Страна");
КоллекцияОбъектов.Колонки.Добавить("Регион");
КоллекцияОбъектов.Колонки.Добавить("Город");
КоллекцияОбъектов.Колонки.Добавить("АдресЭП");
КоллекцияОбъектов.Колонки.Добавить("ДоменноеИмяСервера");
КоллекцияОбъектов.Колонки.Добавить("НомерТелефона");
КоллекцияОбъектов.Колонки.Добавить("НомерТелефонаБезКодов");

Запрос = Новый Запрос("
|ВЫБРАТЬ
|	КонтактнаяИнформация.Тип КАК Тип,
|	КонтактнаяИнформация.Вид КАК Вид,
|	КонтактнаяИнформация.Представление КАК Представление,
|	КонтактнаяИнформация.Поле1 КАК Поле1,
|	КонтактнаяИнформация.Поле2 КАК Поле2,
|	КонтактнаяИнформация.Поле3 КАК Поле3,
|	КонтактнаяИнформация.Поле4 КАК Поле4,
|	КонтактнаяИнформация.Поле5 КАК Поле5,
|	КонтактнаяИнформация.Поле6 КАК Поле6,
|	КонтактнаяИнформация.Поле7 КАК Поле7,
|	КонтактнаяИнформация.Поле8 КАК Поле8,
|	КонтактнаяИнформация.Поле9 КАК Поле9,
|	КонтактнаяИнформация.ТипДома КАК ТипДома,
|	КонтактнаяИнформация.ТипКорпуса КАК ТипКорпуса,
|	КонтактнаяИнформация.ТипКвартиры КАК ТипКвартиры,
|	КонтактнаяИнформация.Комментарий КАК Комментарий
|ИЗ
|	РегистрСведений.КонтактнаяИнформация КАК КонтактнаяИнформация
|ГДЕ
|	КонтактнаяИнформация.Объект = &amp;Контрагент
|");

Запрос.УстановитьПараметр("Контрагент", Источник.Ссылка);

Выборка = Запрос.Выполнить().Выбрать();
Пока Выборка.Следующий() Цикл
	НоваяСтрока = КоллекцияОбъектов.Добавить();
	ЗаполнитьЗначенияСвойств(НоваяСтрока, Выборка);
	
	// Удаление символов переноса строк.
	НоваяСтрока.Представление = СтрЗаменить(НоваяСтрока.Представление,Символы.ПС," ");

	Если Выборка.Тип = Перечисления.ТипыКонтактнойИнформации.Адрес Тогда
		
		Если ЗначениеЗаполнено(Выборка.ТипДома) Тогда
			ТипДома = НРег(Выборка.ТипДома.Метаданные().ЗначенияПеречисления[Перечисления.ТипыДомов.Индекс(Выборка.ТипДома)].Имя);
		Иначе
			ТипДома = Выборка.ТипДома;
		КонецЕсли;
		
		Если ЗначениеЗаполнено(Выборка.ТипКорпуса) Тогда
			ТипКорпуса = НРег(Выборка.ТипКорпуса.Метаданные().ЗначенияПеречисления[Перечисления.ТипыКорпусов.Индекс(Выборка.ТипКорпуса)].Имя);
		Иначе
			ТипКорпуса = Выборка.ТипКорпуса;
		КонецЕсли;
		
		Если ЗначениеЗаполнено(Выборка.ТипКвартиры) Тогда
			ТипКвартиры = ?(Выборка.ТипКвартиры = Перечисления.ТипыКвартир.Квартира,
				"кв.", НРег(Выборка.ТипКвартиры.Метаданные().ЗначенияПеречисления[Перечисления.ТипыКвартир.Индекс(Выборка.ТипКвартиры)].Имя));
		Иначе
			ТипКвартиры = Выборка.ТипКвартиры;
		КонецЕсли;				
		
		НоваяСтрока.ЗначенияПолей = ?(ЗначениеЗаполнено(Выборка.Поле1), "Индекс=" + Выборка.Поле1 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле2), "Регион="			+ Выборка.Поле2 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле3), "Район="			+ Выборка.Поле3 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле4), "Город="			+ Выборка.Поле4 + Символы.ПС, "") 
		   + ?(ЗначениеЗаполнено(Выборка.Поле5), "НаселенныйПункт="	+ Выборка.Поле5 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле6), "Улица="			+ Выборка.Поле6 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле7), "Дом="				+ Выборка.Поле7 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле8), "Корпус="			+ Выборка.Поле8 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле9), "Квартира="		+ Выборка.Поле9 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(ТипДома),		 "ТипДома="			+ ТипДома		+ Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(ТипКорпуса),	 "ТипКорпуса="		+ ТипКорпуса	+ Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(ТипКвартиры),	 "ТипКвартиры="		+ ТипКвартиры, "");
		   
	ИначеЕсли Выборка.Тип = Перечисления.ТипыКонтактнойИнформации.Телефон Тогда
		
		НоваяСтрока.ЗначенияПолей = ?(ЗначениеЗаполнено(Выборка.Поле1), "КодСтраны="     + Выборка.Поле1 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле2), "КодГорода="     + Выборка.Поле2 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле3), "НомерТелефона=" + Выборка.Поле3 + Символы.ПС, "")
		   + ?(ЗначениеЗаполнено(Выборка.Поле4), "Добавочный="    + Выборка.Поле4, "")
		   + ?(ЗначениеЗаполнено(Выборка.Комментарий), "Комментарий="    + Выборка.Комментарий, "");

		НоваяСтрока.НомерТелефонаБезКодов = Выборка.Поле3;
		НоваяСтрока.НомерТелефона         = Выборка.Поле1 + Выборка.Поле2 + Выборка.Поле3;
		
	ИначеЕсли Выборка.Тип = Перечисления.ТипыКонтактнойИнформации.АдресЭлектроннойПочты Тогда
		
		НоваяСтрока.АдресЭП = Выборка.Представление;
		
	ИначеЕсли Выборка.Тип = Перечисления.ТипыКонтактнойИнформации.ВебСтраница Тогда
		
		НоваяСтрока.ДоменноеИмяСервера = Выборка.Представление;
		
	КонецЕсли;	
	
КонецЦикла;</Текст>
				<Параметры>Источник</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ПереносСвойств" ИспользуетсяПриЗагрузке="false">
				<Текст>Запрос = Новый Запрос("
|ВЫБРАТЬ
|	ЗначенияСвойствОбъектов.Свойство КАК Свойство,
|	ЗначенияСвойствОбъектов.Значение КАК Значение
|ИЗ
|	РегистрСведений.ЗначенияСвойствОбъектов КАК ЗначенияСвойствОбъектов
|ГДЕ
|	ЗначенияСвойствОбъектов.Объект = &amp;Объект
|");

Запрос.УстановитьПараметр("Объект", Источник.Ссылка);

КоллекцияОбъектов = Запрос.Выполнить().Выгрузить();</Текст>
				<Параметры>Источник</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ПодготовитьСтруктуруДанныхПД_ОстаткиТоваров" ИспользуетсяПриЗагрузке="false">
				<Текст>СтруктураПД = Новый Структура("Организация, Контрагент, Договор, Дата, Номер, Валюта, СуммаДокумента, СуммаРегл, ДатаВходящегоДокумента, НомерВходящегоДокумента, Подразделение, Комментарий, ТипПервичногоДокумента");
СтруктураПД.Организация = Организация;
СтруктураПД.Контрагент = Контрагент;
СтруктураПД.Договор = Договор;
СтруктураПД.Комментарий = СокрЛП(ДокументСсылка);
ТипДокумента = ТипЗнч(ДокументСсылка);
ТипКорректен = Истина;
Если ТипДокумента = Тип("ДокументСсылка.ОтражениеПоступленияТоваровИУслугНДС")
	Или ТипДокумента = Тип("ДокументСсылка.ПоступлениеДопРасходов")
	Или ТипДокумента = Тип("ДокументСсылка.ПоступлениеТоваровУслугВНТТ")
	Или ТипДокумента = Тип("ДокументСсылка.ПоступлениеТоваровУслуг")
	Или ТипДокумента = Тип("ДокументСсылка.КорректировкаПоступления") Тогда
	ДанныеДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументСсылка, "Контрагент, ВалютаДокумента, ДоговорКонтрагента, СуммаДокумента, ДатаВходящегоДокумента, НомерВходящегоДокумента, Дата, Номер");
	СтруктураПД.ТипПервичногоДокумента = "ПриобретениеУПоставщика";
ИначеЕсли ТипДокумента = Тип("ДокументСсылка.ВозвратТоваровПоставщику")
	Или ТипДокумента = Тип("ДокументСсылка.ВозвратТоваровПоставщикуИзНТТ")
	Или ТипДокумента = Тип("ДокументСсылка.ОтчетКомитентуОПродажах") Тогда
	ДанныеДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументСсылка, "Контрагент, ВалютаДокумента, ДоговорКонтрагента, СуммаДокумента, Дата, Номер");
	СтруктураПД.ТипПервичногоДокумента = "ПриобретениеУПоставщика";
ИначеЕсли ТипДокумента = Тип("ДокументСсылка.ГТДИмпорт") Тогда
	ДанныеДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументСсылка, "Контрагент, ВалютаДокумента, ДоговорКонтрагента, ТаможенныйСбор, ТаможенныйШтраф, Дата, Номер");
	ЗаполнитьЗначенияСвойств(СтруктураПД, ДанныеДокумента);
	СтруктураПД.ТипПервичногоДокумента = "ПриобретениеУПоставщика";
	СтруктураПД.СуммаДокумента = ДанныеДокумента.ТаможенныйСбор + ДанныеДокумента.ТаможенныйШтраф;
	СтруктураПД.СуммаРегл = СтруктураПД.СуммаДокумента;
ИначеЕсли ТипДокумента = Тип("ДокументСсылка.РеализацияТоваровУслуг")
	Или ТипДокумента = Тип("ДокументСсылка.ВозвратТоваровОтПокупателя")
	Или ТипДокумента = Тип("ДокументСсылка.КорректировкаРеализации")
	Или ТипДокумента = Тип("ДокументСсылка.СчетФактураВыданный") Тогда
	ДанныеДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументСсылка, "Контрагент, ВалютаДокумента, ДоговорКонтрагента, СуммаДокумента, Дата, Номер");
	СтруктураПД.ТипПервичногоДокумента = "РеализацияКлиенту";
ИначеЕсли ТипДокумента = Тип("ДокументСсылка.ОтражениеРеализацииТоваровИУслугНДС")
		Или ТипДокумента = Тип("ДокументСсылка.ОтчетКомиссионераОПродажах") Тогда
	ДанныеДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументСсылка, "Контрагент, ВалютаДокумента, ДоговорКонтрагента, СуммаДокумента, ДатаВходящегоДокумента, НомерВходящегоДокумента, Дата, Номер");
	СтруктураПД.ТипПервичногоДокумента = "РеализацияКлиенту";
ИначеЕсли ТипДокумента = Тип("ДокументСсылка.ОтчетОРозничныхПродажах") Тогда
	ДанныеДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументСсылка, "СуммаДокумента, Дата, Номер");
	СтруктураПД.Валюта = Константы.ВалютаУправленческогоУчета.Получить();
	СтруктураПД.ТипПервичногоДокумента = "РеализацияКлиенту";
ИначеЕсли ТипДокумента = Тип("ДокументСсылка.ДокументРасчетовСКонтрагентом") Тогда
	ДанныеДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументСсылка, "Контрагент, ВалютаДокумента, ДоговорКонтрагента, СуммаДокумента, ДатаВходящегоДокумента, НомерВходящегоДокумента, Дата, Номер");
	ВидДоговора = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ДанныеДокумента.ДоговорКонтрагента, "ВидДоговора");
	СтруктураПД.ТипПервичногоДокумента = "ВнутренняяНакладная";
	Если ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СПоставщиком 
		Или ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СКомитентом Тогда
		СтруктураПД.ТипПервичногоДокумента = "ПриобретениеУПоставщика";
	ИначеЕсли ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СПокупателем
		Или ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СКомиссионером Тогда
		СтруктураПД.ТипПервичногоДокумента = "РеализацияКлиенту";
	КонецЕсли;
ИначеЕсли ТипДокумента = Тип("ДокументСсылка.КорректировкаДолга") Тогда
	ДанныеДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументСсылка, "ВалютаДокумента, ДоговорКонтрагента, Дата, Номер");
	СтруктураПД.ТипПервичногоДокумента = "ВнутренняяНакладная";
	СтруктураПД.СуммаДокумента = ДокументСсылка.СуммыДолга.Итог("Сумма");
ИначеЕсли ТипДокумента = Тип("ДокументСсылка.ОплатаОтПокупателяПлатежнойКартой") Тогда
	ДанныеДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументСсылка, "ВалютаДокумента, Дата, Номер");
	СтруктураПД.ТипПервичногоДокумента = "ОплатаОтКлиента";
	СтруктураПД.СуммаДокумента = ДокументСсылка.РасшифровкаПлатежа.Итог("СуммаПлатежа");
	Если ДокументСсылка.РасшифровкаПлатежа.Количество() = 1 Тогда
		СтруктураПД.Договор = ДокументСсылка.РасшифровкаПлатежа[0].ДоговорКонтрагента;
	КонецЕсли;
ИначеЕсли ТипДокумента = Тип("ДокументСсылка.РасходныйОрдерНаТовары") Тогда
	ДанныеДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументСсылка, "Дата, Номер");
	СтруктураПД.Валюта = Константы.ВалютаУправленческогоУчета.Получить();
	СтруктураПД.ТипПервичногоДокумента = "ВнутренняяНакладная";
ИначеЕсли ТипДокумента = Тип("ДокументСсылка.АккредитивПолученный")
	Или ТипДокумента = Тип("ДокументСсылка.ПлатежноеПоручениеВходящее")
	Или ТипДокумента = Тип("ДокументСсылка.ПлатежноеТребованиеПолученное")
	Или ТипДокумента = Тип("ДокументСсылка.ИнкассовоеПоручениеПолученное")
	Или ТипДокумента = Тип("ДокументСсылка.ПлатежныйОрдерПоступлениеДенежныхСредств") Тогда
	
	ДанныеДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументСсылка, "ВалютаДокумента, СуммаДокумента, ДатаВходящегоДокумента, НомерВходящегоДокумента, Дата, Номер");
	Если НЕ ЗначениеЗаполнено(СтруктураПД.Договор) И ДокументСсылка.РасшифровкаПлатежа.Количество() &gt; 0 Тогда
		СтруктураПД.Договор = ДокументСсылка.РасшифровкаПлатежа[0].ДоговорКонтрагента;
	КонецЕсли;
	ВидДоговора = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(СтруктураПД.Договор, "ВидДоговора");
	СтруктураПД.ТипПервичногоДокумента = "ВнутренняяНакладная";
	Если ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СПоставщиком 
		Или ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СКомитентом Тогда
		СтруктураПД.ТипПервичногоДокумента = "ОплатаПоставщику";
	ИначеЕсли ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СПокупателем
		Или ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СКомиссионером Тогда
		СтруктураПД.ТипПервичногоДокумента = "ОплатаОтКлиента";
	КонецЕсли;
ИначеЕсли ТипДокумента = Тип("ДокументСсылка.РасходныйКассовыйОрдер")
	Или ТипДокумента = Тип("ДокументСсылка.АккредитивПереданный")
	Или ТипДокумента = Тип("ДокументСсылка.ПриходныйКассовыйОрдер")
	Или ТипДокумента = Тип("ДокументСсылка.ПлатежноеТребованиеВыставленное")
	Или ТипДокумента = Тип("ДокументСсылка.ПлатежноеПоручениеИсходящее")
	Или ТипДокумента = Тип("ДокументСсылка.ИнкассовоеПоручениеПереданное") Тогда
	ДанныеДокумента = ОбщегоНазначения.ЗначенияРеквизитовОбъекта(ДокументСсылка, "ВалютаДокумента, СуммаДокумента, Дата, Номер");
	Если НЕ ЗначениеЗаполнено(СтруктураПД.Договор) И ДокументСсылка.РасшифровкаПлатежа.Количество() &gt; 0 Тогда
		СтруктураПД.Договор = ДокументСсылка.РасшифровкаПлатежа[0].ДоговорКонтрагента;
	КонецЕсли;
	ВидДоговора = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(СтруктураПД.Договор, "ВидДоговора");
	СтруктураПД.ТипПервичногоДокумента = "ВнутренняяНакладная";
	Если ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СПоставщиком 
		Или ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СКомитентом Тогда
		СтруктураПД.ТипПервичногоДокумента = "ОплатаПоставщику";
	ИначеЕсли ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СПокупателем
		Или ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СКомиссионером Тогда
		СтруктураПД.ТипПервичногоДокумента = "ОплатаОтКлиента";
	КонецЕсли;
Иначе
	ТипКорректен = Ложь;
	СтруктураПД = Неопределено;
КонецЕсли;
Если ТипКорректен Тогда
	ЗаполнитьЗначенияСвойств(СтруктураПД, ДанныеДокумента); 
	Если НЕ ЗначениеЗаполнено(СтруктураПД.ДатаВходящегоДокумента) Тогда
		СтруктураПД.ДатаВходящегоДокумента = ДанныеДокумента.Дата;
	КонецЕсли;
	Если НЕ ЗначениеЗаполнено(СтруктураПД.НомерВходящегоДокумента) Тогда
		СтруктураПД.НомерВходящегоДокумента = ДанныеДокумента.Номер;
	КонецЕсли;
	Если ДанныеДокумента.Свойство("Контрагент") Тогда
		СтруктураПД.Контрагент = ДанныеДокумента.Контрагент;
	КонецЕсли;

	Если ДанныеДокумента.Свойство("ВалютаДокумента") Тогда
		СтруктураПД.Валюта = ДанныеДокумента.ВалютаДокумента;
	КонецЕсли;
	Если ДанныеДокумента.Свойство("ДоговорКонтрагента") Тогда
		СтруктураПД.Договор = ДанныеДокумента.ДоговорКонтрагента;
		Если НЕ ЗначениеЗаполнено(СтруктураПД.Контрагент) И ЗначениеЗаполнено(ДанныеДокумента.ДоговорКонтрагента) Тогда
			СтруктураПД.Контрагент = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ДанныеДокумента.ДоговорКонтрагента, "Владелец");
		КонецЕсли;
	КонецЕсли;
    СтруктураПД.Вставить("ПорядокРасчетов");
	Если НЕ ЗначениеЗаполнено(СтруктураПД.СуммаРегл) Тогда
		ВалютаРегл = Константы.ВалютаРегламентированногоУчета.Получить();
		КурсКратностьДокумента = МодульВалютногоУчета.ПолучитьКурсВалюты(СтруктураПД.Валюта, ДанныеДокумента.Дата);
		КурсКратностьРегл = МодульВалютногоУчета.ПолучитьКурсВалюты(ВалютаРегл, ДанныеДокумента.Дата);
		СтруктураПД.СуммаРегл = МодульВалютногоУчета.ПересчитатьИзВалютыВВалюту(СтруктураПД.СуммаДокумента, СтруктураПД.Валюта, ВалютаРегл, КурсКратностьДокумента.Курс, КурсКратностьРегл.Курс, 
					КурсКратностьДокумента.Кратность, КурсКратностьРегл.Кратность);

	КонецЕсли;
КонецЕсли;</Текст>
				<Параметры>ДокументСсылка, СтруктураПД, Контрагент, Договор, Организация</Параметры>
			</Алгоритм>
			<Алгоритм Имя="СерияНоменклатурыВТЧ" ИспользуетсяПриЗагрузке="false">
				<Текст>ПодходящийРежимСерий = 1;
Если ИмяТЧ = Неопределено Или ИмяТЧ = "Товары" Тогда
	ПодходящийРежимСерий = 2;
КонецЕсли;

Если Параметры.РежимВыгрузкиСерий = ПодходящийРежимСерий Тогда
	Номенклатура = ОбъектКоллекции.Номенклатура;
	
	ПараметрыПоиска = Новый Структура("Номенклатура", Номенклатура);
	НайденныеСтроки = Параметры.ТабАлкогольнаяПродукцияНоменклатуры.НайтиСтроки(ПараметрыПоиска);

	Если НайденныеСтроки.Количество() &gt; 0 Тогда
		ВходящиеДанные.Вставить("АлкогольнаяПродукция",    НайденныеСтроки[0].АлкогольнаяПродукция);
		ВходящиеДанные.Вставить("ВидАлкогольнойПродукции", НайденныеСтроки[0].ВидАлкогольнойПродукции);
		ВходящиеДанные.Вставить("ВестиУчетПоГТД",          НайденныеСтроки[0].ВестиУчетПоГТД);
	Иначе

		// ВидАлкогольнойПродукции и АлкогольнаяПродукция
		Запрос = Новый Запрос;
		Запрос.Текст = "
			|ВЫБРАТЬ
			|	СведенияОбАлкогольнойПродукции.ВидПродукции,
			|	СведенияОбАлкогольнойПродукции.ВидЛицензии
			|ИЗ
			|	РегистрСведений.СведенияОбАлкогольнойПродукции КАК СведенияОбАлкогольнойПродукции
			|ГДЕ
			|	СведенияОбАлкогольнойПродукции.Номенклатура = &amp;Номенклатура";
			
		Запрос.УстановитьПараметр("Номенклатура", Номенклатура);

		Выборка = Запрос.Выполнить().Выбрать();
		Если Выборка.Следующий() Тогда
			ВходящиеДанные.Вставить("АлкогольнаяПродукция", Истина);
			ВходящиеДанные.Вставить("ВидАлкогольнойПродукции", Выборка.ВидПродукции);
		Иначе
			ВходящиеДанные.Вставить("АлкогольнаяПродукция", Ложь);
			ВходящиеДанные.Вставить("ВидАлкогольнойПродукции", Справочники.ВидыАлкогольнойПродукции.ПустаяСсылка());
		КонецЕсли;

		// Вести учет по ГТД
		Запрос = Новый Запрос("
		|ВЫБРАТЬ ПЕРВЫЕ 1
		|	1
		|ИЗ
		|	Справочник.СерииНоменклатуры КАК СерииНоменклатуры
		|ГДЕ
		|	СерииНоменклатуры.НомерГТД &lt;&gt; ЗНАЧЕНИЕ(Справочник.НомераГТД.ПустаяСсылка)
		|	И СерииНоменклатуры.Владелец = &amp;Номенклатура
		|");

		Запрос.УстановитьПараметр("Номенклатура", Номенклатура);

		ВходящиеДанные.Вставить("ВестиУчетПоГТД", Не Запрос.Выполнить().Пустой());
	КонецЕсли;	
		
	СоздатьВидНоменклатуры_Номенклатура					= Номенклатура;
	СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = Номенклатура.ВидНоменклатуры.Наименование;
	СоздатьВидНоменклатуры_ТипНоменклатуры				= Номенклатура.ВидНоменклатуры.ТипНоменклатуры;
	СоздатьВидНоменклатуры_ИспользоватьСерии			= Истина;
	
	СоздатьВидНоменклатуры_ИмпортнаяАлкогольнаяПродукция = ВходящиеДанные.АлкогольнаяПродукция И ВходящиеДанные.ВестиУчетПоГТД;
	СоздатьВидНоменклатуры_АлкогольнаяПродукция          = ВходящиеДанные.АлкогольнаяПродукция;
	СоздатьВидНоменклатуры_ВидАлкогольнойПродукции       = ВходящиеДанные.ВидАлкогольнойПродукции;
	Выполнить(Алгоритмы.СоздатьВидНоменклатуры);

	ИсходящиеДанные = Новый Структура("ВидНоменклатуры", Значение);

	Значение = ОбъектКоллекции.Серия;
	Если НЕ ЗначениеЗаполнено(ОбъектКоллекции.Серия) Тогда
		Значение = "1";
		ИмяПКО = "НеизвестнаяСерия";
	КонецЕсли;
Иначе
	Отказ = Истина;
КонецЕсли;</Текст>
				<Параметры>ОбъектКоллекции, ИмяТЧ, Значение, ВходящиеДанные</Параметры>
			</Алгоритм>
			<Алгоритм Имя="СобственныеТоварыВыборка" ИспользуетсяПриЗагрузке="false">
				<Текст>ЗапросУчетнаяПолитка = Новый Запрос;
ЗапросУчетнаяПолитка.Текст = 
	"ВЫБРАТЬ
	|	УчетнаяПолитикаСрезПоследних.ВестиПартионныйУчетПоСкладам,
	|	УчетнаяПолитикаСрезПоследних.СпособОценкиМПЗ
	|ИЗ
	|	РегистрСведений.УчетнаяПолитика.СрезПоследних КАК УчетнаяПолитикаСрезПоследних";
	
Выборка = ЗапросУчетнаяПолитка.Выполнить().Выбрать();

Если Выборка.Следующий() Тогда
	ВедетсяПартионныйУчетПоСкладам = Выборка.ВестиПартионныйУчетПоСкладам;
	ОценкаМПЗПоСредней = (Выборка.СпособОценкиМПЗ = Перечисления.СпособыОценки.ПоСредней);
Иначе
	ВедетсяПартионныйУчетПоСкладам = Ложь;
	ОценкаМПЗПоСредней = Истина;
КонецЕсли;

Запрос = Новый Запрос;
Если ВедетсяПартионныйУчетПоСкладам И Не ОценкаМПЗПоСредней Тогда
	Запрос.Текст = Запросы.СобственныеТоварыНаСкладах.Текст;
ИначеЕсли ВедетсяПартионныйУчетПоСкладам И ОценкаМПЗПоСредней Тогда
	Запрос.Текст = Запросы.СобственныеТоварыНаСкладахПоСредней.Текст;
ИначеЕсли Не ВедетсяПартионныйУчетПоСкладам И Не ОценкаМПЗПоСредней Тогда
	Запрос.Текст = Запросы.СобственныеТоварыПартииБезСкладов.Текст;
Иначе // Не ВедетсяПартионныйУчетПоСкладам И ОценкаМПЗПоСредней Тогда
	Запрос.Текст = Запросы.СобственныеТоварыПартииБезСкладовПоСредней.Текст;
КонецЕсли;	

Если Параметры.Организации.Количество() &gt; 0 Тогда
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ПО (ИСТИНА)", 
								"ПО (ИСТИНА)
						        |ГДЕ
								|	ОстаткиПоПартиямСУчетнойПолитикой.Организация В (&amp;МассивОрганизаций)");
	Запрос.УстановитьПараметр("МассивОрганизаций", Параметры.Организации);
	
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "Остатки(&amp;ДатаОстатков, )", "Остатки(&amp;ДатаОстатков, Организация В (&amp;МассивОрганизаций))");
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ТипыНоменклатуры.Товар)) КАК ОстаткиТоваров", "ТипыНоменклатуры.Товар) И ДокументОприходования.Организация В (&amp;МассивОрганизаций) ) КАК ОстаткиТоваров");
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ТоварыНаСкладах КАК ТоварыНаСкладах", "ТоварыНаСкладах КАК ТоварыНаСкладах ГДЕ ТоварыНаСкладах.Регистратор.Организация В (&amp;МассивОрганизаций) ");
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ТоварыВРознице КАК ТоварыВРознице", "ТоварыВРознице КАК ТоварыВРознице ГДЕ ТоварыВРознице.Регистратор.Организация В (&amp;МассивОрганизаций) ");
	Запрос.Текст = СтрЗаменить(Запрос.Текст, "ТоварыВНТТ КАК ТоварыВНТТ", "ТоварыВНТТ КАК ТоварыВНТТ ГДЕ ТоварыВНТТ.Регистратор.Организация В (&amp;МассивОрганизаций) ");
	
КонецЕсли;

Запрос.УстановитьПараметр("ДатаОстатков", КонецДня(Параметры.ДатаОстатков));
Запрос.УстановитьПараметр("ВалютаУпрУчета", Константы.ВалютаУправленческогоУчета.Получить());

ВыборкаДанных = Новый ТаблицаЗначений;
ВыборкаДанных.Колонки.Добавить("Дата");
ВыборкаДанных.Колонки.Добавить("Организация");
ВыборкаДанных.Колонки.Добавить("Валюта");
ВыборкаДанных.Колонки.Добавить("Склад");
ВыборкаДанных.Колонки.Добавить("Партнер");
ВыборкаДанных.Колонки.Добавить("Контрагент");
ВыборкаДанных.Колонки.Добавить("Договор");
ВыборкаДанных.Колонки.Добавить("ПредъявленСчетФактура");
ВыборкаДанных.Колонки.Добавить("НомерСчетаФактуры");
ВыборкаДанных.Колонки.Добавить("ДатаСчетаФактуры");
ВыборкаДанных.Колонки.Добавить("Товары");
ВыборкаДанных.Колонки.Добавить("Серии");
ВыборкаДанных.Колонки.Добавить("Комментарий");
ВыборкаДанных.Колонки.Добавить("Партия");
НоваяСтрока = Неопределено;

Если ВедетсяПартионныйУчетПоСкладам Тогда
	РезультатыЗапроса = Запрос.Выполнить();
	ВыборкаПоОрганизациям = РезультатыЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
	Пока ВыборкаПоОрганизациям.Следующий() Цикл
		
		ВыборкаПоСкладам = ВыборкаПоОрганизациям.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
		Пока ВыборкаПоСкладам.Следующий() Цикл
			
			ВыборкаПоСложномуУчету = ВыборкаПоСкладам.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
			Пока ВыборкаПоСложномуУчету.Следующий() Цикл
				
				ВыборкаПоДокументамПоступления = ВыборкаПоСложномуУчету.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
				Пока ВыборкаПоДокументамПоступления.Следующий() Цикл
					
					НоваяСтрока = ВыборкаДанных.Добавить();
					НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
					НоваяСтрока.Организация = ВыборкаПоОрганизациям.Организация;
					НоваяСтрока.Склад       = ВыборкаПоСкладам.Склад;
					НоваяСтрока.Комментарий = НСтр("ru = 'УТ10.3 -&gt; УТ11: Собственные товары на складах'");
					НоваяСтрока.Валюта = Константы.ВалютаУправленческогоУчета.Получить();
					
					ПредъявленСФ = Неопределено; 
					ДополнениеККоментарию = "";
					
					Контрагент = ВыборкаПоДокументамПоступления.Партнер;
					Договор    = ВыборкаПоДокументамПоступления.Договор;
		
					НоваяСтрока.ПредъявленСчетФактура = Ложь;
					Если ЗначениеЗаполнено(ВыборкаПоДокументамПоступления.ДокументОприходования) Тогда
						ДополнениеККоментарию = НСтр("ru = '. Остатки по документу номер: %1 от: %2'");
						ДополнениеККоментарию = СтрЗаменить(ДополнениеККоментарию, "%2", ВыборкаПоДокументамПоступления.ДатаДокументаОприходования);
						ДополнениеККоментарию = СтрЗаменить(ДополнениеККоментарию, "%1", ВыборкаПоДокументамПоступления.НомерДокументаОприходования);
			
                        ПредъявленСФ = УчетНДС.НайтиПодчиненныйДокумент(ВыборкаПоДокументамПоступления.ДокументОприходования, "СчетФактураПолученный");
                        Если ЗначениеЗаполнено(ПредъявленСФ) Тогда
						
                            ДанныеСФ = ОбщегоНазначения.ПолучитьЗначенияРеквизитов(ПредъявленСФ,
                                "Контрагент, ДоговорКонтрагента, НомерВходящегоДокумента, ДатаВходящегоДокумента");
                            
                            НоваяСтрока.ПредъявленСчетФактура = Истина;
                            НоваяСтрока.НомерСчетаФактуры = ДанныеСФ.НомерВходящегоДокумента;
                            НоваяСтрока.ДатаСчетаФактуры  = ДанныеСФ.ДатаВходящегоДокумента;
                            
                            Если Не ЗначениеЗаполнено(Контрагент) Тогда
                                Контрагент = ДанныеСФ.Контрагент;
                                Договор    = ДанныеСФ.ДоговорКонтрагента;
                            КонецЕсли;
                            
                        КонецЕсли;
                        ДокументСсылка = ВыборкаПоДокументамПоступления.ДокументОприходования;
                        СтруктураПД = Неопределено;
                        Организация = НоваяСтрока.Организация;
                        
                        Выполнить(Алгоритмы.ПодготовитьСтруктуруДанныхПД_ОстаткиТоваров);
                        
                        Если СтруктураПД &lt;&gt; Неопределено Тогда
                            НоваяСтрока.Партия = СтруктураПД;
                        КонецЕсли;
                    КонецЕсли;					
					НоваяСтрока.Партнер    = Контрагент;
					НоваяСтрока.Контрагент = Контрагент;
					НоваяСтрока.Договор    = Договор;
					
					НоваяСтрока.Комментарий = НоваяСтрока.Комментарий + ДополнениеККоментарию;

					НоваяСтрока.Товары = Новый ТаблицаЗначений;
					НоваяСтрока.Товары.Колонки.Добавить("Номенклатура");
					НоваяСтрока.Товары.Колонки.Добавить("Характеристика");
					НоваяСтрока.Товары.Колонки.Добавить("Качество");
					НоваяСтрока.Товары.Колонки.Добавить("Количество");
					НоваяСтрока.Товары.Колонки.Добавить("КоличествоУпаковок");
					НоваяСтрока.Товары.Колонки.Добавить("Цена");
					НоваяСтрока.Товары.Колонки.Добавить("Сумма");
					НоваяСтрока.Товары.Колонки.Добавить("СуммаРегл");
					НоваяСтрока.Товары.Колонки.Добавить("СтавкаНДС");
					НоваяСтрока.Товары.Колонки.Добавить("СуммаБезНДС");
					НоваяСтрока.Товары.Колонки.Добавить("СуммаНДС");
					НоваяСтрока.Товары.Колонки.Добавить("НДСРегл");
					НоваяСтрока.Товары.Колонки.Добавить("НомерГТД");
					НоваяСтрока.Товары.Колонки.Добавить("Серия");
					
					НоваяСтрока.Серии = Новый ТаблицаЗначений;
					НоваяСтрока.Серии.Колонки.Добавить("Номенклатура");
					НоваяСтрока.Серии.Колонки.Добавить("Характеристика");
					НоваяСтрока.Серии.Колонки.Добавить("Качество");
					НоваяСтрока.Серии.Колонки.Добавить("Серия");
					НоваяСтрока.Серии.Колонки.Добавить("Количество");
					НоваяСтрока.Серии.Колонки.Добавить("КоличествоУпаковок");
			
					ВыборкаДетальныеЗаписи = ВыборкаПоДокументамПоступления.Выбрать();
					Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
			
						СтрокаСообщения = "";
						Если ВыборкаДетальныеЗаписи.Количество &lt; 0 Тогда
							СтрокаСообщения = НСтр("ru = 'Обнаружен отрицательный остаток на складе ""%1"" по товару ""%2"" при выгрузке по правилу: ""%3""'");
						ИначеЕсли ВыборкаДетальныеЗаписи.Сумма &lt;= 0 Или ВыборкаДетальныеЗаписи.Количество = 0 Тогда
							СтрокаСообщения = НСтр("ru = 'Обнаружен некорректный суммовой остаток на складе ""%1"" по товару ""%2"" при выгрузке по правилу: ""%3""'");
						ИначеЕсли ВыборкаДетальныеЗаписи.СуммаСНДСРегл &lt;= ВыборкаДетальныеЗаписи.НДСРегл Или ВыборкаДетальныеЗаписи.НДСРегл &lt; 0 Тогда
							СтрокаСообщения = НСтр("ru = 'Обнаружен некорректный суммовой остаток по данным регл. учета на складе ""%1"" по товару ""%2"" при выгрузке по правилу: ""%3""'");
						КонецЕсли;
						
						Если ЗначениеЗаполнено(СтрокаСообщения) Тогда
							СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%1", ВыборкаПоСкладам.Склад);
							СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%2", ВыборкаДетальныеЗаписи.Номенклатура);
							СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%3", НСтр("ru = 'Собственные товары на складах'"));
							
							Если Не ЗначениеЗаполнено(ВыборкаПоСкладам.Склад) Тогда
								СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "на складе """" ", "");
							КонецЕсли;
							
							ЗаписатьВПротоколВыполнения(СтрокаСообщения,,Ложь);
							Продолжить;
						КонецЕсли;
				
						НоваяСтрокаТовары = НоваяСтрока.Товары.Добавить();
						ЗаполнитьЗначенияСвойств(НоваяСтрокаТовары, ВыборкаДетальныеЗаписи);
						НоваяСтрокаТовары.Цена = ВыборкаДетальныеЗаписи.Сумма / ВыборкаДетальныеЗаписи.Количество;
						НоваяСтрокаТовары.КоличествоУпаковок = ВыборкаДетальныеЗаписи.Количество;
				
						Если НоваяСтрокаТовары.НДСРегл = 0 Тогда
							СтавкаНДСЧислом = УчетНДС.ПолучитьСтавкуНДС(ВыборкаДетальныеЗаписи.СтавкаНДС) / 100;
							НоваяСтрокаТовары.СуммаНДС    = НоваяСтрокаТовары.Сумма / (СтавкаНДСЧислом + 1) * СтавкаНДСЧислом;
							НоваяСтрокаТовары.НДСРегл     = ВыборкаДетальныеЗаписи.СуммаСНДСРегл / (СтавкаНДСЧислом + 1) * СтавкаНДСЧислом;
							НоваяСтрокаТовары.СуммаБезНДС = НоваяСтрокаТовары.Сумма - НоваяСтрокаТовары.СуммаНДС;
						КонецЕсли;
				
						НоваяСтрокаТовары.СуммаРегл = ВыборкаДетальныеЗаписи.СуммаСНДСРегл - НоваяСтрокаТовары.НДСРегл;
				
						Если ЗначениеЗаполнено(ВыборкаДетальныеЗаписи.НомерГТД) Тогда
							НоваяСтрокаТовары.НомерГТД = Новый Структура;
							НоваяСтрокаТовары.НомерГТД.Вставить("Владелец", ВыборкаДетальныеЗаписи.Номенклатура);
							НоваяСтрокаТовары.НомерГТД.Вставить("СтранаПроисхождения", ВыборкаДетальныеЗаписи.СтранаПроисхождения);
							НоваяСтрокаТовары.НомерГТД.Вставить("ПометкаУдаления", ВыборкаДетальныеЗаписи.ПометкаУдаления);
							НоваяСтрокаТовары.НомерГТД.Вставить("Код", ВыборкаДетальныеЗаписи.НомерГТД);
						КонецЕсли;
				
						// Запоминаем серии номенклатуры, если для нее ведется учет серий
						Если ВыборкаДетальныеЗаписи.ВестиУчетПоСериям Тогда
							Если Параметры.РежимВыгрузкиСерий = 1 Тогда
								НоваяСтрокаСерии = НоваяСтрока.Серии.Добавить();
								НоваяСтрокаСерии.КоличествоУпаковок = ВыборкаДетальныеЗаписи.Количество;
								ЗаполнитьЗначенияСвойств(НоваяСтрокаСерии, ВыборкаДетальныеЗаписи);
							ИначеЕсли Параметры.РежимВыгрузкиСерий = 2 Тогда
								НоваяСтрокаТовары.Серия = ВыборкаДетальныеЗаписи.Серия;
							КонецЕсли;
						КонецЕсли;
						
					КонецЦикла;
			
				КонецЦикла;
			КонецЦикла;
		КонецЦикла;
	КонецЦикла;
	
	Если НоваяСтрока &lt;&gt; Неопределено И НоваяСтрока.Товары.Количество() = 0 Тогда
		ВыборкаДанных.Удалить(НоваяСтрока);
	КонецЕсли;	
	
Иначе // если не ведется партионный учет по складам
	
	РезультатыЗапроса = Запрос.ВыполнитьПакет();
	ТаблицаПартииТоваров    = РезультатыЗапроса[РезультатыЗапроса.Количество()-2].Выгрузить();
	ТаблицаТоваровПоСкладам = РезультатыЗапроса[РезультатыЗапроса.Количество()-1].Выгрузить();
	
	Если Не Константы.ИспользоватьХарактеристикиНоменклатуры.Получить() Тогда
		ТаблицаТоваровПоСкладам.Свернуть("Организация, Склад, Номенклатура, Характеристика, Серия, Качество, ВестиУчетПоСериям, ВестиПартионныйУчетПоСериям", "Количество");
		ТаблицаПартииТоваров.Свернуть("Организация, Номенклатура, Характеристика, Качество, Серия, СтавкаНДС, НомерГТД, СтранаПроисхождения", 
										"Количество, Сумма, НДСРегл, СуммаНДС, СуммаСНДСРегл");
	КонецЕсли;
	
	ТекущийСклад          = Неопределено;
	ТекущаяОрганизация    = Неопределено;
	
	НоваяСтрока = Неопределено;
	
	Для Каждого Строка Из ТаблицаТоваровПоСкладам Цикл
		Если Строка.Организация &lt;&gt; ТекущаяОрганизация Или ТекущийСклад &lt;&gt; Строка.Склад Тогда
			
			НоваяСтрока = ВыборкаДанных.Добавить();
			ТекущаяОрганизация    = Строка.Организация;
			ТекущийСклад          = Строка.Склад;
						
			НоваяСтрока.Дата        = КонецДня(Параметры.ДатаОстатков); 
			НоваяСтрока.Организация = ТекущаяОрганизация;
			НоваяСтрока.Склад       = Строка.Склад;
			НоваяСтрока.Комментарий = НСтр("ru = 'УТ10.3 -&gt; УТ11: Собственные товары на складах'");
			НоваяСтрока.Валюта      = Константы.ВалютаУправленческогоУчета.Получить();
			
			НоваяСтрока.Товары = Новый ТаблицаЗначений;
			НоваяСтрока.Товары.Колонки.Добавить("Номенклатура");
			НоваяСтрока.Товары.Колонки.Добавить("Характеристика");
			НоваяСтрока.Товары.Колонки.Добавить("Качество");
			НоваяСтрока.Товары.Колонки.Добавить("Количество");
			НоваяСтрока.Товары.Колонки.Добавить("КоличествоУпаковок");
			НоваяСтрока.Товары.Колонки.Добавить("Цена");
			НоваяСтрока.Товары.Колонки.Добавить("Сумма");
			НоваяСтрока.Товары.Колонки.Добавить("СуммаРегл");
			НоваяСтрока.Товары.Колонки.Добавить("СтавкаНДС");
			НоваяСтрока.Товары.Колонки.Добавить("СуммаБезНДС");
			НоваяСтрока.Товары.Колонки.Добавить("СуммаНДС");
			НоваяСтрока.Товары.Колонки.Добавить("НДСРегл");
			НоваяСтрока.Товары.Колонки.Добавить("НомерГТД");
			НоваяСтрока.Товары.Колонки.Добавить("Серия");
			НоваяСтрока.Товары.Колонки.Добавить("ВестиУчетПоСериям");
			НоваяСтрока.Товары.Колонки.Добавить("ВестиПартионныйУчетПоСериям");
			
			НоваяСтрока.Серии = Новый ТаблицаЗначений;
			НоваяСтрока.Серии.Колонки.Добавить("Номенклатура");
			НоваяСтрока.Серии.Колонки.Добавить("Характеристика");
			НоваяСтрока.Серии.Колонки.Добавить("Качество");
			НоваяСтрока.Серии.Колонки.Добавить("Серия");
			НоваяСтрока.Серии.Колонки.Добавить("Количество");
			НоваяСтрока.Серии.Колонки.Добавить("КоличествоУпаковок");
			
		КонецЕсли;
		
		СтрокаСообщения = "";
		Если Строка.Количество &lt; 0 Тогда
			СтрокаСообщения = НСтр("ru = 'Обнаружен отрицательный остаток на складе ""%1"" по товару ""%2"" при выгрузке по правилу: ""%3""'");
		КонецЕсли;
		
		Если ЗначениеЗаполнено(СтрокаСообщения) Тогда
			СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%1", Строка.Склад);
			СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%2", Строка.Номенклатура);
			СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "%3", НСтр("ru = 'Собственные товары на складах'"));
			Если Не ЗначениеЗаполнено(Строка.Склад) Тогда
				СтрокаСообщения = СтрЗаменить(СтрокаСообщения, "на складе """" ", "");
			КонецЕсли;
			ЗаписатьВПротоколВыполнения(СтрокаСообщения,,Ложь);
			Продолжить;
		КонецЕсли;

		НоваяСтрокаТовары = НоваяСтрока.Товары.Добавить();
		ЗаполнитьЗначенияСвойств(НоваяСтрокаТовары, Строка);
		НоваяСтрокаТовары.КоличествоУпаковок = Строка.Количество;
		НоваяСтрокаТовары.Цена        = 0;
		НоваяСтрокаТовары.Сумма       = 0;
		НоваяСтрокаТовары.СуммаРегл   = 0;
		НоваяСтрокаТовары.СуммаБезНДС = 0;
		НоваяСтрокаТовары.СуммаНДС    = 0;
		НоваяСтрокаТовары.НДСРегл     = 0;
		
		// Запоминаем серии номенклатуры, если для нее ведется учет серий
		Если Строка.ВестиУчетПоСериям Тогда
			Если Параметры.РежимВыгрузкиСерий = 1 Тогда
				НоваяСтрокаСерии = НоваяСтрока.Серии.Добавить();
				НоваяСтрокаСерии.КоличествоУпаковок = Строка.Количество;
				ЗаполнитьЗначенияСвойств(НоваяСтрокаСерии, Строка);
			ИначеЕсли Параметры.РежимВыгрузкиСерий = 2 Тогда
				НоваяСтрокаТовары.Серия = Строка.Серия;
			КонецЕсли;
		КонецЕсли;
											
	КонецЦикла;
	
	// Выборка разбита по складам и организациям. И количественные данные также заполнены.
	Для Каждого Строка Из ВыборкаДанных Цикл
		Для Каждого СтрокаТоваров Из Строка.Товары Цикл
			
			Если СтрокаТоваров.ВестиПартионныйУчетПоСериям Тогда
				СтруктураПоиска = Новый Структура("Организация, Номенклатура, Характеристика, Серия, Качество", 
													Строка.Организация, СтрокаТоваров.Номенклатура, СтрокаТоваров.Характеристика, СтрокаТоваров.Серия, СтрокаТоваров.Качество);
													
			Иначе										
				СтруктураПоиска = Новый Структура("Организация, Номенклатура, Характеристика, Качество", 
													Строка.Организация, СтрокаТоваров.Номенклатура, СтрокаТоваров.Характеристика, СтрокаТоваров.Качество);
													
			КонецЕсли;
			
			НайденныеСтроки = ТаблицаПартииТоваров.НайтиСтроки(СтруктураПоиска);
			Если НайденныеСтроки.Количество() &gt; 0 Тогда
					
				СтрокаПартий = НайденныеСтроки[0];
				
				Если СтрокаПартий.Количество = 0 Тогда
					Цена = СтрокаПартий.Сумма;
					ЦенаСНДСРегл = СтрокаПартий.СуммаСНДСРегл;
					ЦенаНДС = СтрокаПартий.СуммаНДС;
					ЦенаНДСРегл = СтрокаПартий.НДСРегл;
				Иначе
					Цена = СтрокаПартий.Сумма / СтрокаПартий.Количество;
					ЦенаСНДСРегл = СтрокаПартий.СуммаСНДСРегл / СтрокаПартий.Количество;
					ЦенаНДС = СтрокаПартий.СуммаНДС / СтрокаПартий.Количество;
					ЦенаНДСРегл = СтрокаПартий.НДСРегл / СтрокаПартий.Количество;
				КонецЕсли;
				
				Если ЦенаСНДСРегл &lt;= ЦенаНДСРегл Тогда
					ЦенаСНДСРегл = Окр(ЦенаНДСРегл * 1.20 / 0.20, 2);
				КонецЕсли;
				Если Цена &lt;= ЦенаНДС Тогда
					Цена = Окр(ЦенаНДС / 0.20, 2);
				КонецЕсли;
				
				СтрокаТоваров.Цена        = Окр(Цена, 2);
				СтрокаТоваров.Сумма       = Окр(Цена * СтрокаТоваров.Количество, 2);
				СтрокаТоваров.СуммаРегл   = Окр((ЦенаСНДСРегл - ЦенаНДСРегл) * СтрокаТоваров.Количество, 2);
				СтрокаТоваров.СтавкаНДС   = СтрокаПартий.СтавкаНДС;
				СтрокаТоваров.СуммаБезНДС = Окр((Цена - ЦенаНДС) * СтрокаТоваров.Количество, 2);
				СтрокаТоваров.СуммаНДС    = Окр(ЦенаНДС * СтрокаТоваров.Количество, 2);
				СтрокаТоваров.НДСРегл     = Окр(ЦенаНДСРегл * СтрокаТоваров.Количество, 2);
				
				Если ЗначениеЗаполнено(СтрокаТоваров.Серия) Тогда
					СтрокаТоваров.НомерГТД = ОбщегоНазначения.ПолучитьЗначениеРеквизита(СтрокаТоваров.Серия, "НомерГТД");
				КонецЕсли;
				Если Не ЗначениеЗаполнено(СтрокаТоваров.СтавкаНДС) Тогда
					СтрокаТоваров.СтавкаНДС = Перечисления.СтавкиНДС.НДС20;
				КонецЕсли;
				
			Иначе // это возвратная тара, она переносится в отдельном правиле, не здесь
				СтрокаТоваров.Количество = 0;
			КонецЕсли;
			
		КонецЦикла;
			
	КонецЦикла;
	
КонецЕсли;

Индекс = ВыборкаДанных.Количество()-1;
Пока Индекс &gt;= 0 Цикл
	Строка = ВыборкаДанных.Получить(Индекс);
	Если Строка.Товары.Количество() = 0 Тогда
		ВыборкаДанных.Удалить(Строка);
	Иначе
		ИндексТоваров = Строка.Товары.Количество()-1;
		Пока ИндексТоваров &gt;= 0 Цикл
			СтрокаТоваров = Строка.Товары.Получить(ИндексТоваров);
			Если Окр(СтрокаТоваров.Сумма, 2) = 0 Или СтрокаТоваров.Количество = 0 Тогда
				Строка.Товары.Удалить(СтрокаТоваров);
			КонецЕсли;
			
			ИндексТоваров = ИндексТоваров - 1;
		КонецЦикла;
		Если Строка.Товары.Количество() = 0 Тогда
			ВыборкаДанных.Удалить(Строка);
		КонецЕсли;	
	КонецЕсли;
	
	Индекс = Индекс - 1;
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="СоздатьВидНоменклатуры" ИспользуетсяПриЗагрузке="false">
				<Текст>// Попытка получения результата из кэша предыдущих вычислений

СоздатьВидНоменклатуры_РезультатПоиска = Параметры.КешВидовНоменклатуры.Получить(СоздатьВидНоменклатуры_Номенклатура);
Если СоздатьВидНоменклатуры_РезультатПоиска &lt;&gt; Неопределено Тогда
	Значение = СоздатьВидНоменклатуры_РезультатПоиска;
КонецЕсли;

Если Не ЗначениеЗаполнено(Значение) Тогда

	Значение = Новый Структура;
	Значение.Вставить("ПометкаУдаления",   Ложь);
	Значение.Вставить("ТипНоменклатуры",   СоздатьВидНоменклатуры_ТипНоменклатуры);
	Значение.Вставить("ИспользоватьСерии", СоздатьВидНоменклатуры_ИспользоватьСерии);
	Значение.Вставить("АлкогольнаяПродукция",          СоздатьВидНоменклатуры_АлкогольнаяПродукция);
	Значение.Вставить("ИмпортнаяАлкогольнаяПродукция", СоздатьВидНоменклатуры_ИмпортнаяАлкогольнаяПродукция);
	Значение.Вставить("ВидАлкогольнойПродукции",       СоздатьВидНоменклатуры_ВидАлкогольнойПродукции);
	
	Если СоздатьВидНоменклатуры_Номенклатура.ВестиУчетПоХарактеристикам Тогда
		Значение.Вставить("ИспользованиеХарактеристик", ?(Параметры.СворачиватьХарактеристики, "ОбщиеДляВидаНоменклатуры", "ИндивидуальныеДляНоменклатуры"));
	Иначе
		Значение.Вставить("ИспользованиеХарактеристик", "НеИспользовать");
	КонецЕсли;

	Если СоздатьВидНоменклатуры_АлкогольнаяПродукция Тогда
		Если Значение.ИспользованиеХарактеристик = "НеИспользовать" Тогда
			Постфикс = "(б/х, алко)";
		ИначеЕсли Значение.ИспользованиеХарактеристик = "ОбщиеДляВидаНоменклатуры" Тогда
			Постфикс = "(о/х, алко)";
		Иначе
			Постфикс = "(и/х, алко)";
		КонецЕсли;
	Иначе
		Если Значение.ИспользованиеХарактеристик = "НеИспользовать" Тогда
			Постфикс = "(б/х)";
		ИначеЕсли Значение.ИспользованиеХарактеристик = "ОбщиеДляВидаНоменклатуры" Тогда
			Постфикс = "(о/х)";
		Иначе
			Постфикс = "(и/х)";
		КонецЕсли;
	КонецЕсли;	

	СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = Лев(СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры, 49-СтрДлина(Постфикс)) + " " + Постфикс;

	СоответствиеНаименование = Новый Соответствие;
	
	// Формирование наименования
	ПерваяИтерация = Истина;
	Для Каждого КлючИЗначение Из СоответствиеНаименование Цикл
		Если ПерваяИтерация Тогда
			СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры + " (" + КлючИЗначение.Ключ;	
			ПерваяИтерация = Ложь;
		Иначе
			СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры + ", " + КлючИЗначение.Ключ;
		КонецЕсли;
	КонецЦикла;

	Если Не ПерваяИтерация Тогда
		СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры = СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры + ")";
	КонецЕсли;
		
	// Длина наименования не должна превышать 50 символов.
	СоздатьВидНоменклатуры_Наименование = Лев(СокрЛП(СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры), 50);

	Значение.Вставить("Наименование", СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры);
	
	Если Значение.ТипНоменклатуры = "МногооборотнаяТара" Тогда
		Значение.Наименование = Значение.Наименование + " (Тара)";
	КонецЕсли;

	Параметры.КешВидовНоменклатуры.Вставить(СоздатьВидНоменклатуры_Номенклатура, Значение);
	
КонецЕсли;</Текст>
				<Параметры>Значение, СоздатьВидНоменклатуры_ТипНоменклатуры, СоздатьВидНоменклатуры_Номенклатура, СоздатьВидНоменклатуры_НаименованиеВидаНоменклатуры, СоздатьВидНоменклатуры_ИспользоватьСерии, СоздатьВидНоменклатуры_ИмпортнаяАлкогольнаяПродукция, СоздатьВидНоменклатуры_АлкогольнаяПродукция, СоздатьВидНоменклатуры_ВидАлкогольнойПродукции</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ТаблицаРасчетовСПартнерами" ИспользуетсяПриЗагрузке="false">
				<Текст>РасчетыСПартнерами = Новый ТаблицаЗначений;
РасчетыСПартнерами.Колонки.Добавить("Партнер");
РасчетыСПартнерами.Колонки.Добавить("Контрагент");
РасчетыСПартнерами.Колонки.Добавить("ДатаРасчетногоДокумента");
РасчетыСПартнерами.Колонки.Добавить("НомерРасчетногоДокумента");
РасчетыСПартнерами.Колонки.Добавить("ОбъектРасчетов");
РасчетыСПартнерами.Колонки.Добавить("Сумма");
РасчетыСПартнерами.Колонки.Добавить("СуммаРегл");
РасчетыСПартнерами.Колонки.Добавить("СуммаУпр");
РасчетыСПартнерами.Колонки.Добавить("ВалютаВзаиморасчетов");
РасчетыСПартнерами.Колонки.Добавить("ДатаПлатежа");</Текст>
				<Параметры>РасчетыСПартнерами</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ШаблонПервичногоДокумента" ИспользуетсяПриЗагрузке="false">
				<Текст>ПервичныйДокумент = Новый Структура;
ПервичныйДокумент.Вставить("ТипПервичногоДокумента");
ПервичныйДокумент.Вставить("Дата");
ПервичныйДокумент.Вставить("Номер");
ПервичныйДокумент.Вставить("Организация");
ПервичныйДокумент.Вставить("Контрагент");
ПервичныйДокумент.Вставить("Договор");
ПервичныйДокумент.Вставить("Валюта");
ПервичныйДокумент.Вставить("СуммаДокумента");
ПервичныйДокумент.Вставить("СуммаРегл");
ПервичныйДокумент.Вставить("ДатаВходящегоДокумента");
ПервичныйДокумент.Вставить("НомерВходящегоДокумента");
ПервичныйДокумент.Вставить("ПорядокРасчетов");
ПервичныйДокумент.Вставить("Комментарий");</Текст>
				<Параметры>СтруктураПД</Параметры>
			</Алгоритм>
		</Группа>
		<Группа Имя="Загрузка">
			<Алгоритм Имя="ВыполнитьПроведениеДокументов" ИспользуетсяПриЗагрузке="true">
				<Текст>Для Каждого Документ Из Параметры.ДокументыДляПроведения Цикл
	
	Если Не Документ.ЭтоНовый() Тогда
		
		// Переполучаем объект, т.к. он мог быть изменен
		ДокументОбъект = Документ.Ссылка.ПолучитьОбъект();
		
		УстановитьОбменДаннымиЗагрузка(ДокументОбъект, Ложь);
		
		Попытка
			
			Если ДокументОбъект.ПроверитьЗаполнение() Тогда
			
				ДокументОбъект.ДополнительныеСвойства.Вставить("ОтключитьМеханизмРегистрацииОбъектов", Истина);
				ДокументОбъект.ДополнительныеСвойства.Вставить("НеПроверятьДатыЗапретаИзмененияДанных");
				
				// выполняем попытку проведения документа
				ДокументОбъект.Записать(РежимЗаписиДокумента.Проведение);
				
			КонецЕсли;
		Исключение
		КонецПопытки;
	Иначе
		Попытка
			ДокументОбъект.ДополнительныеСвойства.Вставить("ОтключитьМеханизмРегистрацииОбъектов", Истина);
			ДокументОбъект.ДополнительныеСвойства.Вставить("НеПроверятьДатыЗапретаИзмененияДанных");
			ДокументОбъект.Записать(РежимЗаписиДокумента.Проведение);
		Исключение
		КонецПопытки;
	КонецЕсли;
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьНаборыДопРеквизитовИСведений" ИспользуетсяПриЗагрузке="true">
				<Текст>Запрос = Новый Запрос;
Запрос.Текст = "ВЫБРАТЬ РАЗЛИЧНЫЕ
|   Ссылка,
|   ЭтоДополнительноеСведение,
|   НаборСвойств
|ИЗ ПланВидовХарактеристик.ДополнительныеРеквизитыИСведения
|ГДЕ НаборСвойств &lt;&gt; ЗНАЧЕНИЕ(Справочник.НаборыДополнительныхРеквизитовИСведений.ПустаяСсылка) И НаборСвойств.ЭтоГруппа = Ложь 
|ИТОГИ ПО НаборСвойств";
// Набор свойств общий для всех.
ВыборкаНаборСвойств = Запрос.Выполнить().Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаНаборСвойств.Следующий() Цикл
    НаборСвойствОбъект = ВыборкаНаборСвойств.НаборСвойств.ПолучитьОбъект();
    НаборСвойствОбъект.ДополнительныеРеквизиты.Очистить();
    НаборСвойствОбъект.ДополнительныеСведения.Очистить();
    Выборка = ВыборкаНаборСвойств.Выбрать();
    Пока Выборка.Следующий() Цикл
        Если Выборка.ЭтоДополнительноеСведение Тогда
            НовСтрока = НаборСвойствОбъект.ДополнительныеСведения.Добавить();
         
        Иначе
            НовСтрока = НаборСвойствОбъект.ДополнительныеРеквизиты.Добавить();
        КонецЕсли;
        НовСтрока.Свойство = Выборка.Ссылка;
    КонецЦикла;
    НаборСвойствОбъект.КоличествоРеквизитов = НаборСвойствОбъект.ДополнительныеРеквизиты.Количество();
    НаборСвойствОбъект.КоличествоСведений = НаборСвойствОбъект.ДополнительныеСведения.Количество();
    НаборСвойствОбъект.Используется = Истина;
    НаборСвойствОбъект.ОбменДанными.Загрузка = Истина;
    НаборСвойствОбъект.Записать();
КонецЦикла;
// Заполнение набора свойств в видах номенклатуры
Запрос = Новый Запрос;
Запрос.Текст = "ВЫБРАТЬ РАЗЛИЧНЫЕ
|	ШапкаНоменклатуры.ВидНоменклатуры,
|	ПВХ.Ссылка КАК СвойствоСсылка
|ИЗ Справочник.Номенклатура.ДополнительныеРеквизиты КАК ДопРекв
|   ВНУТРЕННЕЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК ШапкаНоменклатуры
|       ПО ДопРекв.Ссылка = ШапкаНоменклатуры.Ссылка
|   ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.ДополнительныеРеквизитыИСведения КАК ПВХ
|       ПО ПВХ.Ссылка = ДопРекв.Свойство 
|ГДЕ ШапкаНоменклатуры.ВидНоменклатуры.НаборСвойств = ЗНАЧЕНИЕ(Справочник.НаборыДополнительныхРеквизитовИСведений.ПустаяСсылка)
|ИТОГИ ПО ШапкаНоменклатуры.ВидНоменклатуры";
ВыборкаВидНоменклатуры = Запрос.Выполнить().Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаВидНоменклатуры.Следующий() Цикл
    НаборСвойствСсылка = Справочники.НаборыДополнительныхРеквизитовИСведений.НайтиПоНаименованию(СокрЛП(ВыборкаВидНоменклатуры.ВидНоменклатуры));
    Если НЕ ЗначениеЗаполнено(НаборСвойствСсылка) Тогда
        НаборСвойствОбъект = Справочники.НаборыДополнительныхРеквизитовИСведений.СоздатьЭлемент();
        НаборСвойствОбъект.Родитель = Справочники.НаборыДополнительныхРеквизитовИСведений.НайтиПоНаименованию("Номенклатура");
        НаборСвойствОбъект.Наименование = СокрЛП(ВыборкаВидНоменклатуры.ВидНоменклатуры);
        НаборСвойствОбъект.Используется = Истина;
        НаборСвойствОбъект.ОбменДанными.Загрузка = Истина; 
        НаборСвойствОбъект.Записать();
        НаборСвойствСсылка = НаборСвойствОбъект.Ссылка;
    Иначе
        НаборСвойствОбъект = НаборСвойствСсылка.ПолучитьОбъект();
    КонецЕсли;

    ВидНоменклатурыОбъект = ВыборкаВидНоменклатуры.ВидНоменклатуры.ПолучитьОбъект();
    ВидНоменклатурыОбъект.НаборСвойств = НаборСвойствСсылка;
    ВидНоменклатурыОбъект.ОбменДанными.Загрузка = Истина;
    ВидНоменклатурыОбъект.Записать();
    Выборка = ВыборкаВидНоменклатуры.Выбрать();
    Пока Выборка.Следующий() Цикл
        НовСтрока = НаборСвойствОбъект.ДополнительныеРеквизиты.Добавить();
        НовСтрока.Свойство = Выборка.СвойствоСсылка;
    КонецЦикла;
    НаборСвойствОбъект.КоличествоРеквизитов = НаборСвойствОбъект.ДополнительныеРеквизиты.Количество();
    НаборСвойствОбъект.ОбменДанными.Загрузка = Истина; 
    НаборСвойствОбъект.Записать();
КонецЦикла;
// Заполнение набора свойств в видах номенклатуры для характеристики
Запрос = Новый Запрос;
Запрос.Текст = "ВЫБРАТЬ РАЗЛИЧНЫЕ
|   ВЫБОР КОГДА ШапкаНоменклатуры.ВидНоменклатуры is not null ТОГДА
|	    ШапкаНоменклатуры.ВидНоменклатуры
|   ИНАЧЕ ВидыНоменклатуры.Ссылка
|   КОНЕЦ КАК ВидНоменклатуры,
|	ПВХ.Ссылка КАК СвойствоСсылка
|ИЗ Справочник.ХарактеристикиНоменклатуры.ДополнительныеРеквизиты КАК ДопРекв
|   ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК ШапкаНоменклатуры
|       ПО ДопРекв.Ссылка.Владелец = ШапкаНоменклатуры.Ссылка
|   ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ВидыНоменклатуры КАК ВидыНоменклатуры
|       ПО ДопРекв.Ссылка.Владелец = ВидыНоменклатуры.Ссылка
|   ВНУТРЕННЕЕ СОЕДИНЕНИЕ ПланВидовХарактеристик.ДополнительныеРеквизитыИСведения КАК ПВХ
|       ПО ПВХ.Ссылка = ДопРекв.Свойство 
|ГДЕ  (ШапкаНоменклатуры.ВидНоменклатуры is not null
|       И ШапкаНоменклатуры.ВидНоменклатуры.НаборСвойств = ЗНАЧЕНИЕ(Справочник.НаборыДополнительныхРеквизитовИСведений.ПустаяСсылка))
|   ИЛИ (ВидыНоменклатуры.Ссылка is not null И ВидыНоменклатуры.НаборСвойств = ЗНАЧЕНИЕ(Справочник.НаборыДополнительныхРеквизитовИСведений.ПустаяСсылка))
|ИТОГИ ПО
|   ВЫБОР КОГДА ШапкаНоменклатуры.ВидНоменклатуры is not null ТОГДА
|	    ШапкаНоменклатуры.ВидНоменклатуры
|   ИНАЧЕ ВидыНоменклатуры.Ссылка
|   КОНЕЦ ";
ВыборкаВидНоменклатуры = Запрос.Выполнить().Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаВидНоменклатуры.Следующий() Цикл
    НаборСвойствСсылка = Справочники.НаборыДополнительныхРеквизитовИСведений.НайтиПоНаименованию(СокрЛП(ВыборкаВидНоменклатуры.ВидНоменклатуры) + " (для характеристик)");
    Если НЕ ЗначениеЗаполнено(НаборСвойствСсылка) Тогда
        НаборСвойствОбъект = Справочники.НаборыДополнительныхРеквизитовИСведений.СоздатьЭлемент();
        НаборСвойствОбъект.Родитель = Справочники.НаборыДополнительныхРеквизитовИСведений.НайтиПоНаименованию("Характеристики номенклатуры");
        НаборСвойствОбъект.Наименование = СокрЛП(ВыборкаВидНоменклатуры.ВидНоменклатуры) + " (для характеристик)";
        НаборСвойствОбъект.Используется = Истина;
        НаборСвойствОбъект.ОбменДанными.Загрузка = Истина; 
        НаборСвойствОбъект.Записать();
        НаборСвойствСсылка = НаборСвойствОбъект.Ссылка;
    Иначе
        НаборСвойствОбъект = НаборСвойствСсылка.ПолучитьОбъект();
    КонецЕсли;
    ВидНоменклатурыОбъект = ВыборкаВидНоменклатуры.ВидНоменклатуры.ПолучитьОбъект();
    ВидНоменклатурыОбъект.НаборСвойствХарактеристик = НаборСвойствСсылка;
    ВидНоменклатурыОбъект.ОбменДанными.Загрузка = Истина;
    ВидНоменклатурыОбъект.Записать();
    Выборка = ВыборкаВидНоменклатуры.Выбрать();
    Пока Выборка.Следующий() Цикл
        НовСтрока = НаборСвойствОбъект.ДополнительныеРеквизиты.Добавить();
        НовСтрока.Свойство = Выборка.СвойствоСсылка;
    КонецЦикла;
    НаборСвойствОбъект.КоличествоРеквизитов = НаборСвойствОбъект.ДополнительныеРеквизиты.Количество();
    НаборСвойствОбъект.ОбменДанными.Загрузка = Истина; 
    НаборСвойствОбъект.Записать();
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ЗаполнитьНастройкиКонтроляОстатковУСкладов" ИспользуетсяПриЗагрузке="true">
				<Текст>// Определим склады, у которых не заполнена настройка контроля остатков
Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	Склады.Ссылка,
	|	Склады.КонтролироватьОбеспечение КАК КонтролироватьОбеспечение
	|ИЗ
	|	Справочник.Склады КАК Склады
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.НастройкаКонтроляОбеспечения КАК НастройкаКонтроляОбеспечения
	|		ПО (НастройкаКонтроляОбеспечения.Склад = Склады.Ссылка)
	|ГДЕ
	|	(НЕ Склады.ЭтоГруппа)
	|	И НастройкаКонтроляОбеспечения.Склад ЕСТЬ NULL");
	
ВыборкаСкладов = Запрос.Выполнить().Выбрать();

Пока ВыборкаСкладов.Следующий() Цикл
	
	МенеджерЗаписи = РегистрыСведений.НастройкаКонтроляОбеспечения.СоздатьМенеджерЗаписи();
	
	МенеджерЗаписи.Склад          = ВыборкаСкладов.Ссылка;
	МенеджерЗаписи.Контролировать = ВыборкаСкладов.КонтролироватьОбеспечение;
	
	МенеджерЗаписи.Записать();
	
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ОбновитьСтатусыУказанияСерийВДокументах" ИспользуетсяПриЗагрузке="true">
				<Текст>Запрос = Новый Запрос("ВЫБРАТЬ
	|	ВводОстатков.Ссылка
	|ИЗ
	|	Документ.ВводОстатковТоваров КАК ВводОстатков
	|ГДЕ
	|	(ВводОстатков.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВводОстатковСобственныхТоваров)
	|		ИЛИ ВводОстатков.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.ВводОстатковСобственныхТоваров))");
	
ВыборкаДокументов = Запрос.Выполнить().Выбрать();
Пока ВыборкаДокументов.Следующий() Цикл
	
	Объект = ВыборкаДокументов.Ссылка.ПолучитьОбъект();
	
	// Обновление табличной части "Серии"
	ПараметрыУказанияСерий = НоменклатураСервер.ПараметрыУказанияСерий(Объект, Документы.ВводОстатковТоваров);
	НоменклатураСервер.ЗаполнитьСтатусыУказанияСерий(Объект, ПараметрыУказанияСерий);
	
	НоменклатураСервер.ОчиститьНеиспользуемыеСерии(Объект, ПараметрыУказанияСерий);
	
	УстановитьОбменДаннымиЗагрузка(Объект);
	Объект.Записать();
	
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ОбработатьВидыНоменклатурыПослеЗаписи" ИспользуетсяПриЗагрузке="true">
				<Текст>// Определим склады, по которым есть документы ввода остатков с сериями
Запрос = Новый Запрос("
	|ВЫБРАТЬ
	|	ВводОстатковСерии.Ссылка.Склад КАК Склад,
	|	ВЫБОР
	|		КОГДА ВводОстатковСерии.Номенклатура ЕСТЬ NULL 
	|			ТОГДА ЛОЖЬ
	|		ИНАЧЕ ИСТИНА
	|	КОНЕЦ КАК ЕстьОстатки,
	|	ВводОстатковСерии.Номенклатура.ВидНоменклатуры КАК ВидНоменклатуры
	|ПОМЕСТИТЬ ТаблицаОстатков
	|ИЗ
	|	Документ.ВводОстатковТоваров.Серии КАК ВводОстатковСерии
	|ГДЕ
	|	НЕ ВводОстатковСерии.Ссылка.ПометкаУдаления
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ВводОстатковТовары.Ссылка.Склад,
	|	ВЫБОР
	|		КОГДА ВводОстатковТовары.Серия = ЗНАЧЕНИЕ(Справочник.СерииНоменклатуры.ПустаяСсылка)
	|			ТОГДА ЛОЖЬ
	|		ИНАЧЕ ИСТИНА
	|	КОНЕЦ,
	|	ВводОстатковТовары.Номенклатура.ВидНоменклатуры
	|ИЗ
	|	Документ.ВводОстатковТоваров.Товары КАК ВводОстатковТовары
	|ГДЕ
	|	НЕ ВводОстатковТовары.Ссылка.ПометкаУдаления
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	ВидНоменклатуры
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВидыНоменклатуры.Ссылка КАК ВидНоменклатуры,
	|	ТаблицаОстатков.Склад,
	|	МАКСИМУМ(ЕСТЬNULL(ТаблицаОстатков.ЕстьОстатки, ЛОЖЬ)) КАК ЕстьОстатки
	|ИЗ
	|	Справочник.ВидыНоменклатуры КАК ВидыНоменклатуры
	|		ЛЕВОЕ СОЕДИНЕНИЕ ТаблицаОстатков КАК ТаблицаОстатков
	|		ПО ВидыНоменклатуры.Ссылка = ТаблицаОстатков.ВидНоменклатуры
	|ГДЕ
	|	ВидыНоменклатуры.ИспользоватьСерии
	|	И ЕстьОстатки 
	|
	|СГРУППИРОВАТЬ ПО
	|	ВидыНоменклатуры.Ссылка,
	|	ТаблицаОстатков.Склад
	|ИТОГИ ПО
	|	ВидНоменклатуры");
	
ВыборкаВидовНоменклатуры = Запрос.Выполнить().Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам);
Пока ВыборкаВидовНоменклатуры.Следующий() Цикл
	
	ОбъектВН = ВыборкаВидовНоменклатуры.ВидНоменклатуры.ПолучитьОбъект();
	
	// Заполнение настроек использования серий
	ТекущаяПолитикаУчетаСерий = Неопределено;
	Если ОбъектВН.ПолитикиУчетаСерий.Количество() &gt; 0 Тогда
		ТекущаяПолитикаУчетаСерий = ОбъектВН.ПолитикиУчетаСерий[0].ПолитикаУчетаСерий;
    Иначе
        Продолжить;
	КонецЕсли;
	
	Если ЗначениеЗаполнено(ТекущаяПолитикаУчетаСерий) И ВыборкаВидовНоменклатуры.ЕстьОстатки Тогда
	    ОбъектВН.ПолитикиУчетаСерий.Очистить();	
		ДетальнаяВыборка = ВыборкаВидовНоменклатуры.Выбрать();
		Пока ДетальнаяВыборка.Следующий() Цикл
			НоваяСтрока                    = ОбъектВН.ПолитикиУчетаСерий.Добавить();
			НоваяСтрока.ПолитикаУчетаСерий = ТекущаяПолитикаУчетаСерий;
			НоваяСтрока.Склад              = ДетальнаяВыборка.Склад;
		КонецЦикла;
        // Запись не в режиме загрузки приведет к созданию наборов дополнительных реквизитов и установке признака использования серий у складов
        Попытка
	    ОбъектВН.Записать();
        Исключение
        КонецПопытки;
    КонецЕсли;
	
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ОбработатьПослеЗаписиСкладыУчитывающиеСерии" ИспользуетсяПриЗагрузке="true">
				<Текст>// Определим склады, по которым есть документы ввода остатков с сериями
Запрос = Новый Запрос("ВЫБРАТЬ
	|	ВводОстатковСерии.Ссылка.Склад КАК Склад
	|ИЗ
	|	Документ.ВводОстатковТоваров.Серии КАК ВводОстатковСерии
	|ГДЕ
	|	НЕ ВводОстатковСерии.Ссылка.ПометкаУдаления
	|	И НЕ ВводОстатковСерии.Ссылка.Склад.ИспользоватьОрдернуюСхемуПриОтраженииИзлишковНедостач
	|	И НЕ ВводОстатковСерии.Ссылка.Склад.ИспользоватьСерииНоменклатуры
	|
	|СГРУППИРОВАТЬ ПО
	|	ВводОстатковСерии.Ссылка.Склад
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ВводОстатковТовары.Ссылка.Склад
	|ИЗ
	|	Документ.ВводОстатковТоваров.Товары КАК ВводОстатковТовары
	|ГДЕ
	|	ВводОстатковТовары.Серия &lt;&gt; ЗНАЧЕНИЕ(Справочник.СерииНоменклатуры.ПустаяСсылка)
	|	И НЕ ВводОстатковТовары.Ссылка.ПометкаУдаления
	|	И НЕ ВводОстатковТовары.Ссылка.Склад.ИспользоватьОрдернуюСхемуПриОтраженииИзлишковНедостач
	|	И НЕ ВводОстатковТовары.Ссылка.Склад.ИспользоватьСерииНоменклатуры");
	
ВыборкаСкладов = Запрос.Выполнить().Выбрать();
Пока ВыборкаСкладов.Следующий() Цикл
	
	Объект = ВыборкаСкладов.Склад.ПолучитьОбъект();
	УстановитьОбменДаннымиЗагрузка(Объект);
	Объект.ИспользоватьОрдернуюСхемуПриОтраженииИзлишковНедостач = Истина;
	Объект.ИспользоватьСерииНоменклатуры = Истина;
	Объект.Записать();
	
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="ОбработкаСправочниковОтложенная" ИспользуетсяПриЗагрузке="true">
				<Текст>Если ИмяПКО = "Номенклатура" Тогда
	
	Если Не ЗначениеЗаполнено(Объект.ИспользованиеХарактеристик) Тогда
		
		ИспользованиеХарактеристикВидаНоменклатуры = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Объект.ВидНоменклатуры,"ИспользованиеХарактеристик");
			
		Если Не ЗначениеЗаполнено(ИспользованиеХарактеристикВидаНоменклатуры) Тогда
			Объект.ИспользованиеХарактеристик = Перечисления.ВариантыИспользованияХарактеристикНоменклатуры.НеИспользовать;
		Иначе
			Объект.ИспользованиеХарактеристик = ИспользованиеХарактеристикВидаНоменклатуры;
		КонецЕсли;
		
	КонецЕсли;
	
ИначеЕсли ИмяПКО = "ФайлыНоменклатуры" 
	Или ИмяПКО = "ФайлыПартнеров"
	Или ИмяПКО = "ФайлыПроектов"
	Или ИмяПКО = "ФайлыФизическихЛиц"
	Или ИмяПКО = "ФайлыСоглашенийСКлиентами"
	Или ИмяПКО = "ФайлыСоглашенийСПоставщиками" Тогда
	
	РаботаСФайламиСлужебный.ЗаписатьФайлВИнформационнуюБазу(Объект.Ссылка, Объект.ФайлХранилище.Получить());
	
ИначеЕсли ИмяПКО = "ДоговорСПокупателемСоглашениеСКомиссионером"
	Или ИмяПКО = "ДоговорСПокупателемСоглашениеСКлиентом" Тогда
	
	//Заполним служебный реквизит вариант расчета цен
	Объект.ЗаполнитьВариантРасчетаЦен();
	Объект.ОбменДанными.Загрузка = Истина;
	Объект.Записать();
	
КонецЕсли;</Текст>
				<Параметры>Объект, ПараметрыОбъекта, ИмяПКО</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ПередЗаписьюДокументаКорректировкаРегистров" ИспользуетсяПриЗагрузке="true">
				<Текст>Выполнить(Алгоритмы.УстановитьОтветственногоВДокумент);

Если Объект.ЭтоНовый() Тогда
	Объект.УстановитьНовыйНомер();
КонецЕсли;

Выполнить(Алгоритмы.УстановитьФлагиЗаписиУДвижений);</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="ПослеЗагрузкиПрисоединенногоФайла" ИспользуетсяПриЗагрузке="true">
				<Текст>Объект.Автор						= ПараметрыСеанса.ТекущийПользователь;
Объект.ДатаСоздания					= ТекущаяДата();
Объект.ДатаМодификацииУниверсальная	= УниверсальноеВремя(ТекущаяДата());
Объект.Изменил						= ПараметрыСеанса.ТекущийПользователь;
Объект.ИндексКартинки				= РаботаСФайламиСлужебныйКлиентСервер.ПолучитьИндексПиктограммыФайла(Объект.Расширение);</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="СерииНоменклатуры_ЗаполнитьНаименованиеПоШаблону" ИспользуетсяПриЗагрузке="true">
				<Текст>ВидНоменклатуры = Объект.ВидНоменклатуры;
Номер			= Объект.Номер;
ГоденДо			= Объект.ГоденДо;

// {{ Справочники.СерииНоменклатуры.МодульОбъекта.ПередЗаписью
	ПараметрыШаблона = Справочники.ВидыНоменклатуры.НастройкиИспользованияСерий(ВидНоменклатуры);
	
	Номер = СокрЛП(Номер);
	
	Если ПараметрыШаблона.ТочностьУказанияСрокаГодностиСерии = Перечисления.ТочностиУказанияСрокаГодности.СТочностьюДоЧасов Тогда
		ГоденДо = НачалоЧаса(ГоденДо);
	Иначе
		ГоденДо = НачалоДня(ГоденДо);
	КонецЕсли;
	
	Если ЗначениеЗаполнено(ПараметрыШаблона.ШаблонРабочегоНаименованияСерии) Тогда
		Наименование = НоменклатураСервер.НаименованиеПоШаблону(ПараметрыШаблона.ШаблонРабочегоНаименованияСерии, Объект);
	Иначе
		Наименование = НоменклатураКлиентСервер.ПредставлениеСерииБезРасчетаПоШаблонуНаименования(ПараметрыШаблона, Объект);
	КонецЕсли;
// }} Справочники.СерииНоменклатуры.МодульОбъекта.ПередЗаписью

Объект.Наименование = Наименование;
Объект.ГоденДо = ГоденДо;
Объект.Номер = Номер;</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="СформироватьСчетаФактурыПолученные" ИспользуетсяПриЗагрузке="true">
				<Текст>//Запрос = Новый Запрос("
//	|ВЫБРАТЬ
//	|	ВводОстатков.Ссылка,
//	|	ВводОстатков.Дата КАК Дата,
//	|	ВводОстатков.Организация,
//	|	ВводОстатков.Контрагент,
//	|	ВводОстатков.НомерСчетаФактуры КАК НомерСчетФактуры,
//	|	ВводОстатков.ДатаСчетаФактуры КАК ДатаСчетФактуры,
//	|	ВалютаУправленческогоУчета.Значение КАК Валюта
//	|ИЗ
//	|	Документ.ВводОстатков КАК ВводОстатков,
//	|	Константа.ВалютаУправленческогоУчета КАК ВалютаУправленческогоУчета
//	|ГДЕ
//	|	ВводОстатков.Проведен = ИСТИНА
//	|	И ВводОстатков.ПредъявленСчетФактура = ИСТИНА");
	
//Выборка = Запрос.Выполнить().Выбрать();

ВалютаСФ = Константы.ВалютаУправленческогоУчета.Получить();
Для Каждого Элемент Из Параметры.ВводОстатковСчетаФактуры Цикл
	
	ДанныеСчетаФактуры = ЗакупкиСервер.ДанныеСчетаФактурыСтруктурой(
		Элемент.Объект.Ссылка,
		Элемент.Объект.Организация,
		Элемент.Объект.Контрагент,
		Элемент.НомерСчетФактуры,
		Элемент.ДатаСчетФактуры,
		ВалютаСФ,
		Элемент.Объект.Дата);
		
	ЗакупкиСервер.ВвестиСчетФактуру(ДанныеСчетаФактуры, Истина, Ложь);
	
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="УстановитьЗначениеРеквизитаУпорядочивания" ИспользуетсяПриЗагрузке="true">
				<Текст>// Вычислим новое значение для порядка элемента
Информация = НастройкаПорядкаЭлементов.ПолучитьИнформациюДляПеремещения(Объект.Ссылка.Метаданные());
Если Объект.РеквизитДопУпорядочивания = 0 Тогда
	Объект.РеквизитДопУпорядочивания =
		НастройкаПорядкаЭлементовСлужебный.ПолучитьНовоеЗначениеРеквизитаДопУпорядочивания(
				Информация,
				?(Информация.ЕстьРодитель, Объект.Родитель, Неопределено),
				?(Информация.ЕстьВладелец, Объект.Владелец, Неопределено));
КонецЕсли;</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="УстановитьИспользованиеОпциональныхВозможностей" ИспользуетсяПриЗагрузке="true">
				<Текст>ПереченьКонстант = Новый Структура;
ПереченьЗеркальныхКонстант = Новый Структура;

Если Параметры.ЗагруженыВалюты Тогда

	Запрос = Новый Запрос("
		|ВЫБРАТЬ
		|	КОЛИЧЕСТВО(РАЗЛИЧНЫЕ Валюты.Ссылка) КАК КоличествоВалют
		|ИЗ
		|	Справочник.Валюты КАК Валюты");
		
	КоличествоВалют = 0;
	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		КоличествоВалют = Выборка.КоличествоВалют;
	КонецЕсли;

	Если КоличествоВалют &gt; 1 Тогда
		ПереченьКонстант.Вставить("ИспользоватьНесколькоВалют");
		ПереченьЗеркальныхКонстант.Вставить("НеИспользоватьНесколькоВалют");
	КонецЕсли;

КонецЕсли;

Если Параметры.ЗагруженыСклады Тогда

	Запрос = Новый Запрос("
		|ВЫБРАТЬ
		|	КОЛИЧЕСТВО(РАЗЛИЧНЫЕ Склады.Ссылка) КАК КоличествоСкладов
		|ИЗ
		|	Справочник.Склады КАК Склады");
		
	КоличествоСкладов = 0;
	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		КоличествоСкладов = Выборка.КоличествоСкладов;
	КонецЕсли;

	Если КоличествоСкладов &gt; 1 Тогда
		ПереченьКонстант.Вставить("ИспользоватьНесколькоСкладов");
		ПереченьЗеркальныхКонстант.Вставить("НеИспользоватьНесколькоСкладов");
	КонецЕсли;

КонецЕсли;

Если Параметры.ЗагруженыОрганизации Тогда

	Запрос = Новый Запрос("ВЫБРАТЬ
		|	КОЛИЧЕСТВО(РАЗЛИЧНЫЕ Организации.Ссылка) КАК КоличествоОрганизаций
		|ИЗ
		|	Справочник.Организации КАК Организации
		|ГДЕ
		|	Организации.Ссылка &lt;&gt; ЗНАЧЕНИЕ(Справочник.Организации.УправленческаяОрганизация)");
		
	КоличествоОрганизаций = 0;
	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		КоличествоОрганизаций = Выборка.КоличествоОрганизаций;
	КонецЕсли;

	Если КоличествоОрганизаций &gt; 1 Тогда
		
		Если Метаданные.Имя &lt;&gt; "УправлениеТорговлейБазовая" Тогда
			ПереченьКонстант.Вставить("ИспользоватьНесколькоОрганизаций");
			ПереченьЗеркальныхКонстант.Вставить("НеИспользоватьНесколькоОрганизаций");
		КонецЕсли;
		ПереченьКонстант.Вставить("ИспользоватьНесколькоКасс");
		
		ПереченьКонстант.Вставить("ИспользоватьНесколькоРасчетныхСчетов");
		
		ПереченьКонстант.Вставить("ИспользоватьНесколькоРасчетныхСчетовКасс");
		
	КонецЕсли;

КонецЕсли;

Если Параметры.ЗагруженыКассы Тогда

	Запрос = Новый Запрос("
		|ВЫБРАТЬ
		|	КОЛИЧЕСТВО(РАЗЛИЧНЫЕ Кассы.Ссылка) КАК КоличествоКасс
		|ИЗ
		|	Справочник.Кассы КАК Кассы");
		
		КоличествоКасс = 0;
	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		КоличествоКасс = Выборка.КоличествоКасс;
	КонецЕсли;

	Если КоличествоКасс &gt; 1 Тогда
		
		ПереченьКонстант.Вставить("ИспользоватьНесколькоКасс");
		ПереченьКонстант.Вставить("ИспользоватьНесколькоРасчетныхСчетовКасс");
		
	КонецЕсли;

КонецЕсли;

Если Параметры.ЗагруженыРасчетныеСчета Тогда

	Запрос = Новый Запрос("
		|ВЫБРАТЬ
		|	КОЛИЧЕСТВО(РАЗЛИЧНЫЕ РасчетныеСчета.Ссылка) КАК КоличествоРасчетныхСчетов
		|ИЗ
		|	Справочник.БанковскиеСчетаОрганизаций КАК РасчетныеСчета");

	КоличествоРасчетныхСчетов = 0;
	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		КоличествоРасчетныхСчетов = Выборка.КоличествоРасчетныхСчетов;
	КонецЕсли;

	Если КоличествоРасчетныхСчетов &gt; 1 Тогда
		
		ПереченьКонстант.Вставить("ИспользоватьНесколькоРасчетныхСчетов");
		ПереченьКонстант.Вставить("ИспользоватьНесколькоРасчетныхСчетовКасс");
		
	КонецЕсли;
	
КонецЕсли;

Если Параметры.ЗагруженыВидыЦен Тогда

	Запрос = Новый Запрос("
		|ВЫБРАТЬ
		|	КОЛИЧЕСТВО(РАЗЛИЧНЫЕ ВидыЦен.Ссылка) КАК КоличествоВидовЦен
		|ИЗ
		|	Справочник.ВидыЦен КАК ВидыЦен");

	КоличествоВидовЦен = 0;
	Выборка = Запрос.Выполнить().Выбрать();
	Если Выборка.Следующий() Тогда
		КоличествоВидовЦен = Выборка.КоличествоВидовЦен;
	КонецЕсли;

	Если КоличествоВидовЦен &gt; 1 Тогда
		ПереченьКонстант.Вставить("ИспользоватьНесколькоВидовЦен");
	КонецЕсли;
	
КонецЕсли;

Если Параметры.ЗагруженыРолиКонтактныхЛиц Тогда
	ПереченьКонстант.Вставить("ИспользоватьРолиКонтактныхЛицПартнеров");
КонецЕсли;

Если Параметры.ЗагруженыГруппыДоступаПартнеров Тогда
	ПереченьКонстант.Вставить("ИспользоватьГруппыДоступаПартнеров");
КонецЕсли;

Если Параметры.ЗагруженыПОЗаказовКлиентов Тогда
	ПереченьКонстант.Вставить("ИспользоватьПричиныОтменыЗаказовКлиентов");
КонецЕсли;

Если Параметры.ЗагруженыБизнесРегионы Тогда
	ПереченьКонстант.Вставить("ИспользоватьБизнесРегионы");
КонецЕсли;	

Для Каждого Константа Из ПереченьКонстант Цикл
	
	КонстантаМенеджерЗначения = Константы[Константа.Ключ].СоздатьМенеджерЗначения();
	КонстантаМенеджерЗначения.Значение = Истина;
	ЗаписатьОбъектВИБ(КонстантаМенеджерЗначения, ТипЗнч(КонстантаМенеджерЗначения));
	
КонецЦикла;

Для Каждого Константа Из ПереченьЗеркальныхКонстант Цикл
	
	КонстантаМенеджерЗначения = Константы[Константа.Ключ].СоздатьМенеджерЗначения();
	КонстантаМенеджерЗначения.Значение = Ложь;
	ЗаписатьОбъектВИБ(КонстантаМенеджерЗначения, ТипЗнч(КонстантаМенеджерЗначения));
	
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="УстановитьМенеджераВДокумент" ИспользуетсяПриЗагрузке="true">
				<Текст>Если Не ЗначениеЗаполнено(Объект.Менеджер) Тогда
	Объект.Менеджер = ПараметрыСеанса.ТекущийПользователь;
КонецЕсли;</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="УстановитьОграниченияБазовойВерсии" ИспользуетсяПриЗагрузке="true">
				<Текст>// Виды номенклатуры
Запрос = Новый Запрос;
Запрос.Текст = 
	"ВЫБРАТЬ
	|	ВидыНоменклатуры.Ссылка
	|ИЗ
	|	Справочник.ВидыНоменклатуры КАК ВидыНоменклатуры
	|ГДЕ
	|	ВидыНоменклатуры.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.МногооборотнаяТара)
	|	ИЛИ ВидыНоменклатуры.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Набор)";
	
Выборка = Запрос.Выполнить().Выбрать();
Пока Выборка.Следующий() Цикл
	Вид = Выборка.Ссылка.ПолучитьОбъект();
	Вид.ОбменДанными.Загрузка = Истина;
	Вид.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Товар;
	Вид.Записать();
КонецЦикла;

// Номенклатура
Запрос = Новый Запрос;
Запрос.Текст = 
	"ВЫБРАТЬ
	|	Номенклатура.Ссылка
	|ИЗ
	|	Справочник.Номенклатура КАК Номенклатура
	|ГДЕ
	|	Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.МногооборотнаяТара)
	|	ИЛИ Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Набор)";
	
Выборка = Запрос.Выполнить().Выбрать();
Пока Выборка.Следующий() Цикл
	Номенклатура = Выборка.Ссылка.ПолучитьОбъект();
	Номенклатура.ОбменДанными.Загрузка = Истина;
	Номенклатура.ТипНоменклатуры = Перечисления.ТипыНоменклатуры.Товар;
	Номенклатура.Записать();
КонецЦикла;

// Склады
Если Параметры.ЗагруженыСклады Тогда
	Запрос = Новый Запрос;
	Запрос.Текст = 
		"ВЫБРАТЬ
		|	Склады.Ссылка
		|ИЗ
		|	Справочник.Склады КАК Склады
		|ГДЕ
		|	Склады.ИспользоватьОрдернуюСхемуПриОтгрузке ИЛИ Склады.ИспользоватьОрдернуюСхемуПриПоступлении";
		
	Выборка = Запрос.Выполнить().Выбрать();
	Пока Выборка.Следующий() Цикл
		Склад = Выборка.Ссылка.ПолучитьОбъект();
		Склад.ОбменДанными.Загрузка = Истина;
		Склад.ИспользоватьОрдернуюСхемуПриОтгрузке = Ложь;
		Склад.ИспользоватьОрдернуюСхемуПриПоступлении = Ложь;
		Склад.Записать();
	КонецЦикла;
КонецЕсли;

СтруктураКонстант = НастройкиСистемыПовтИсп.ЗначенияКонстантКонтролируемыхВБазовойВерсии();
Для Каждого КБВ Из СтруктураКонстант Цикл
	ТекЗначение = Константы[КБВ.Ключ].Получить();
	Если ТекЗначение &lt;&gt; КБВ.Значение Тогда
		Константы[КБВ.Ключ].Установить(КБВ.Значение);
	КонецЕсли;
КонецЦикла;</Текст>
			</Алгоритм>
			<Алгоритм Имя="УстановитьОтветственногоВДокумент" ИспользуетсяПриЗагрузке="true">
				<Текст>Если Не ЗначениеЗаполнено(Объект.Ответственный) Тогда
	Объект.Ответственный = ПараметрыСеанса.ТекущийПользователь;
КонецЕсли;</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
			<Алгоритм Имя="УстановитьФлагиЗаписиУДвижений" ИспользуетсяПриЗагрузке="true">
				<Текст>Для Каждого Движение Из Объект.Движения Цикл
	Если Движение.Количество() &lt;&gt; 0 Тогда
		Движение.Записывать = Истина;
	КонецЕсли;
КонецЦикла;</Текст>
				<Параметры>Объект</Параметры>
			</Алгоритм>
		</Группа>
	</Алгоритмы>
	<Запросы>
		<Запрос Имя="ОстаткиЗаказовПокупателей" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ РАЗЛИЧНЫЕ
	ВзаиморасчетыСКонтрагентамиОстатки.Сделка
ПОМЕСТИТЬ Заказы
ИЗ
	РегистрНакопления.ВзаиморасчетыСКонтрагентами.Остатки(
			&amp;ДатаОстатков,
			Сделка ССЫЛКА Документ.ЗаказПокупателя
				И Сделка &lt;&gt; ЗНАЧЕНИЕ(Документ.ЗаказПокупателя.ПустаяСсылка)) КАК ВзаиморасчетыСКонтрагентамиОстатки
ГДЕ
	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток &lt;&gt; 0
;


////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗЛИЧНЫЕ
	Заказы.Сделка КАК Ссылка
ИЗ
	Заказы КАК Заказы</Текст>
		</Запрос>
		<Запрос Имя="ОстаткиЗаказовПоставщикам" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ РАЗЛИЧНЫЕ
	ВзаиморасчетыСКонтрагентамиОстатки.Сделка
ПОМЕСТИТЬ Заказы
ИЗ
	РегистрНакопления.ВзаиморасчетыСКонтрагентами.Остатки(
			&amp;ДатаОстатков,
			Сделка ССЫЛКА Документ.ЗаказПоставщику
				И Сделка &lt;&gt; ЗНАЧЕНИЕ(Документ.ЗаказПоставщику.ПустаяСсылка)) КАК ВзаиморасчетыСКонтрагентамиОстатки
ГДЕ
	ВзаиморасчетыСКонтрагентамиОстатки.СуммаВзаиморасчетовОстаток &lt;&gt; 0
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗЛИЧНЫЕ
	Заказы.Сделка КАК Ссылка
ИЗ
	Заказы КАК Заказы</Текст>
		</Запрос>
		<Запрос Имя="СобственныеТоварыНаСкладах" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	НДСПартииТоваровОстатки.Номенклатура КАК Номенклатура,
	НДСПартииТоваровОстатки.ХарактеристикаНоменклатуры КАК ХарактеристикаНоменклатуры,
	НДСПартииТоваровОстатки.СерияНоменклатуры КАК СерияНоменклатуры,
	НДСПартииТоваровОстатки.Склад КАК Склад,
	НДСПартииТоваровОстатки.СтавкаНДС КАК СтавкаНДС,
	СУММА(НДСПартииТоваровОстатки.СтоимостьОстаток) КАК СтоимостьОстаток,
	СУММА(НДСПартииТоваровОстатки.КоличествоОстаток) КАК КоличествоОстаток,
	СУММА(НДСПартииТоваровОстатки.НДСОстаток) КАК НДСОстаток,
	НДСПартииТоваровОстатки.Организация КАК Организация,
	НДСПартииТоваровОстатки.СчетФактура КАК СчетФактура
ПОМЕСТИТЬ НДСПоПартиям
ИЗ
	РегистрНакопления.НДСПартииТоваров.Остатки(&amp;ДатаОстатков, ) КАК НДСПартииТоваровОстатки

СГРУППИРОВАТЬ ПО
	НДСПартииТоваровОстатки.СтавкаНДС,
	НДСПартииТоваровОстатки.Организация,
	НДСПартииТоваровОстатки.ХарактеристикаНоменклатуры,
	НДСПартииТоваровОстатки.СчетФактура,
	НДСПартииТоваровОстатки.Номенклатура,
	НДСПартииТоваровОстатки.Склад,
	НДСПартииТоваровОстатки.СерияНоменклатуры

ИНДЕКСИРОВАТЬ ПО
	Организация,
	Номенклатура,
	СчетФактура,
	ХарактеристикаНоменклатуры,
	СерияНоменклатуры,
	Склад
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ЕСТЬNULL(ОстаткиТоваров.ДокументОприходования.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)) КАК Организация,
	ОстаткиТоваров.Склад КАК Склад,
	ОстаткиТоваров.Номенклатура КАК Номенклатура,
	ОстаткиТоваров.ДокументОприходования КАК ДокументОприходования,
	ОстаткиТоваров.Номенклатура.ВестиУчетПоСериям КАК ВестиУчетПоСериям,
	ОстаткиТоваров.ХарактеристикаНоменклатуры КАК Характеристика,
	ОстаткиТоваров.Качество КАК Качество,
	ОстаткиТоваров.СерияНоменклатуры КАК Серия,
	ОстаткиТоваров.СерияНоменклатуры.НомерГТД КАК НомерГТД,
	ОстаткиТоваров.СерияНоменклатуры.СтранаПроисхождения КАК СтранаПроисхождения,
	ОстаткиТоваров.СерияНоменклатуры.ПометкаУдаления КАК ПометкаУдаления,
	СУММА(ЕСТЬNULL(ОстаткиТоваров.КоличествоОстаток, 0) * ЕСТЬNULL(ОстаткиТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)) КАК Количество,
	СУММА(ЕСТЬNULL(ОстаткиТоваров.СтоимостьОстаток, 0)) КАК СуммаИтогоУпр
ПОМЕСТИТЬ ОстаткиТоваровПоПартиям
ИЗ
	РегистрНакопления.ПартииТоваровНаСкладах.Остатки(
			&amp;ДатаОстатков,
			СтатусПартии &lt;&gt; ЗНАЧЕНИЕ(Перечисление.СтатусыПартийТоваров.НаКомиссию)
				И СтатусПартии &lt;&gt; ЗНАЧЕНИЕ(Перечисление.СтатусыПартийТоваров.ВозвратнаяТара)
				И Номенклатура.ВидНоменклатуры.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)) КАК ОстаткиТоваров

СГРУППИРОВАТЬ ПО
	ОстаткиТоваров.Номенклатура,
	ОстаткиТоваров.Склад,
	ОстаткиТоваров.ХарактеристикаНоменклатуры,
	ОстаткиТоваров.Качество,
	ЕСТЬNULL(ОстаткиТоваров.ДокументОприходования.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)),
	ОстаткиТоваров.СерияНоменклатуры,
	ОстаткиТоваров.СерияНоменклатуры.НомерГТД,
	ОстаткиТоваров.СерияНоменклатуры.СтранаПроисхождения,
	ОстаткиТоваров.СерияНоменклатуры.ПометкаУдаления,
	ОстаткиТоваров.Номенклатура.ВестиУчетПоСериям,
	ОстаткиТоваров.ДокументОприходования

ИНДЕКСИРОВАТЬ ПО
	Организация
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОстаткиТоваровПоПартиям.Организация КАК Организация,
	ОстаткиТоваровПоПартиям.Склад КАК Склад,
	ОстаткиТоваровПоПартиям.Номенклатура КАК Номенклатура,
	ОстаткиТоваровПоПартиям.ДокументОприходования КАК ДокументОприходования,
	ОстаткиТоваровПоПартиям.ВестиУчетПоСериям КАК ВестиУчетПоСериям,
	ОстаткиТоваровПоПартиям.Характеристика КАК Характеристика,
	ОстаткиТоваровПоПартиям.Качество КАК Качество,
	ОстаткиТоваровПоПартиям.Серия КАК Серия,
	ОстаткиТоваровПоПартиям.НомерГТД КАК НомерГТД,
	ОстаткиТоваровПоПартиям.СтранаПроисхождения КАК СтранаПроисхождения,
	ОстаткиТоваровПоПартиям.ПометкаУдаления КАК ПометкаУдаления,
	ОстаткиТоваровПоПартиям.Количество,
	ОстаткиТоваровПоПартиям.СуммаИтогоУпр,
	ЕСТЬNULL(УчетнаяПолитикаНалоговыйУчетСрезПоследних.СложныйУчетНДС, ЛОЖЬ) КАК СложныйУчетНДС,
	ЕСТЬNULL(УчетнаяПолитикаНалоговыйУчетСрезПоследних.ПартионныйУчетНДСвРазрезеСерийИХарактеристик, ЛОЖЬ) КАК УчетНДСВРазрезеСерийИХарактеристик,
	ЕСТЬNULL(УчетнаяПолитикаНалоговыйУчетСрезПоследних.ПартионныйУчетНДСвРазрезеСкладов, ЛОЖЬ) КАК УчетНДСВРазрезеСкладов
ПОМЕСТИТЬ ОстаткиПоПартиямСУчетнойПолитикой
ИЗ
	ОстаткиТоваровПоПартиям КАК ОстаткиТоваровПоПартиям
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.УчетнаяПолитикаНалоговыйУчет.СрезПоследних(&amp;ДатаОстатков, ) КАК УчетнаяПолитикаНалоговыйУчетСрезПоследних
		ПО ОстаткиТоваровПоПартиям.Организация = УчетнаяПолитикаНалоговыйУчетСрезПоследних.Организация

ИНДЕКСИРОВАТЬ ПО
	Номенклатура,
	Организация,
	ДокументОприходования,
	УчетНДСВРазрезеСерийИХарактеристик,
	УчетНДСВРазрезеСкладов
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОстаткиПоПартиямСУчетнойПолитикой.СложныйУчетНДС КАК СложныйУчетНДС,
	ОстаткиПоПартиямСУчетнойПолитикой.Организация КАК Организация,
	ОстаткиПоПартиямСУчетнойПолитикой.Склад КАК Склад,
	
	ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования       КАК ДокументОприходования,
	ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования.Дата  КАК ДатаДокументаОприходования,
	ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования.Номер КАК НомерДокументаОприходования,
	
	МАКСИМУМ(ЕСТЬNULL(ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования.Контрагент,
		ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка)))                                           КАК Партнер,
	МАКСИМУМ(ЕСТЬNULL(ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования.ДоговорКонтрагента,
		ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка)))                                  КАК Договор,
	
	ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура КАК Номенклатура,
	ОстаткиПоПартиямСУчетнойПолитикой.ВестиУчетПоСериям,
	ОстаткиПоПартиямСУчетнойПолитикой.Характеристика,
	ОстаткиПоПартиямСУчетнойПолитикой.Качество,
	ОстаткиПоПартиямСУчетнойПолитикой.Серия,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.Количество) КАК Количество,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.СуммаИтогоУпр) КАК Сумма,
	ЕСТЬNULL(НДСПоПартиям.СтавкаНДС, ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура.СтавкаНДС) КАК СтавкаНДС,
	СУММА(ЕСТЬNULL(НДСПоПартиям.НДСОстаток, 0)) КАК НДСРегл,
	СУММА(ЕСТЬNULL(НДСПоПартиям.НДСОстаток, 0) * ВЫБОР
			КОГДА ЕСТЬNULL(КурсыВалютСрезПоследних.Курс, 0) &gt; 0
					И ЕСТЬNULL(КурсыВалютСрезПоследних.Кратность, 0) &gt; 0
				ТОГДА КурсыВалютСрезПоследних.Кратность / КурсыВалютСрезПоследних.Курс
			ИНАЧЕ 0
		КОНЕЦ) КАК СуммаНДС,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.СуммаИтогоУпр * ВЫБОР
			КОГДА ЕСТЬNULL(КурсыВалютСрезПоследних.Курс, 0) &gt; 0
					И ЕСТЬNULL(КурсыВалютСрезПоследних.Кратность, 0) &gt; 0
				ТОГДА КурсыВалютСрезПоследних.Курс / КурсыВалютСрезПоследних.Кратность
			ИНАЧЕ 0
		КОНЕЦ) КАК СуммаСНДСРегл,
	ОстаткиПоПартиямСУчетнойПолитикой.НомерГТД,
	ОстаткиПоПартиямСУчетнойПолитикой.СтранаПроисхождения,
	КурсыВалютСрезПоследних.Курс,
	ОстаткиПоПартиямСУчетнойПолитикой.ПометкаУдаления
ИЗ
	ОстаткиПоПартиямСУчетнойПолитикой КАК ОстаткиПоПартиямСУчетнойПолитикой
		ЛЕВОЕ СОЕДИНЕНИЕ НДСПоПартиям КАК НДСПоПартиям
		ПО ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура = НДСПоПартиям.Номенклатура
			И ОстаткиПоПартиямСУчетнойПолитикой.Организация = НДСПоПартиям.Организация
			И ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования = НДСПоПартиям.СчетФактура
			И (НЕ ОстаткиПоПартиямСУчетнойПолитикой.УчетНДСВРазрезеСерийИХарактеристик
				ИЛИ ОстаткиПоПартиямСУчетнойПолитикой.Серия = НДСПоПартиям.СерияНоменклатуры)
			И (НЕ ОстаткиПоПартиямСУчетнойПолитикой.УчетНДСВРазрезеСкладов
				ИЛИ ОстаткиПоПартиямСУчетнойПолитикой.Склад = НДСПоПартиям.Склад)
			И (НЕ ОстаткиПоПартиямСУчетнойПолитикой.УчетНДСВРазрезеСерийИХарактеристик
				ИЛИ ОстаткиПоПартиямСУчетнойПолитикой.Характеристика = НДСПоПартиям.ХарактеристикаНоменклатуры)
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, Валюта = &amp;ВалютаУпрУчета) КАК КурсыВалютСрезПоследних
		ПО (ИСТИНА)

СГРУППИРОВАТЬ ПО
	НДСПоПартиям.СтавкаНДС,
	ОстаткиПоПартиямСУчетнойПолитикой.Организация,
	ОстаткиПоПартиямСУчетнойПолитикой.Склад,
	ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура,
	ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования,
	ОстаткиПоПартиямСУчетнойПолитикой.ВестиУчетПоСериям,
	ОстаткиПоПартиямСУчетнойПолитикой.Характеристика,
	ОстаткиПоПартиямСУчетнойПолитикой.Качество,
	ОстаткиПоПартиямСУчетнойПолитикой.Серия,
	ОстаткиПоПартиямСУчетнойПолитикой.НомерГТД,
	ОстаткиПоПартиямСУчетнойПолитикой.СтранаПроисхождения,
	ОстаткиПоПартиямСУчетнойПолитикой.Количество,
	ОстаткиПоПартиямСУчетнойПолитикой.СуммаИтогоУпр,
	ОстаткиПоПартиямСУчетнойПолитикой.СложныйУчетНДС,
	КурсыВалютСрезПоследних.Курс,
	ОстаткиПоПартиямСУчетнойПолитикой.ПометкаУдаления,
	ЕСТЬNULL(НДСПоПартиям.СтавкаНДС, ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура.СтавкаНДС)

УПОРЯДОЧИТЬ ПО
	Организация,
	Склад,
	СложныйУчетНДС,
	Номенклатура,
	ДокументОприходования

ИТОГИ ПО
	Организация,
	Склад,
	СложныйУчетНДС,
	ДокументОприходования</Текст>
		</Запрос>
		<Запрос Имя="СобственныеТоварыНаСкладахПоСредней" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	НДСПартииТоваровОстатки.Номенклатура КАК Номенклатура,
	НДСПартииТоваровОстатки.ХарактеристикаНоменклатуры КАК ХарактеристикаНоменклатуры,
	НДСПартииТоваровОстатки.СерияНоменклатуры КАК СерияНоменклатуры,
	НДСПартииТоваровОстатки.Склад КАК Склад,
	НДСПартииТоваровОстатки.СтавкаНДС КАК СтавкаНДС,
	СУММА(НДСПартииТоваровОстатки.СтоимостьОстаток) КАК СтоимостьОстаток,
	СУММА(НДСПартииТоваровОстатки.КоличествоОстаток) КАК КоличествоОстаток,
	СУММА(НДСПартииТоваровОстатки.НДСОстаток) КАК НДСОстаток,
	НДСПартииТоваровОстатки.Организация КАК Организация,
	НДСПартииТоваровОстатки.СчетФактура КАК СчетФактура
ПОМЕСТИТЬ НДСПоПартиям
ИЗ
	РегистрНакопления.НДСПартииТоваров.Остатки(&amp;ДатаОстатков, ) КАК НДСПартииТоваровОстатки

СГРУППИРОВАТЬ ПО
	НДСПартииТоваровОстатки.СтавкаНДС,
	НДСПартииТоваровОстатки.Организация,
	НДСПартииТоваровОстатки.ХарактеристикаНоменклатуры,
	НДСПартииТоваровОстатки.СчетФактура,
	НДСПартииТоваровОстатки.Номенклатура,
	НДСПартииТоваровОстатки.Склад,
	НДСПартииТоваровОстатки.СерияНоменклатуры

ИНДЕКСИРОВАТЬ ПО
	Организация,
	Номенклатура,
	СчетФактура,
	ХарактеристикаНоменклатуры,
	СерияНоменклатуры,
	Склад
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ПартииТоваровНаСкладах.Регистратор.Организация КАК Организация,
	ПартииТоваровНаСкладах.Склад КАК Склад,
	ПартииТоваровНаСкладах.Номенклатура КАК Номенклатура,
	ПартииТоваровНаСкладах.ДокументОприходования КАК ДокументОприходования,
	ПартииТоваровНаСкладах.Номенклатура.ВестиУчетПоСериям КАК ВестиУчетПоСериям,
	ПартииТоваровНаСкладах.ХарактеристикаНоменклатуры КАК Характеристика,
	ПартииТоваровНаСкладах.Качество КАК Качество,
	ПартииТоваровНаСкладах.СерияНоменклатуры КАК Серия,
	ПартииТоваровНаСкладах.СерияНоменклатуры.НомерГТД КАК НомерГТД,
	ПартииТоваровНаСкладах.СерияНоменклатуры.СтранаПроисхождения КАК СтранаПроисхождения,
	ПартииТоваровНаСкладах.СерияНоменклатуры.ПометкаУдаления КАК ПометкаУдаления,
	СУММА(ВЫБОР
			КОГДА ПартииТоваровНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ПартииТоваровНаСкладах.Количество * ЕСТЬNULL(ПартииТоваровНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			ИНАЧЕ -ПартииТоваровНаСкладах.Количество * ЕСТЬNULL(ПартииТоваровНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
		КОНЕЦ) КАК Количество,
	СУММА(ВЫБОР
			КОГДА ПартииТоваровНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ПартииТоваровНаСкладах.Стоимость
			ИНАЧЕ -ПартииТоваровНаСкладах.Стоимость
		КОНЕЦ) КАК СуммаИтогоУпр
ПОМЕСТИТЬ ОстаткиТоваровПоПартиям
ИЗ
	РегистрНакопления.ПартииТоваровНаСкладах КАК ПартииТоваровНаСкладах
ГДЕ
	ПартииТоваровНаСкладах.Период &lt;= &amp;ДатаОстатков
	И ПартииТоваровНаСкладах.СтатусПартии &lt;&gt; ЗНАЧЕНИЕ(Перечисление.СтатусыПартийТоваров.НаКомиссию)
	И ПартииТоваровНаСкладах.СтатусПартии &lt;&gt; ЗНАЧЕНИЕ(Перечисление.СтатусыПартийТоваров.ВозвратнаяТара)
	И ПартииТоваровНаСкладах.Номенклатура.ВидНоменклатуры.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)

СГРУППИРОВАТЬ ПО
	ПартииТоваровНаСкладах.Номенклатура,
	ПартииТоваровНаСкладах.Склад,
	ПартииТоваровНаСкладах.ХарактеристикаНоменклатуры,
	ПартииТоваровНаСкладах.Качество,
	ПартииТоваровНаСкладах.Регистратор.Организация,
	ПартииТоваровНаСкладах.СерияНоменклатуры,
	ПартииТоваровНаСкладах.СерияНоменклатуры.НомерГТД,
	ПартииТоваровНаСкладах.СерияНоменклатуры.СтранаПроисхождения,
	ПартииТоваровНаСкладах.СерияНоменклатуры.ПометкаУдаления,
	ПартииТоваровНаСкладах.Номенклатура.ВестиУчетПоСериям,
	ПартииТоваровНаСкладах.ДокументОприходования

ИМЕЮЩИЕ
	(СУММА(ВЫБОР
				КОГДА ПартииТоваровНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
					ТОГДА ПартииТоваровНаСкладах.Количество * ЕСТЬNULL(ПартииТоваровНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
				ИНАЧЕ -ПартииТоваровНаСкладах.Количество * ЕСТЬNULL(ПартииТоваровНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			КОНЕЦ) &lt;&gt; 0
		ИЛИ СУММА(ВЫБОР
				КОГДА ПартииТоваровНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
					ТОГДА ПартииТоваровНаСкладах.Стоимость
				ИНАЧЕ -ПартииТоваровНаСкладах.Стоимость
			КОНЕЦ) &lt;&gt; 0)

ИНДЕКСИРОВАТЬ ПО
	Организация
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОстаткиТоваровПоПартиям.Организация КАК Организация,
	ОстаткиТоваровПоПартиям.Склад КАК Склад,
	ОстаткиТоваровПоПартиям.Номенклатура КАК Номенклатура,
	ОстаткиТоваровПоПартиям.ДокументОприходования КАК ДокументОприходования,
	ОстаткиТоваровПоПартиям.ВестиУчетПоСериям КАК ВестиУчетПоСериям,
	ОстаткиТоваровПоПартиям.Характеристика КАК Характеристика,
	ОстаткиТоваровПоПартиям.Качество КАК Качество,
	ОстаткиТоваровПоПартиям.Серия КАК Серия,
	ОстаткиТоваровПоПартиям.НомерГТД КАК НомерГТД,
	ОстаткиТоваровПоПартиям.СтранаПроисхождения КАК СтранаПроисхождения,
	ОстаткиТоваровПоПартиям.ПометкаУдаления КАК ПометкаУдаления,
	ОстаткиТоваровПоПартиям.Количество,
	ОстаткиТоваровПоПартиям.СуммаИтогоУпр,
	ЕСТЬNULL(УчетнаяПолитикаНалоговыйУчетСрезПоследних.СложныйУчетНДС, ЛОЖЬ) КАК СложныйУчетНДС,
	ЕСТЬNULL(УчетнаяПолитикаНалоговыйУчетСрезПоследних.ПартионныйУчетНДСвРазрезеСерийИХарактеристик, ЛОЖЬ) КАК УчетНДСВРазрезеСерийИХарактеристик,
	ЕСТЬNULL(УчетнаяПолитикаНалоговыйУчетСрезПоследних.ПартионныйУчетНДСвРазрезеСкладов, ЛОЖЬ) КАК УчетНДСВРазрезеСкладов
ПОМЕСТИТЬ ОстаткиПоПартиямСУчетнойПолитикой
ИЗ
	ОстаткиТоваровПоПартиям КАК ОстаткиТоваровПоПартиям
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.УчетнаяПолитикаНалоговыйУчет.СрезПоследних(&amp;ДатаОстатков, ) КАК УчетнаяПолитикаНалоговыйУчетСрезПоследних
		ПО ОстаткиТоваровПоПартиям.Организация = УчетнаяПолитикаНалоговыйУчетСрезПоследних.Организация

ИНДЕКСИРОВАТЬ ПО
	Номенклатура,
	Организация,
	ДокументОприходования,
	УчетНДСВРазрезеСерийИХарактеристик,
	УчетНДСВРазрезеСкладов
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОстаткиПоПартиямСУчетнойПолитикой.СложныйУчетНДС КАК СложныйУчетНДС,
	ОстаткиПоПартиямСУчетнойПолитикой.Организация КАК Организация,
	ОстаткиПоПартиямСУчетнойПолитикой.Склад КАК Склад,
	
	ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования       КАК ДокументОприходования,
	ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования.Дата  КАК ДатаДокументаОприходования,
	ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования.Номер КАК НомерДокументаОприходования,
	
	МАКСИМУМ(ЕСТЬNULL(ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования.Контрагент,
		ЗНАЧЕНИЕ(Справочник.Контрагенты.ПустаяСсылка)))                                           КАК Партнер,
	МАКСИМУМ(ЕСТЬNULL(ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования.ДоговорКонтрагента,
		ЗНАЧЕНИЕ(Справочник.ДоговорыКонтрагентов.ПустаяСсылка)))                                  КАК Договор,
	
	ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура КАК Номенклатура,
	ОстаткиПоПартиямСУчетнойПолитикой.ВестиУчетПоСериям,
	ОстаткиПоПартиямСУчетнойПолитикой.Характеристика,
	ОстаткиПоПартиямСУчетнойПолитикой.Качество,
	ОстаткиПоПартиямСУчетнойПолитикой.Серия,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.Количество) КАК Количество,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.СуммаИтогоУпр) КАК Сумма,
	ЕСТЬNULL(НДСПоПартиям.СтавкаНДС, ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура.СтавкаНДС) КАК СтавкаНДС,
	СУММА(ЕСТЬNULL(НДСПоПартиям.НДСОстаток, 0)) КАК НДСРегл,
	СУММА(ЕСТЬNULL(НДСПоПартиям.НДСОстаток, 0) * ВЫБОР
			КОГДА ЕСТЬNULL(КурсыВалютСрезПоследних.Курс, 0) &gt; 0
					И ЕСТЬNULL(КурсыВалютСрезПоследних.Кратность, 0) &gt; 0
				ТОГДА КурсыВалютСрезПоследних.Кратность / КурсыВалютСрезПоследних.Курс
			ИНАЧЕ 0
		КОНЕЦ) КАК СуммаНДС,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.СуммаИтогоУпр * ВЫБОР
			КОГДА ЕСТЬNULL(КурсыВалютСрезПоследних.Курс, 0) &gt; 0
					И ЕСТЬNULL(КурсыВалютСрезПоследних.Кратность, 0) &gt; 0
				ТОГДА КурсыВалютСрезПоследних.Курс / КурсыВалютСрезПоследних.Кратность
			ИНАЧЕ 0
		КОНЕЦ) КАК СуммаСНДСРегл,
	ОстаткиПоПартиямСУчетнойПолитикой.НомерГТД,
	ОстаткиПоПартиямСУчетнойПолитикой.СтранаПроисхождения,
	КурсыВалютСрезПоследних.Курс,
	ОстаткиПоПартиямСУчетнойПолитикой.ПометкаУдаления
ИЗ
	ОстаткиПоПартиямСУчетнойПолитикой КАК ОстаткиПоПартиямСУчетнойПолитикой
		ЛЕВОЕ СОЕДИНЕНИЕ НДСПоПартиям КАК НДСПоПартиям
		ПО ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура = НДСПоПартиям.Номенклатура
			И ОстаткиПоПартиямСУчетнойПолитикой.Организация = НДСПоПартиям.Организация
			И ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования = НДСПоПартиям.СчетФактура
			И (НЕ ОстаткиПоПартиямСУчетнойПолитикой.УчетНДСВРазрезеСерийИХарактеристик
				ИЛИ ОстаткиПоПартиямСУчетнойПолитикой.Серия = НДСПоПартиям.СерияНоменклатуры)
			И (НЕ ОстаткиПоПартиямСУчетнойПолитикой.УчетНДСВРазрезеСкладов
				ИЛИ ОстаткиПоПартиямСУчетнойПолитикой.Склад = НДСПоПартиям.Склад)
			И (НЕ ОстаткиПоПартиямСУчетнойПолитикой.УчетНДСВРазрезеСерийИХарактеристик
				ИЛИ ОстаткиПоПартиямСУчетнойПолитикой.Характеристика = НДСПоПартиям.ХарактеристикаНоменклатуры)
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, Валюта = &amp;ВалютаУпрУчета) КАК КурсыВалютСрезПоследних
		ПО (ИСТИНА)

СГРУППИРОВАТЬ ПО
	НДСПоПартиям.СтавкаНДС,
	ОстаткиПоПартиямСУчетнойПолитикой.Организация,
	ОстаткиПоПартиямСУчетнойПолитикой.Склад,
	ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура,
	ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования,
	ОстаткиПоПартиямСУчетнойПолитикой.ВестиУчетПоСериям,
	ОстаткиПоПартиямСУчетнойПолитикой.Характеристика,
	ОстаткиПоПартиямСУчетнойПолитикой.Качество,
	ОстаткиПоПартиямСУчетнойПолитикой.Серия,
	ОстаткиПоПартиямСУчетнойПолитикой.НомерГТД,
	ОстаткиПоПартиямСУчетнойПолитикой.СтранаПроисхождения,
	ОстаткиПоПартиямСУчетнойПолитикой.Количество,
	ОстаткиПоПартиямСУчетнойПолитикой.СуммаИтогоУпр,
	ОстаткиПоПартиямСУчетнойПолитикой.СложныйУчетНДС,
	КурсыВалютСрезПоследних.Курс,
	ОстаткиПоПартиямСУчетнойПолитикой.ПометкаУдаления,
	ЕСТЬNULL(НДСПоПартиям.СтавкаНДС, ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура.СтавкаНДС)

УПОРЯДОЧИТЬ ПО
	Организация,
	Склад,
	СложныйУчетНДС,
	Номенклатура,
	ДокументОприходования

ИТОГИ ПО
	Организация,
	Склад,
	СложныйУчетНДС,
	ДокументОприходования</Текст>
		</Запрос>
		<Запрос Имя="СобственныеТоварыПартииБезСкладов" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	НДСПартииТоваровОстатки.Номенклатура КАК Номенклатура,
	НДСПартииТоваровОстатки.ХарактеристикаНоменклатуры КАК ХарактеристикаНоменклатуры,
	НДСПартииТоваровОстатки.СерияНоменклатуры КАК СерияНоменклатуры,
	НДСПартииТоваровОстатки.СтавкаНДС КАК СтавкаНДС,
	СУММА(НДСПартииТоваровОстатки.СтоимостьОстаток) КАК СтоимостьОстаток,
	СУММА(НДСПартииТоваровОстатки.КоличествоОстаток) КАК КоличествоОстаток,
	СУММА(НДСПартииТоваровОстатки.НДСОстаток) КАК НДСОстаток,
	НДСПартииТоваровОстатки.Организация КАК Организация,
	НДСПартииТоваровОстатки.СчетФактура КАК СчетФактура
ПОМЕСТИТЬ НДСПоПартиям
ИЗ
	РегистрНакопления.НДСПартииТоваров.Остатки(&amp;ДатаОстатков, ) КАК НДСПартииТоваровОстатки

СГРУППИРОВАТЬ ПО
	НДСПартииТоваровОстатки.СтавкаНДС,
	НДСПартииТоваровОстатки.Организация,
	НДСПартииТоваровОстатки.ХарактеристикаНоменклатуры,
	НДСПартииТоваровОстатки.СчетФактура,
	НДСПартииТоваровОстатки.Номенклатура,
	НДСПартииТоваровОстатки.СерияНоменклатуры

ИНДЕКСИРОВАТЬ ПО
	Организация,
	Номенклатура,
	СчетФактура,
	ХарактеристикаНоменклатуры,
	СерияНоменклатуры
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ЕСТЬNULL(ОстаткиТоваров.ДокументОприходования.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)) КАК Организация,
	ОстаткиТоваров.Номенклатура КАК Номенклатура,
	ОстаткиТоваров.ДокументОприходования КАК ДокументОприходования,
	ОстаткиТоваров.Номенклатура.ВестиУчетПоСериям КАК ВестиУчетПоСериям,
	ОстаткиТоваров.ХарактеристикаНоменклатуры КАК Характеристика,
	ОстаткиТоваров.Качество КАК Качество,
	ОстаткиТоваров.СерияНоменклатуры КАК Серия,
	ОстаткиТоваров.СерияНоменклатуры.НомерГТД КАК НомерГТД,
	ОстаткиТоваров.СерияНоменклатуры.СтранаПроисхождения КАК СтранаПроисхождения,
	ОстаткиТоваров.СерияНоменклатуры.ПометкаУдаления КАК ПометкаУдаления,
	СУММА(ЕСТЬNULL(ОстаткиТоваров.КоличествоОстаток, 0) * ЕСТЬNULL(ОстаткиТоваров.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)) КАК Количество,
	СУММА(ЕСТЬNULL(ОстаткиТоваров.СтоимостьОстаток, 0)) КАК СуммаИтогоУпр
ПОМЕСТИТЬ ОстаткиТоваровПоПартиям
ИЗ
	РегистрНакопления.ПартииТоваровНаСкладах.Остатки(
			&amp;ДатаОстатков,
			СтатусПартии &lt;&gt; ЗНАЧЕНИЕ(Перечисление.СтатусыПартийТоваров.НаКомиссию)
				И СтатусПартии &lt;&gt; ЗНАЧЕНИЕ(Перечисление.СтатусыПартийТоваров.ВозвратнаяТара)
				И Номенклатура.ВидНоменклатуры.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)) КАК ОстаткиТоваров

СГРУППИРОВАТЬ ПО
	ОстаткиТоваров.Номенклатура,
	ОстаткиТоваров.ХарактеристикаНоменклатуры,
	ОстаткиТоваров.Качество,
	ЕСТЬNULL(ОстаткиТоваров.ДокументОприходования.Организация, ЗНАЧЕНИЕ(Справочник.Организации.ПустаяСсылка)),
	ОстаткиТоваров.СерияНоменклатуры,
	ОстаткиТоваров.СерияНоменклатуры.НомерГТД,
	ОстаткиТоваров.СерияНоменклатуры.СтранаПроисхождения,
	ОстаткиТоваров.СерияНоменклатуры.ПометкаУдаления,
	ОстаткиТоваров.Номенклатура.ВестиУчетПоСериям,
	ОстаткиТоваров.ДокументОприходования

ИНДЕКСИРОВАТЬ ПО
	Организация
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОстаткиТоваровПоПартиям.Организация КАК Организация,
	ОстаткиТоваровПоПартиям.Номенклатура КАК Номенклатура,
	ОстаткиТоваровПоПартиям.ДокументОприходования КАК ДокументОприходования,
	ОстаткиТоваровПоПартиям.ВестиУчетПоСериям КАК ВестиУчетПоСериям,
	ОстаткиТоваровПоПартиям.Характеристика КАК Характеристика,
	ОстаткиТоваровПоПартиям.Качество КАК Качество,
	ОстаткиТоваровПоПартиям.Серия КАК Серия,
	ОстаткиТоваровПоПартиям.НомерГТД КАК НомерГТД,
	ОстаткиТоваровПоПартиям.СтранаПроисхождения КАК СтранаПроисхождения,
	ОстаткиТоваровПоПартиям.ПометкаУдаления КАК ПометкаУдаления,
	ОстаткиТоваровПоПартиям.Количество,
	ОстаткиТоваровПоПартиям.СуммаИтогоУпр,
	ЕСТЬNULL(УчетнаяПолитикаНалоговыйУчетСрезПоследних.СложныйУчетНДС, ЛОЖЬ) КАК СложныйУчетНДС,
	ЕСТЬNULL(УчетнаяПолитикаНалоговыйУчетСрезПоследних.ПартионныйУчетНДСвРазрезеСерийИХарактеристик, ЛОЖЬ) КАК УчетНДСВРазрезеСерийИХарактеристик
ПОМЕСТИТЬ ОстаткиПоПартиямСУчетнойПолитикой
ИЗ
	ОстаткиТоваровПоПартиям КАК ОстаткиТоваровПоПартиям
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.УчетнаяПолитикаНалоговыйУчет.СрезПоследних(&amp;ДатаОстатков, ) КАК УчетнаяПолитикаНалоговыйУчетСрезПоследних
		ПО ОстаткиТоваровПоПартиям.Организация = УчетнаяПолитикаНалоговыйУчетСрезПоследних.Организация

ИНДЕКСИРОВАТЬ ПО
	Номенклатура,
	Организация,
	ДокументОприходования,
	УчетНДСВРазрезеСерийИХарактеристик
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОстаткиПоПартиямСУчетнойПолитикой.Организация КАК Организация,
	ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура КАК Номенклатура,
	ОстаткиПоПартиямСУчетнойПолитикой.Характеристика,
	ОстаткиПоПартиямСУчетнойПолитикой.Качество,
	ОстаткиПоПартиямСУчетнойПолитикой.Серия,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.Количество) КАК Количество,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.СуммаИтогоУпр) КАК Сумма,
	МАКСИМУМ(ЕСТЬNULL(НДСПоПартиям.СтавкаНДС, ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура.СтавкаНДС)) КАК СтавкаНДС,
	СУММА(ЕСТЬNULL(НДСПоПартиям.НДСОстаток, 0)) КАК НДСРегл,
	СУММА(ЕСТЬNULL(НДСПоПартиям.НДСОстаток, 0) * ВЫБОР
			КОГДА ЕСТЬNULL(КурсыВалютСрезПоследних.Курс, 0) &gt; 0
					И ЕСТЬNULL(КурсыВалютСрезПоследних.Кратность, 0) &gt; 0
				ТОГДА КурсыВалютСрезПоследних.Кратность / КурсыВалютСрезПоследних.Курс
			ИНАЧЕ 0
		КОНЕЦ) КАК СуммаНДС,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.СуммаИтогоУпр * ВЫБОР
			КОГДА ЕСТЬNULL(КурсыВалютСрезПоследних.Курс, 0) &gt; 0
					И ЕСТЬNULL(КурсыВалютСрезПоследних.Кратность, 0) &gt; 0
				ТОГДА КурсыВалютСрезПоследних.Курс / КурсыВалютСрезПоследних.Кратность
			ИНАЧЕ 0
		КОНЕЦ) КАК СуммаСНДСРегл,
	МАКСИМУМ(ОстаткиПоПартиямСУчетнойПолитикой.НомерГТД) КАК НомерГТД,
	МАКСИМУМ(ОстаткиПоПартиямСУчетнойПолитикой.СтранаПроисхождения) КАК СтранаПроисхождения
ИЗ
	ОстаткиПоПартиямСУчетнойПолитикой КАК ОстаткиПоПартиямСУчетнойПолитикой
		ЛЕВОЕ СОЕДИНЕНИЕ НДСПоПартиям КАК НДСПоПартиям
		ПО ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура = НДСПоПартиям.Номенклатура
			И ОстаткиПоПартиямСУчетнойПолитикой.Организация = НДСПоПартиям.Организация
			И ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования = НДСПоПартиям.СчетФактура
			И (НЕ ОстаткиПоПартиямСУчетнойПолитикой.УчетНДСВРазрезеСерийИХарактеристик
				ИЛИ ОстаткиПоПартиямСУчетнойПолитикой.Серия = НДСПоПартиям.СерияНоменклатуры)
			И (НЕ ОстаткиПоПартиямСУчетнойПолитикой.УчетНДСВРазрезеСерийИХарактеристик
				ИЛИ ОстаткиПоПартиямСУчетнойПолитикой.Характеристика = НДСПоПартиям.ХарактеристикаНоменклатуры)
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, Валюта = &amp;ВалютаУпрУчета) КАК КурсыВалютСрезПоследних
		ПО (ИСТИНА)

СГРУППИРОВАТЬ ПО
	ОстаткиПоПартиямСУчетнойПолитикой.Организация,
	ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура,
	ОстаткиПоПартиямСУчетнойПолитикой.Характеристика,
	ОстаткиПоПартиямСУчетнойПолитикой.Качество,
	ОстаткиПоПартиямСУчетнойПолитикой.Серия

УПОРЯДОЧИТЬ ПО
	Организация,
	Номенклатура,
	ОстаткиПоПартиямСУчетнойПолитикой.Характеристика,
	Серия,
	Качество

ИТОГИ ПО
	Организация
;

ВЫБРАТЬ
	ТоварыНаСкладах.Регистратор.Организация КАК Организация,
	ТоварыНаСкладах.Склад КАК Склад,
	ТоварыНаСкладах.Номенклатура КАК Номенклатура,
	ТоварыНаСкладах.Номенклатура.ВестиУчетПоСериям КАК ВестиУчетПоСериям,
	ТоварыНаСкладах.Номенклатура.ВестиПартионныйУчетПоСериям КАК ВестиПартионныйУчетПоСериям,
	ТоварыНаСкладах.ХарактеристикаНоменклатуры КАК Характеристика,
	ТоварыНаСкладах.СерияНоменклатуры КАК Серия,
	ТоварыНаСкладах.Качество КАК Качество,
	СУММА(ВЫБОР
			КОГДА ТоварыНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ТоварыНаСкладах.Количество * ЕСТЬNULL(ТоварыНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			ИНАЧЕ -ТоварыНаСкладах.Количество * ЕСТЬNULL(ТоварыНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
		КОНЕЦ) КАК Количество
ИЗ
	РегистрНакопления.ТоварыНаСкладах КАК ТоварыНаСкладах

СГРУППИРОВАТЬ ПО
	ТоварыНаСкладах.Регистратор.Организация,
	ТоварыНаСкладах.Склад,
	ТоварыНаСкладах.Качество,
	ТоварыНаСкладах.ХарактеристикаНоменклатуры,
	ТоварыНаСкладах.Номенклатура,
	ТоварыНаСкладах.Номенклатура.ВестиУчетПоСериям,
	ТоварыНаСкладах.Номенклатура.ВестиПартионныйУчетПоСериям,
	ТоварыНаСкладах.СерияНоменклатуры

ИМЕЮЩИЕ
	СУММА(ВЫБОР
			КОГДА ТоварыНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ТоварыНаСкладах.Количество * ЕСТЬNULL(ТоварыНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			ИНАЧЕ -ТоварыНаСкладах.Количество * ЕСТЬNULL(ТоварыНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
		КОНЕЦ) &lt;&gt; 0

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ТоварыВРознице.Регистратор.Организация,
	ТоварыВРознице.Склад,
	ТоварыВРознице.Номенклатура,
	ТоварыВРознице.Номенклатура.ВестиУчетПоСериям,
	ТоварыВРознице.Номенклатура.ВестиПартионныйУчетПоСериям,
	ТоварыВРознице.ХарактеристикаНоменклатуры,
	ТоварыВРознице.СерияНоменклатуры,
	ТоварыВРознице.Качество,
	СУММА(ВЫБОР
			КОГДА ТоварыВРознице.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ТоварыВРознице.Количество * ЕСТЬNULL(ТоварыВРознице.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			ИНАЧЕ -ТоварыВРознице.Количество * ЕСТЬNULL(ТоварыВРознице.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
		КОНЕЦ)
ИЗ
	РегистрНакопления.ТоварыВРознице КАК ТоварыВРознице

СГРУППИРОВАТЬ ПО
	ТоварыВРознице.Склад,
	ТоварыВРознице.Номенклатура,
	ТоварыВРознице.ХарактеристикаНоменклатуры,
	ТоварыВРознице.СерияНоменклатуры,
	ТоварыВРознице.Качество,
	ТоварыВРознице.Регистратор.Организация,
	ТоварыВРознице.Номенклатура.ВестиУчетПоСериям,
	ТоварыВРознице.Номенклатура.ВестиПартионныйУчетПоСериям

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ТоварыВНТТ.Регистратор.Организация,
	ТоварыВНТТ.Склад,
	ТоварыВНТТ.Номенклатура,
	ТоварыВНТТ.Номенклатура.ВестиУчетПоСериям,
	ТоварыВНТТ.Номенклатура.ВестиПартионныйУчетПоСериям,
	ТоварыВНТТ.ХарактеристикаНоменклатуры,
	ТоварыВНТТ.СерияНоменклатуры,
	ЗНАЧЕНИЕ(Справочник.Качество.Новый),
	СУММА(ВЫБОР
			КОГДА ТоварыВНТТ.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ТоварыВНТТ.Количество * ЕСТЬNULL(ТоварыВНТТ.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			ИНАЧЕ -ТоварыВНТТ.Количество * ЕСТЬNULL(ТоварыВНТТ.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
		КОНЕЦ)
ИЗ
	РегистрНакопления.ТоварыВНТТ КАК ТоварыВНТТ

СГРУППИРОВАТЬ ПО
	ТоварыВНТТ.Склад,
	ТоварыВНТТ.Номенклатура,
	ТоварыВНТТ.ХарактеристикаНоменклатуры,
	ТоварыВНТТ.СерияНоменклатуры,
	ТоварыВНТТ.Регистратор.Организация,
	ТоварыВНТТ.Номенклатура.ВестиУчетПоСериям,
	ТоварыВНТТ.Номенклатура.ВестиПартионныйУчетПоСериям
	
УПОРЯДОЧИТЬ ПО
	Организация,
	Склад,
	Номенклатура,
	Качество</Текст>
		</Запрос>
		<Запрос Имя="СобственныеТоварыПартииБезСкладовПоСредней" ИспользуетсяПриЗагрузке="false">
			<Текст>ВЫБРАТЬ
	НДСПартииТоваровОстатки.Номенклатура КАК Номенклатура,
	НДСПартииТоваровОстатки.ХарактеристикаНоменклатуры КАК ХарактеристикаНоменклатуры,
	НДСПартииТоваровОстатки.СерияНоменклатуры КАК СерияНоменклатуры,
	НДСПартииТоваровОстатки.СтавкаНДС КАК СтавкаНДС,
	СУММА(НДСПартииТоваровОстатки.СтоимостьОстаток) КАК СтоимостьОстаток,
	СУММА(НДСПартииТоваровОстатки.КоличествоОстаток) КАК КоличествоОстаток,
	СУММА(НДСПартииТоваровОстатки.НДСОстаток) КАК НДСОстаток,
	НДСПартииТоваровОстатки.Организация КАК Организация,
	НДСПартииТоваровОстатки.СчетФактура КАК СчетФактура
ПОМЕСТИТЬ НДСПоПартиям
ИЗ
	РегистрНакопления.НДСПартииТоваров.Остатки(&amp;ДатаОстатков, ) КАК НДСПартииТоваровОстатки

СГРУППИРОВАТЬ ПО
	НДСПартииТоваровОстатки.СтавкаНДС,
	НДСПартииТоваровОстатки.Организация,
	НДСПартииТоваровОстатки.ХарактеристикаНоменклатуры,
	НДСПартииТоваровОстатки.СчетФактура,
	НДСПартииТоваровОстатки.Номенклатура,
	НДСПартииТоваровОстатки.СерияНоменклатуры

ИНДЕКСИРОВАТЬ ПО
	Организация,
	Номенклатура,
	СчетФактура,
	ХарактеристикаНоменклатуры,
	СерияНоменклатуры
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ПартииТоваровНаСкладах.Регистратор.Организация КАК Организация,
	ПартииТоваровНаСкладах.Номенклатура КАК Номенклатура,
	ПартииТоваровНаСкладах.ДокументОприходования КАК ДокументОприходования,
	ПартииТоваровНаСкладах.Номенклатура.ВестиУчетПоСериям КАК ВестиУчетПоСериям,
	ПартииТоваровНаСкладах.ХарактеристикаНоменклатуры КАК Характеристика,
	ПартииТоваровНаСкладах.Качество КАК Качество,
	ПартииТоваровНаСкладах.СерияНоменклатуры КАК Серия,
	ПартииТоваровНаСкладах.СерияНоменклатуры.НомерГТД КАК НомерГТД,
	ПартииТоваровНаСкладах.СерияНоменклатуры.СтранаПроисхождения КАК СтранаПроисхождения,
	ПартииТоваровНаСкладах.СерияНоменклатуры.ПометкаУдаления КАК ПометкаУдаления,
	СУММА(ВЫБОР
			КОГДА ПартииТоваровНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ПартииТоваровНаСкладах.Количество * ЕСТЬNULL(ПартииТоваровНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			ИНАЧЕ -ПартииТоваровНаСкладах.Количество * ЕСТЬNULL(ПартииТоваровНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
		КОНЕЦ) КАК Количество,
	СУММА(ВЫБОР
			КОГДА ПартииТоваровНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ПартииТоваровНаСкладах.Стоимость
			ИНАЧЕ -ПартииТоваровНаСкладах.Стоимость
		КОНЕЦ) КАК СуммаИтогоУпр
ПОМЕСТИТЬ ОстаткиТоваровПоПартиям
ИЗ
	РегистрНакопления.ПартииТоваровНаСкладах КАК ПартииТоваровНаСкладах
ГДЕ
	ПартииТоваровНаСкладах.Период &lt;= &amp;ДатаОстатков
	И ПартииТоваровНаСкладах.СтатусПартии &lt;&gt; ЗНАЧЕНИЕ(Перечисление.СтатусыПартийТоваров.НаКомиссию)
	И ПартииТоваровНаСкладах.СтатусПартии &lt;&gt; ЗНАЧЕНИЕ(Перечисление.СтатусыПартийТоваров.ВозвратнаяТара)
	И ПартииТоваровНаСкладах.Номенклатура.ВидНоменклатуры.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)

СГРУППИРОВАТЬ ПО
	ПартииТоваровНаСкладах.Номенклатура,
	ПартииТоваровНаСкладах.ХарактеристикаНоменклатуры,
	ПартииТоваровНаСкладах.Качество,
	ПартииТоваровНаСкладах.Регистратор.Организация,
	ПартииТоваровНаСкладах.СерияНоменклатуры,
	ПартииТоваровНаСкладах.СерияНоменклатуры.НомерГТД,
	ПартииТоваровНаСкладах.СерияНоменклатуры.СтранаПроисхождения,
	ПартииТоваровНаСкладах.СерияНоменклатуры.ПометкаУдаления,
	ПартииТоваровНаСкладах.Номенклатура.ВестиУчетПоСериям,
	ПартииТоваровНаСкладах.ДокументОприходования

ИМЕЮЩИЕ
	(СУММА(ВЫБОР
				КОГДА ПартииТоваровНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
					ТОГДА ПартииТоваровНаСкладах.Количество * ЕСТЬNULL(ПартииТоваровНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
				ИНАЧЕ -ПартииТоваровНаСкладах.Количество * ЕСТЬNULL(ПартииТоваровНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			КОНЕЦ) &lt;&gt; 0
		ИЛИ СУММА(ВЫБОР
				КОГДА ПартииТоваровНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
					ТОГДА ПартииТоваровНаСкладах.Стоимость
				ИНАЧЕ -ПартииТоваровНаСкладах.Стоимость
			КОНЕЦ) &lt;&gt; 0)

ИНДЕКСИРОВАТЬ ПО
	Организация
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОстаткиТоваровПоПартиям.Организация КАК Организация,
	ОстаткиТоваровПоПартиям.Номенклатура КАК Номенклатура,
	ОстаткиТоваровПоПартиям.ДокументОприходования КАК ДокументОприходования,
	ОстаткиТоваровПоПартиям.ВестиУчетПоСериям КАК ВестиУчетПоСериям,
	ОстаткиТоваровПоПартиям.Характеристика КАК Характеристика,
	ОстаткиТоваровПоПартиям.Качество КАК Качество,
	ОстаткиТоваровПоПартиям.Серия КАК Серия,
	ОстаткиТоваровПоПартиям.НомерГТД КАК НомерГТД,
	ОстаткиТоваровПоПартиям.СтранаПроисхождения КАК СтранаПроисхождения,
	ОстаткиТоваровПоПартиям.ПометкаУдаления КАК ПометкаУдаления,
	ОстаткиТоваровПоПартиям.Количество,
	ОстаткиТоваровПоПартиям.СуммаИтогоУпр,
	ЕСТЬNULL(УчетнаяПолитикаНалоговыйУчетСрезПоследних.СложныйУчетНДС, ЛОЖЬ) КАК СложныйУчетНДС,
	ЕСТЬNULL(УчетнаяПолитикаНалоговыйУчетСрезПоследних.ПартионныйУчетНДСвРазрезеСерийИХарактеристик, ЛОЖЬ) КАК УчетНДСВРазрезеСерийИХарактеристик
ПОМЕСТИТЬ ОстаткиПоПартиямСУчетнойПолитикой
ИЗ
	ОстаткиТоваровПоПартиям КАК ОстаткиТоваровПоПартиям
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.УчетнаяПолитикаНалоговыйУчет.СрезПоследних(&amp;ДатаОстатков, ) КАК УчетнаяПолитикаНалоговыйУчетСрезПоследних
		ПО ОстаткиТоваровПоПартиям.Организация = УчетнаяПолитикаНалоговыйУчетСрезПоследних.Организация

ИНДЕКСИРОВАТЬ ПО
	Номенклатура,
	Организация,
	ДокументОприходования,
	УчетНДСВРазрезеСерийИХарактеристик
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ОстаткиПоПартиямСУчетнойПолитикой.Организация КАК Организация,
	ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура КАК Номенклатура,
	ОстаткиПоПартиямСУчетнойПолитикой.Характеристика,
	ОстаткиПоПартиямСУчетнойПолитикой.Качество,
	ОстаткиПоПартиямСУчетнойПолитикой.Серия,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.Количество) КАК Количество,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.СуммаИтогоУпр) КАК Сумма,
	МАКСИМУМ(ЕСТЬNULL(НДСПоПартиям.СтавкаНДС, ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура.СтавкаНДС)) КАК СтавкаНДС,
	СУММА(ЕСТЬNULL(НДСПоПартиям.НДСОстаток, 0)) КАК НДСРегл,
	СУММА(ЕСТЬNULL(НДСПоПартиям.НДСОстаток, 0) * ВЫБОР
			КОГДА ЕСТЬNULL(КурсыВалютСрезПоследних.Курс, 0) &gt; 0
					И ЕСТЬNULL(КурсыВалютСрезПоследних.Кратность, 0) &gt; 0
				ТОГДА КурсыВалютСрезПоследних.Кратность / КурсыВалютСрезПоследних.Курс
			ИНАЧЕ 0
		КОНЕЦ) КАК СуммаНДС,
	СУММА(ОстаткиПоПартиямСУчетнойПолитикой.СуммаИтогоУпр * ВЫБОР
			КОГДА ЕСТЬNULL(КурсыВалютСрезПоследних.Курс, 0) &gt; 0
					И ЕСТЬNULL(КурсыВалютСрезПоследних.Кратность, 0) &gt; 0
				ТОГДА КурсыВалютСрезПоследних.Курс / КурсыВалютСрезПоследних.Кратность
			ИНАЧЕ 0
		КОНЕЦ) КАК СуммаСНДСРегл,
	МАКСИМУМ(ОстаткиПоПартиямСУчетнойПолитикой.НомерГТД) КАК НомерГТД,
	МАКСИМУМ(ОстаткиПоПартиямСУчетнойПолитикой.СтранаПроисхождения) КАК СтранаПроисхождения
ИЗ
	ОстаткиПоПартиямСУчетнойПолитикой КАК ОстаткиПоПартиямСУчетнойПолитикой
		ЛЕВОЕ СОЕДИНЕНИЕ НДСПоПартиям КАК НДСПоПартиям
		ПО ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура = НДСПоПартиям.Номенклатура
			И ОстаткиПоПартиямСУчетнойПолитикой.Организация = НДСПоПартиям.Организация
			И ОстаткиПоПартиямСУчетнойПолитикой.ДокументОприходования = НДСПоПартиям.СчетФактура
			И (НЕ ОстаткиПоПартиямСУчетнойПолитикой.УчетНДСВРазрезеСерийИХарактеристик
				ИЛИ ОстаткиПоПартиямСУчетнойПолитикой.Серия = НДСПоПартиям.СерияНоменклатуры)
			И (НЕ ОстаткиПоПартиямСУчетнойПолитикой.УчетНДСВРазрезеСерийИХарактеристик
				ИЛИ ОстаткиПоПартиямСУчетнойПолитикой.Характеристика = НДСПоПартиям.ХарактеристикаНоменклатуры)
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют.СрезПоследних(&amp;ДатаОстатков, Валюта = &amp;ВалютаУпрУчета) КАК КурсыВалютСрезПоследних
		ПО (ИСТИНА)

СГРУППИРОВАТЬ ПО
	ОстаткиПоПартиямСУчетнойПолитикой.Организация,
	ОстаткиПоПартиямСУчетнойПолитикой.Номенклатура,
	ОстаткиПоПартиямСУчетнойПолитикой.Характеристика,
	ОстаткиПоПартиямСУчетнойПолитикой.Качество,
	ОстаткиПоПартиямСУчетнойПолитикой.Серия

УПОРЯДОЧИТЬ ПО
	Организация,
	Номенклатура,
	ОстаткиПоПартиямСУчетнойПолитикой.Характеристика,
	Серия,
	Качество

ИТОГИ ПО
	Организация
;

ВЫБРАТЬ
	ТоварыНаСкладах.Регистратор.Организация КАК Организация,
	ТоварыНаСкладах.Склад КАК Склад,
	ТоварыНаСкладах.Номенклатура КАК Номенклатура,
	ТоварыНаСкладах.Номенклатура.ВестиУчетПоСериям КАК ВестиУчетПоСериям,
	ТоварыНаСкладах.Номенклатура.ВестиПартионныйУчетПоСериям КАК ВестиПартионныйУчетПоСериям,
	ТоварыНаСкладах.ХарактеристикаНоменклатуры КАК Характеристика,
	ТоварыНаСкладах.СерияНоменклатуры КАК Серия,
	ТоварыНаСкладах.Качество КАК Качество,
	СУММА(ВЫБОР
			КОГДА ТоварыНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ТоварыНаСкладах.Количество * ЕСТЬNULL(ТоварыНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			ИНАЧЕ -ТоварыНаСкладах.Количество * ЕСТЬNULL(ТоварыНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
		КОНЕЦ) КАК Количество
ИЗ
	РегистрНакопления.ТоварыНаСкладах КАК ТоварыНаСкладах

СГРУППИРОВАТЬ ПО
	ТоварыНаСкладах.Регистратор.Организация,
	ТоварыНаСкладах.Склад,
	ТоварыНаСкладах.Качество,
	ТоварыНаСкладах.ХарактеристикаНоменклатуры,
	ТоварыНаСкладах.Номенклатура,
	ТоварыНаСкладах.Номенклатура.ВестиУчетПоСериям,
	ТоварыНаСкладах.Номенклатура.ВестиПартионныйУчетПоСериям,
	ТоварыНаСкладах.СерияНоменклатуры

ИМЕЮЩИЕ
	СУММА(ВЫБОР
			КОГДА ТоварыНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ТоварыНаСкладах.Количество * ЕСТЬNULL(ТоварыНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			ИНАЧЕ -ТоварыНаСкладах.Количество * ЕСТЬNULL(ТоварыНаСкладах.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
		КОНЕЦ) &lt;&gt; 0

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ТоварыВРознице.Регистратор.Организация,
	ТоварыВРознице.Склад,
	ТоварыВРознице.Номенклатура,
	ТоварыВРознице.Номенклатура.ВестиУчетПоСериям,
	ТоварыВРознице.Номенклатура.ВестиПартионныйУчетПоСериям,
	ТоварыВРознице.ХарактеристикаНоменклатуры,
	ТоварыВРознице.СерияНоменклатуры,
	ТоварыВРознице.Качество,
	СУММА(ВЫБОР
			КОГДА ТоварыВРознице.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ТоварыВРознице.Количество * ЕСТЬNULL(ТоварыВРознице.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			ИНАЧЕ -ТоварыВРознице.Количество * ЕСТЬNULL(ТоварыВРознице.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
		КОНЕЦ)
ИЗ
	РегистрНакопления.ТоварыВРознице КАК ТоварыВРознице

СГРУППИРОВАТЬ ПО
	ТоварыВРознице.Склад,
	ТоварыВРознице.Номенклатура,
	ТоварыВРознице.ХарактеристикаНоменклатуры,
	ТоварыВРознице.СерияНоменклатуры,
	ТоварыВРознице.Качество,
	ТоварыВРознице.Регистратор.Организация,
	ТоварыВРознице.Номенклатура.ВестиУчетПоСериям,
	ТоварыВРознице.Номенклатура.ВестиПартионныйУчетПоСериям

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ТоварыВНТТ.Регистратор.Организация,
	ТоварыВНТТ.Склад,
	ТоварыВНТТ.Номенклатура,
	ТоварыВНТТ.Номенклатура.ВестиУчетПоСериям,
	ТоварыВНТТ.Номенклатура.ВестиПартионныйУчетПоСериям,
	ТоварыВНТТ.ХарактеристикаНоменклатуры,
	ТоварыВНТТ.СерияНоменклатуры,
	ЗНАЧЕНИЕ(Справочник.Качество.Новый),
	СУММА(ВЫБОР
			КОГДА ТоварыВНТТ.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Приход)
				ТОГДА ТоварыВНТТ.Количество * ЕСТЬNULL(ТоварыВНТТ.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
			ИНАЧЕ -ТоварыВНТТ.Количество * ЕСТЬNULL(ТоварыВНТТ.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент, 1)
		КОНЕЦ)
ИЗ
	РегистрНакопления.ТоварыВНТТ КАК ТоварыВНТТ

СГРУППИРОВАТЬ ПО
	ТоварыВНТТ.Склад,
	ТоварыВНТТ.Номенклатура,
	ТоварыВНТТ.ХарактеристикаНоменклатуры,
	ТоварыВНТТ.СерияНоменклатуры,
	ТоварыВНТТ.Регистратор.Организация,
	ТоварыВНТТ.Номенклатура.ВестиУчетПоСериям,
	ТоварыВНТТ.Номенклатура.ВестиПартионныйУчетПоСериям
	
УПОРЯДОЧИТЬ ПО
	Организация,
	Склад,
	Номенклатура,
	Качество</Текст>
		</Запрос>
	</Запросы>
</ПравилаОбмена>